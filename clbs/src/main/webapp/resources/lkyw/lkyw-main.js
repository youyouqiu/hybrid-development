/*! For license information please see lkyw-main.js.LICENSE.txt */
!function(e){function t(t){for(var n,i,r=t[0],o=t[1],s=0,l=[];s<r.length;s++)i=r[s],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);l.length;)l.shift()()}var n={},i={9:0},a={9:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1}[e]&&t.push(i[e]=new Promise((function(t,n){for(var a=({0:"vendors~AmassMessage~HistoryCapture~OfflineVehicle~RealTimeVideo~RealtimeMonitor~TrackPlayback~VideoPlayback",1:"AmassMessage",2:"HistoryCapture",3:"OfflineVehicle",4:"RealTimeVideo",5:"RealtimeMonitor",6:"StatisticalReports",7:"TrackPlayback",8:"VideoPlayback",10:"vendors~RealtimeMonitor"}[e]||e)+".css",o=r.p+a,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var d=(u=s[l]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===o))return t()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){var u;if((d=(u=c[l]).getAttribute("data-href"))===a||d===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete i[e],h.parentNode.removeChild(h),n(r)},h.href=o,document.getElementsByTagName("head")[0].appendChild(h)})).then((function(){i[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=a[e]=[t,i]}));t.push(n[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=function(e){return r.p+""+({0:"vendors~AmassMessage~HistoryCapture~OfflineVehicle~RealTimeVideo~RealtimeMonitor~TrackPlayback~VideoPlayback",1:"AmassMessage",2:"HistoryCapture",3:"OfflineVehicle",4:"RealTimeVideo",5:"RealtimeMonitor",6:"StatisticalReports",7:"TrackPlayback",8:"VideoPlayback",10:"vendors~RealtimeMonitor"}[e]||e)+".bundle.js?v=033427dc5a32f92a2139"}(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}a[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/clbs/resources/lkyw/",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=s;r(r.s=57)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(0),a=n(35);function r(){a.call(this)}i(r,a),r.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},r.prototype.once=function(e,t){var n=this,i=!1;this.on(e,(function a(){n.removeListener(e,a),i||(i=!0,t.apply(this,arguments))}))},r.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];for(var r=0;r<t.length;r++)t[r].apply(this,i)}},r.prototype.on=r.prototype.addListener=a.prototype.addEventListener,r.prototype.removeListener=a.prototype.removeEventListener,e.exports.EventEmitter=r},function(e,t,n){"use strict";var i=n(25),a=Object.prototype.toString;function r(e){return"[object Array]"===a.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===a.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,a=arguments.length;i<a;i++)d(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]="object"==typeof n?e({},n):n}for(var i=0,a=arguments.length;i<a;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,(function(t,a){e[a]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";var i=n(34);e.exports={getOrigin:function(e){if(!e)return null;var t=new i(e);if("file:"===t.protocol)return null;var n=t.port;return n||(n="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},function(e,t,n){(function(e,i){var a;(function(){var r=n(56),o={function:!0,object:!0},s=o[typeof t]&&t&&!t.nodeType&&t,l=o[typeof window]&&window||this,d=s&&o[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;function c(e,t){e||(e=l.Object()),t||(t=l.Object());var n=e.Number||l.Number,i=e.String||l.String,a=e.Object||l.Object,r=e.Date||l.Date,s=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,u=e.Math||l.Math,h=e.JSON||l.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var p=a.prototype,f=p.toString,m=p.hasOwnProperty;function g(e,t){try{e()}catch(e){t&&t()}}var v=new r(-0xc782b5b800cec);function y(e){if(null!=y[e])return y[e];var a;if("bug-string-char-index"==e)a="a"!="a"[0];else if("json"==e)a=y("json-stringify")&&y("date-serialization")&&y("json-parse");else if("date-serialization"==e){if(a=y("json-stringify")&&v){var o=t.stringify;g((function(){a='"-271821-04-20T00:00:00.000Z"'==o(new r(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new r(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new r(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new r(-1))}))}}else{var s,l='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var d="function"==typeof(o=t.stringify);d&&((s=function(){return 1}).toJSON=s,g((function(){d="0"===o(0)&&"0"===o(new n)&&'""'==o(new i)&&void 0===o(f)&&void 0===o(void 0)&&void 0===o()&&"1"===o(s)&&"[1]"==o([s])&&"[null]"==o([void 0])&&"null"==o(null)&&"[null,null,null]"==o([void 0,f,null])&&o({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==l&&"1"===o(null,s)&&"[\n 1,\n 2\n]"==o([1,2],null,1)}),(function(){d=!1}))),a=d}if("json-parse"==e){var c,u=t.parse;"function"==typeof u&&g((function(){0!==u("0")||u(!1)||(s=u(l),(c=5==s.a.length&&1===s.a[0])&&(g((function(){c=!u('"\t"')})),c&&g((function(){c=1!==u("01")})),c&&g((function(){c=1!==u("1.")}))))}),(function(){c=!1})),a=c}}return y[e]=!!a}if(g((function(){v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()})),y["bug-string-char-index"]=y["date-serialization"]=y.json=y["json-stringify"]=y["json-parse"]=null,!y("json")){var b=y("bug-string-char-index"),w=function(e,t){var n,i,a,r=0;for(a in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)m.call(i,a)&&r++;return n=i=null,r?w=function(e,t){var n,i,a="[object Function]"==f.call(e);for(n in e)a&&"prototype"==n||!m.call(e,n)||(i="constructor"===n)||t(n);(i||m.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(e,t){var n,a,r="[object Function]"==f.call(e),s=!r&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||m;for(n in e)r&&"prototype"==n||!s.call(e,n)||t(n);for(a=i.length;n=i[--a];)s.call(e,n)&&t(n)}),w(e,t)};if(!y("json-stringify")&&!y("date-serialization")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_=function(e,t){return("000000"+(t||0)).slice(-e)},x=function(e){var t,n,i,a,r,o,s,l,d;if(v)t=function(e){n=e.getUTCFullYear(),i=e.getUTCMonth(),a=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),l=e.getUTCSeconds(),d=e.getUTCMilliseconds()};else{var c=u.floor,h=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(e,t){return h[t]+365*(e-1970)+c((e-1969+(t=+(t>1)))/4)-c((e-1901+t)/100)+c((e-1601+t)/400)};t=function(e){for(a=c(e/864e5),n=c(a/365.2425)+1970-1;p(n+1,0)<=a;n++);for(i=c((a-p(n,0))/30.42);p(n,i+1)<=a;i++);a=1+a-p(n,i),o=c((r=(e%864e5+864e5)%864e5)/36e5)%24,s=c(r/6e4)%60,l=c(r/1e3)%60,d=r%1e3}}return(x=function(e){return e>-1/0&&e<1/0?(t(e),e=(n<=0||n>=1e4?(n<0?"-":"+")+_(6,n<0?-n:n):_(4,n))+"-"+_(2,i+1)+"-"+_(2,a)+"T"+_(2,o)+":"+_(2,s)+":"+_(2,l)+"."+_(3,d)+"Z",n=i=a=o=s=l=d=null):e=null,e})(e)};if(y("json-stringify")&&!y("date-serialization")){function T(e){return x(this)}var S=t.stringify;t.stringify=function(e,t,n){var i=r.prototype.toJSON;r.prototype.toJSON=T;var a=S(e,t,n);return r.prototype.toJSON=i,a}}else{var k=function(e){var t=e.charCodeAt(0),n=C[t];return n||"\\u00"+_(2,t.toString(16))},E=/[\x00-\x1f\x22\x5c]/g,D=function(e){return E.lastIndex=0,'"'+(E.test(e)?e.replace(E,k):e)+'"'},A=function(e,t,n,i,a,o,s){var l,c,u,h,p,m,v,y,b;if(g((function(){l=t[e]})),"object"==typeof l&&l&&(l.getUTCFullYear&&"[object Date]"==f.call(l)&&l.toJSON===r.prototype.toJSON?l=x(l):"function"==typeof l.toJSON&&(l=l.toJSON(e))),n&&(l=n.call(t,e,l)),null==l)return void 0===l?l:"null";switch("object"==(c=typeof l)&&(u=f.call(l)),u||c){case"boolean":case"[object Boolean]":return""+l;case"number":case"[object Number]":return l>-1/0&&l<1/0?""+l:"null";case"string":case"[object String]":return D(""+l)}if("object"==typeof l){for(v=s.length;v--;)if(s[v]===l)throw d();if(s.push(l),h=[],y=o,o+=a,"[object Array]"==u){for(m=0,v=l.length;m<v;m++)p=A(m,l,n,i,a,o,s),h.push(void 0===p?"null":p);b=h.length?a?"[\n"+o+h.join(",\n"+o)+"\n"+y+"]":"["+h.join(",")+"]":"[]"}else w(i||l,(function(e){var t=A(e,l,n,i,a,o,s);void 0!==t&&h.push(D(e)+":"+(a?" ":"")+t)})),b=h.length?a?"{\n"+o+h.join(",\n"+o)+"\n"+y+"}":"{"+h.join(",")+"}":"{}";return s.pop(),b}};t.stringify=function(e,t,n){var i,a,r,s;if(o[typeof t]&&t)if("[object Function]"==(s=f.call(t)))a=t;else if("[object Array]"==s){r={};for(var l,d=0,c=t.length;d<c;)l=t[d++],"[object String]"!=(s=f.call(l))&&"[object Number]"!=s||(r[l]=1)}if(n)if("[object Number]"==(s=f.call(n))){if((n-=n%1)>0)for(n>10&&(n=10),i="";i.length<n;)i+=" "}else"[object String]"==s&&(i=n.length<=10?n:n.slice(0,10));return A("",((l={})[""]=e,l),a,r,i,"",[])}}}if(!y("json-parse")){var I,N,P=i.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},$=function(){throw I=N=null,s()},L=function(){for(var e,t,n,i,a,r=N,o=r.length;I<o;)switch(a=r.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?r.charAt(I):r[I],I++,e;case 34:for(e="@",I++;I<o;)if((a=r.charCodeAt(I))<32)$();else if(92==a)switch(a=r.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=R[a],I++;break;case 117:for(t=++I,n=I+4;I<n;I++)(a=r.charCodeAt(I))>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70||$();e+=P("0x"+r.slice(t,I));break;default:$()}else{if(34==a)break;for(a=r.charCodeAt(I),t=I;a>=32&&92!=a&&34!=a;)a=r.charCodeAt(++I);e+=r.slice(t,I)}if(34==r.charCodeAt(I))return I++,e;$();default:if(t=I,45==a&&(i=!0,a=r.charCodeAt(++I)),a>=48&&a<=57){for(48==a&&((a=r.charCodeAt(I+1))>=48&&a<=57)&&$(),i=!1;I<o&&((a=r.charCodeAt(I))>=48&&a<=57);I++);if(46==r.charCodeAt(I)){for(n=++I;n<o&&!((a=r.charCodeAt(n))<48||a>57);n++);n==I&&$(),I=n}if(101==(a=r.charCodeAt(I))||69==a){for(43!=(a=r.charCodeAt(++I))&&45!=a||I++,n=I;n<o&&!((a=r.charCodeAt(n))<48||a>57);n++);n==I&&$(),I=n}return+r.slice(t,I)}i&&$();var s=r.slice(I,I+4);if("true"==s)return I+=4,!0;if("fals"==s&&101==r.charCodeAt(I+4))return I+=5,!1;if("null"==s)return I+=4,null;$()}return"$"},M=function(e){var t,n;if("$"==e&&$(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=L());)n?","==e?"]"==(e=L())&&$():$():n=!0,","==e&&$(),t.push(M(e));return t}if("{"==e){for(t={};"}"!=(e=L());)n?","==e?"}"==(e=L())&&$():$():n=!0,","!=e&&"string"==typeof e&&"@"==(b?e.charAt(0):e[0])&&":"==L()||$(),t[e.slice(1)]=M(L());return t}$()}return e},O=function(e,t,n){var i=j(e,t,n);void 0===i?delete e[t]:e[t]=i},j=function(e,t,n){var i,a=e[t];if("object"==typeof a&&a)if("[object Array]"==f.call(a))for(i=a.length;i--;)O(f,w,a);else w(a,(function(e){O(a,e,n)}));return n.call(e,t,a)};t.parse=function(e,t){var n,i;return I=0,N=""+e,n=M(L()),"$"!=L()&&$(),I=N=null,t&&"[object Function]"==f.call(t)?j(((i={})[""]=n,i),"",t):n}}}return t.runInContext=c,t}if(!d||d.global!==d&&d.window!==d&&d.self!==d||(l=d),s&&!r)c(l,s);else{var u=l.JSON,h=l.JSON3,p=!1,f=c(l,l.JSON3={noConflict:function(){return p||(p=!0,l.JSON=u,l.JSON3=h,u=h=null),f}});l.JSON={parse:f.parse,stringify:f.stringify}}r&&(void 0===(a=function(){return f}.call(t,n,t,e))||(e.exports=a))}).call(this)}).call(this,n(151)(e),n(1))},function(e,t,n){"use strict";(function(t){var i=n(8),a={},r=!1,o=t.chrome&&t.chrome.app&&t.chrome.app.runtime;e.exports={attachEvent:function(e,n){void 0!==t.addEventListener?t.addEventListener(e,n,!1):t.document&&t.attachEvent&&(t.document.attachEvent("on"+e,n),t.attachEvent("on"+e,n))},detachEvent:function(e,n){void 0!==t.addEventListener?t.removeEventListener(e,n,!1):t.document&&t.detachEvent&&(t.document.detachEvent("on"+e,n),t.detachEvent("on"+e,n))},unloadAdd:function(e){if(o)return null;var t=i.string(8);return a[t]=e,r&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in a&&delete a[e]},triggerUnloadCallbacks:function(){for(var e in a)a[e](),delete a[e]}};o||e.exports.attachEvent("unload",(function(){r||(r=!0,e.exports.triggerUnloadCallbacks())}))}).call(this,n(1))},function(e,t,n){"use strict";var i=n(21),a=n.n(i),r=function(){function e(){}return e.get=function(e,t){return a.a.get(e,{params:t})},e.post=function(e,t){return a.a.post(e,t)},e.postSync=function(e,t){return $.ajax({type:"post",url:e,data:t,async:!1})},e}();t.a=r},function(e,t,n){"use strict";var i=n(143);e.exports={string:function(e){for(var t="abcdefghijklmnopqrstuvwxyz012345".length,n=i.randomBytes(e),a=[],r=0;r<e;r++)a.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[r]%t,1));return a.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},function(e,t,n){"use strict";var i=n(0),a=n(4),r=n(36);function o(e,t,n,i){r.call(this,e,t,function(e){return function(t,n,i){var r={};"string"==typeof n&&(r.headers={"Content-type":"text/plain"});var o=a.addPath(t,"/xhr_send"),s=new e("POST",o,n,r);return s.once("finish",(function(e){if(s=null,200!==e&&204!==e)return i(new Error("http status "+e));i()})),function(){s.close(),s=null;var e=new Error("Aborted");e.code=1e3,i(e)}}}(i),n,i)}i(o,r),e.exports=o},function(e,t,n){"use strict";var i=n(0),a=n(37);function r(e,t,n){a.call(this,e,t,n,{noCredentials:!0})}i(r,a),r.enabled=a.enabled,e.exports=r},function(e,t,n){"use strict";(function(t){e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i=n(6),a=n(5),r=n(11);e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in t||(t[e.exports.WPrefix]={})},postMessage:function(n,i){t.parent!==t&&t.parent.postMessage(a.stringify({windowId:e.exports.currentWindowId,type:n,data:i||""}),"*")},createIframe:function(e,n){var a,r,o=t.document.createElement("iframe"),s=function(){clearTimeout(a);try{o.onload=null}catch(e){}o.onerror=null},l=function(){o&&(s(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),i.unloadDel(r))},d=function(e){o&&(l(),n(e))};return o.src=e,o.style.display="none",o.style.position="absolute",o.onerror=function(){d("onerror")},o.onload=function(){clearTimeout(a),a=setTimeout((function(){d("onload timeout")}),2e3)},t.document.body.appendChild(o),a=setTimeout((function(){d("timeout")}),15e3),r=i.unloadAdd(l),{post:function(e,t){setTimeout((function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}}),0)},cleanup:l,loaded:s}},createHtmlfile:function(n,a){var r,o,s,l=["Active"].concat("Object").join("X"),d=new t[l]("htmlfile"),c=function(){clearTimeout(r),s.onerror=null},u=function(){d&&(c(),i.unloadDel(o),s.parentNode.removeChild(s),s=d=null,CollectGarbage())},h=function(e){d&&(u(),a(e))};d.open(),d.write('<html><script>document.domain="'+t.document.domain+'";<\/script></html>'),d.close(),d.parentWindow[e.exports.WPrefix]=t[e.exports.WPrefix];var p=d.createElement("div");return d.body.appendChild(p),s=d.createElement("iframe"),p.appendChild(s),s.src=n,s.onerror=function(){h("onerror")},r=setTimeout((function(){h("timeout")}),15e3),o=i.unloadAdd(u),{post:function(e,t){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}),0)}catch(e){}},cleanup:u,loaded:c}}},e.exports.iframeEnabled=!1,t.document&&(e.exports.iframeEnabled=("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!r.isKonqueror())}).call(this,n(1))},function(e,t){e.exports=jQuery},function(e,t,n){var i,a;!function(r){if(void 0===(a="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=a),!0,e.exports=r(),!!0){var o=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=o,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function a(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},a.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var a={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var s=r[o].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var d=t(s[0]);if(l=(i.read||i)(l,d)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(a[d]=l,e===d)break}catch(e){}}return e?a[e]:a}}return a.set=r,a.get=function(e){return o(e,!1)},a.getJSON=function(e){return o(e,!0)},a.remove=function(t,n){r(t,"",e(n,{expires:-1}))},a.defaults={},a.withConverter=n,a}((function(){}))}))},function(e,t,n){"use strict";var i=n(0),a=n(2).EventEmitter;function r(e,t){a.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){n._chunkHandler(e,t),n.xo=null;var i=200===e?"network":"permanent";n.emit("close",null,i),n._cleanup()}))}i(r,a),r.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(-1===(n=i.indexOf("\n")))break;var a=i.slice(0,n);a&&this.emit("message",a)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=r},function(e,t,n){"use strict";var i=n(0),a=n(37);function r(e,t,n,i){a.call(this,e,t,n,i)}i(r,a),r.enabled=a.enabled&&a.supportsCORS,e.exports=r},function(e,t,n){"use strict";(function(t){var i=n(2).EventEmitter,a=n(0),r=n(6),o=n(11),s=n(4);function l(e,t,n){var a=this;i.call(this),setTimeout((function(){a._start(e,t,n)}),0)}a(l,i),l.prototype._start=function(e,n,i){var a=this,o=new t.XDomainRequest;n=s.addQuery(n,"t="+ +new Date),o.onerror=function(){a._error()},o.ontimeout=function(){a._error()},o.onprogress=function(){o.responseText,a.emit("chunk",200,o.responseText)},o.onload=function(){a.emit("finish",200,o.responseText),a._cleanup(!1)},this.xdr=o,this.unloadRef=r.unloadAdd((function(){a._cleanup(!0)}));try{this.xdr.open(e,n),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(i)}catch(e){this._error()}},l.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},l.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!(!t.XDomainRequest||!o.hasDomain()),e.exports=l}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i=n(0),a=n(41),r=n(19);e.exports=function(e){function n(t,n){a.call(this,e.transportName,t,n)}return i(n,a),n.enabled=function(n,i){if(!t.document)return!1;var o=r.extend({},i);return o.sameOrigin=!0,e.enabled(o)&&a.enabled()},n.transportName="iframe-"+e.transportName,n.needBody=!0,n.roundTrips=a.roundTrips+e.roundTrips-1,n.facadeTransport=e,n}}).call(this,n(1))},function(e,t,n){"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,i=1,a=arguments.length;i<a;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},function(e,t,n){"use strict";function i(e){this.type=e}i.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,e.exports=i},function(e,t,n){e.exports=n(124)},function(e,t,n){"use strict";var i,a=n(33),r=n(48),o=function(){function e(){this.socket=null,this.subscribeArr=[],this.url="",this.conFlag=!1,this.unsubscribeMap={},this.stompClient=null}return e.prototype.init=function(e,t,n,i,o,s){this.url=e,this.socket=new a(this.url),this.stompClient=r.over(this.socket),this.stompClient.debug=null;var l=this;l.stompClient.connect(t,(function(){l.conFlag=!0,l.subscribeAndSend(n,i,o,t,s)}))},e.prototype.send=function(e,t,n){this.stompClient.send(e,t,JSON.stringify(n))},e.prototype.subscribeAndSend=function(e,t,n,i,a,r){e&&(-1===this.subscribeArr.indexOf(e)||r)&&(-1===this.subscribeArr.indexOf(e)&&this.subscribeArr.push(e),this.unsubscribeMap[e]=this.stompClient.subscribe(e,t,JSON.parse(JSON.stringify(i)))),this.send(n,i,a)},e.prototype.subscribe=function(e,t,n,i,a,r){if(this.stompClient.connected)this.subscribeAndSend(t,n,i,e,a,r);else{var o=this;o.stompClient.connect(e,(function(){o.conFlag=!0,o.subscribeAndSend(t,n,i,e,a)}))}},e.prototype.unsubscribealarm=function(e,t,n){this.stompClient.send(t,e,JSON.stringify(n))},e.prototype.abort=function(e,t){this.stompClient.disconnect(t,e)},e.prototype.unsubscribe=function(e){var t=this.unsubscribeMap[e];t&&(t.unsubscribe(),delete this.unsubscribeMap[e]);var n=this.subscribeArr.indexOf(e);n>-1&&this.subscribeArr.splice(n,1)},e.prototype.close=function(){null==this.socket||this.socket.close()},e}();t.a=function(e){if(i)return i;i=new o;var t="/clbs/ws?access_token="+e.access_token;return i.init(t,e,null,null,null,null),i}},function(e,t,n){var i,a,r;!function(o){"use strict";a=[n(13)],void 0===(r="function"==typeof(i=function(e){var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var n=!!e.fn.prop;function i(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function a(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var a=i.closest("[type=submit]");if(0===a.length)return;n=a[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=i.offset();r.clk_x=t.pageX-o.left,r.clk_y=t.pageY-o.top}else r.clk_x=t.pageX-n.offsetLeft,r.clk_y=t.pageY-n.offsetTop;setTimeout((function(){r.clk=r.clk_x=r.clk_y=null}),100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(i){if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var a,o,s,l=this;"function"==typeof i?i={success:i}:void 0===i&&(i={}),a=i.type||this.attr2("method"),(s=(s="string"==typeof(o=i.url||this.attr2("action"))?e.trim(o):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:a||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var d={};if(this.trigger("form-pre-serialize",[this,i,d]),d.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&!1===i.beforeSerialize(this,i))return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var c=i.traditional;void 0===c&&(c=e.ajaxSettings.traditional);var u,h=[],p=this.formToArray(i.semantic,h);if(i.data&&(i.extraData=i.data,u=e.param(i.data,c)),i.beforeSubmit&&!1===i.beforeSubmit(p,this,i))return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[p,this,i,d]),d.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=e.param(p,c);u&&(f=f?f+"&"+u:u),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+f,i.data=null):i.data=f;var m=[];if(i.resetForm&&m.push((function(){l.resetForm()})),i.clearForm&&m.push((function(){l.clearForm(i.includeHidden)})),!i.dataType&&i.target){var g=i.success||function(){};m.push((function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(g,arguments)}))}else i.success&&m.push(i.success);if(i.success=function(e,t,n){for(var a=i.context||this,r=0,o=m.length;r<o;r++)m[r].apply(a,[e,t,n||l,l])},i.error){var v=i.error;i.error=function(e,t,n){var a=i.context||this;v.apply(a,[e,t,n,l])}}if(i.complete){var y=i.complete;i.complete=function(e,t){var n=i.context||this;y.apply(n,[e,t,l])}}var b=e("input[type=file]:enabled",this).filter((function(){return""!==e(this).val()})).length>0,w="multipart/form-data",C=l.attr("enctype")==w||l.attr("encoding")==w,_=t.fileapi&&t.formdata;r("fileAPI :"+_);var x,T=(b||C)&&!_;!1!==i.iframe&&(i.iframe||T)?i.closeKeepAlive?e.get(i.closeKeepAlive,(function(){x=k(p)})):x=k(p):x=(b||C)&&_?function(t){for(var n=new FormData,r=0;r<t.length;r++)n.append(t[r].name,t[r].value);if(i.extraData){var o=function(t){var n,a,r=e.param(t,i.traditional).split("&"),o=r.length,s=[];for(n=0;n<o;n++)r[n]=r[n].replace(/\+/g," "),a=r[n].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}(i.extraData);for(r=0;r<o.length;r++)o[r]&&n.append(o[r][0],o[r][1])}i.data=null;var s=e.extend(!0,{},e.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:a||"POST"});i.uploadProgress&&(s.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",(function(e){var t=0,n=e.loaded||e.position,a=e.total;e.lengthComputable&&(t=Math.ceil(n/a*100)),i.uploadProgress(e,n,a,t)}),!1),t});s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){i.formData?t.data=i.formData:t.data=n,l&&l.call(this,e,t)},e.ajax(s)}(p):e.ajax(i),l.removeData("jqxhr").data("jqxhr",x);for(var S=0;S<h.length;S++)h[S]=null;return this.trigger("form-submit-notify",[this,i]),this;function k(t){var o,s,d,c,u,p,f,m,g,v,y,b,w=l[0],C=e.Deferred();if(C.abort=function(e){m.abort(e)},t)for(s=0;s<h.length;s++)o=e(h[s]),n?o.prop("disabled",!1):o.removeAttr("disabled");if((d=e.extend(!0,{},e.ajaxSettings,i)).context=d.context||d,u="jqFormIO"+(new Date).getTime(),d.iframeTarget?(v=(p=e(d.iframeTarget)).attr2("name"))?u=v:p.attr2("name",u):(p=e('<iframe name="'+u+'" src="'+d.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),f=p[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";r("aborting upload... "+n),this.aborted=1;try{f.contentWindow.document.execCommand&&f.contentWindow.document.execCommand("Stop")}catch(e){}p.attr("src",d.iframeSrc),m.error=n,d.error&&d.error.call(d.context,m,n,t),c&&e.event.trigger("ajaxError",[m,d,n]),d.complete&&d.complete.call(d.context,m,n)}},(c=d.global)&&0==e.active++&&e.event.trigger("ajaxStart"),c&&e.event.trigger("ajaxSend",[m,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,m,d))return d.global&&e.active--,C.reject(),C;if(m.aborted)return C.reject(),C;(g=w.clk)&&(v=g.name)&&!g.disabled&&(d.extraData=d.extraData||{},d.extraData[v]=g.value,"image"==g.type&&(d.extraData[v+".x"]=w.clk_x,d.extraData[v+".y"]=w.clk_y));function _(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){r("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){r("cannot get iframe.contentDocument: "+n),t=e.document}return t}var x=e("meta[name=csrf-token]").attr("content"),T=e("meta[name=csrf-param]").attr("content");function S(){var t=l.attr2("target"),n=l.attr2("action"),i=l.attr("enctype")||l.attr("encoding")||"multipart/form-data";w.setAttribute("target",u),a&&!/post/i.test(a)||w.setAttribute("method","POST"),n!=d.url&&w.setAttribute("action",d.url),d.skipEncodingOverride||a&&!/post/i.test(a)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(b=setTimeout((function(){y=!0,I(1)}),d.timeout));var o=[];try{if(d.extraData)for(var s in d.extraData)d.extraData.hasOwnProperty(s)&&(e.isPlainObject(d.extraData[s])&&d.extraData[s].hasOwnProperty("name")&&d.extraData[s].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+d.extraData[s].name+'">').val(d.extraData[s].value).appendTo(w)[0]):o.push(e('<input type="hidden" name="'+s+'">').val(d.extraData[s]).appendTo(w)[0]));d.iframeTarget||p.appendTo("body"),f.attachEvent?f.attachEvent("onload",I):f.addEventListener("load",I,!1),setTimeout((function e(){try{var t=_(f).readyState;r("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){r("Server abort: ",e," (",e.name,")"),I(2),b&&clearTimeout(b),b=void 0}}),15);try{w.submit()}catch(e){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",n),w.setAttribute("enctype",i),t?w.setAttribute("target",t):l.removeAttr("target"),e(o).remove()}}T&&x&&(d.extraData=d.extraData||{},d.extraData[T]=x),d.forceSync?S():setTimeout(S,10);var k,E,D,A=50;function I(t){if(!m.aborted&&!D){if((E=_(f))||(r("cannot access response document"),t=2),1===t&&m)return m.abort("timeout"),void C.reject(m,"timeout");if(2==t&&m)return m.abort("server abort"),void C.reject(m,"error","server abort");if(E&&E.location.href!=d.iframeSrc||y){f.detachEvent?f.detachEvent("onload",I):f.removeEventListener("load",I,!1);var n,i="success";try{if(y)throw"timeout";var a="xml"==d.dataType||E.XMLDocument||e.isXMLDoc(E);if(r("isXml="+a),!a&&window.opera&&(null===E.body||!E.body.innerHTML)&&--A)return r("requeing onLoad callback, DOM not available"),void setTimeout(I,250);var o=E.body?E.body:E.documentElement;m.responseText=o?o.innerHTML:null,m.responseXML=E.XMLDocument?E.XMLDocument:E,a&&(d.dataType="xml"),m.getResponseHeader=function(e){return{"content-type":d.dataType}[e.toLowerCase()]},o&&(m.status=Number(o.getAttribute("status"))||m.status,m.statusText=o.getAttribute("statusText")||m.statusText);var s=(d.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||d.textarea){var u=E.getElementsByTagName("textarea")[0];if(u)m.responseText=u.value,m.status=Number(u.getAttribute("status"))||m.status,m.statusText=u.getAttribute("statusText")||m.statusText;else if(l){var h=E.getElementsByTagName("pre")[0],g=E.getElementsByTagName("body")[0];h?m.responseText=h.textContent?h.textContent:h.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=N(m.responseText));try{k=R(m,s,d)}catch(e){i="parsererror",m.error=n=e||i}}catch(e){r("error caught: ",e),i="error",m.error=n=e||i}m.aborted&&(r("upload aborted"),i=null),m.status&&(i=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===i?(d.success&&d.success.call(d.context,k,"success",m),C.resolve(m.responseText,"success",m),c&&e.event.trigger("ajaxSuccess",[m,d])):i&&(void 0===n&&(n=m.statusText),d.error&&d.error.call(d.context,m,i,n),C.reject(m,"error",n),c&&e.event.trigger("ajaxError",[m,d,n])),c&&e.event.trigger("ajaxComplete",[m,d]),c&&!--e.active&&e.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,m,i),D=!0,d.timeout&&clearTimeout(b),setTimeout((function(){d.iframeTarget?p.attr("src",d.iframeSrc):p.remove(),m.responseXML=null}),100)}}}var N=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},P=e.parseJSON||function(e){return window.eval("("+e+")")},R=function(t,n,i){var a=t.getResponseHeader("content-type")||"",r="xml"===n||!n&&a.indexOf("xml")>=0,o=r?t.responseXML:t.responseText;return r&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&a.indexOf("json")>=0?o=P(o):("script"===n||!n&&a.indexOf("javascript")>=0)&&e.globalEval(o)),o};return C}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(r("DOM not ready, queuing ajaxForm"),e((function(){e(n.s,n.c).ajaxForm(t)})),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,t,i).on("click.form-plugin",this.selector,t,a),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,i).bind("click.form-plugin",t,a)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(n,i){var a=[];if(0===this.length)return a;var r,o,s,l,d,c,u,h,p=this[0],f=this.attr("id"),m=n?p.getElementsByTagName("*"):p.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=e(m).get()),f&&(r=e(':input[form="'+f+'"]').get()).length&&(m=(m||[]).concat(r)),!m||!m.length)return a;for(o=0,u=m.length;o<u;o++)if((l=(c=m[o]).name)&&!c.disabled)if(n&&p.clk&&"image"==c.type)p.clk==c&&(a.push({name:l,value:e(c).val(),type:c.type}),a.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}));else if((d=e.fieldValue(c,!0))&&d.constructor==Array)for(i&&i.push(c),s=0,h=d.length;s<h;s++)a.push({name:l,value:d[s]});else if(t.fileapi&&"file"==c.type){i&&i.push(c);var g=c.files;if(g.length)for(s=0;s<g.length;s++)a.push({name:l,value:g[s],type:c.type});else a.push({name:l,value:"",type:c.type})}else null!=d&&(i&&i.push(c),a.push({name:l,value:d,type:c.type,required:c.required}));if(!n&&p.clk){var v=e(p.clk),y=v[0];(l=y.name)&&!y.disabled&&"image"==y.type&&(a.push({name:l,value:v.val()}),a.push({name:l+".x",value:p.clk_x},{name:l+".y",value:p.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each((function(){var i=this.name;if(i){var a=e.fieldValue(this,t);if(a&&a.constructor==Array)for(var r=0,o=a.length;r<o;r++)n.push({name:i,value:a[r]});else null!=a&&n.push({name:this.name,value:a})}})),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,a=this.length;i<a;i++){var r=this[i],o=e.fieldValue(r,t);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var i=t.name,a=t.type,r=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!t.checked||("submit"==a||"image"==a)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var o=t.selectedIndex;if(o<0)return null;for(var s=[],l=t.options,d="select-one"==a,c=d?o+1:l.length,u=d?o:0;u<c;u++){var h=l[u];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),d)return p;s.push(p)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var i=this.type,a=this.tagName.toLowerCase();n.test(i)||"textarea"==a?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1})?i.apply(t,a):i)||(e.exports=r)}()},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(3);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),r=o.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var i=n(3),a=n(130),r={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(29)),s),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(r)})),e.exports=l}).call(this,n(129))},function(e,t,n){"use strict";var i=n(3),a=n(131),r=n(26),o=n(133),s=n(136),l=n(137),d=n(30);e.exports=function(e){return new Promise((function(t,c){var u=e.data,h=e.headers;i.isFormData(u)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password||"";h.Authorization="Basic "+btoa(f+":"+m)}var g=o(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),r(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};a(t,c,i),p=null}},p.onabort=function(){p&&(c(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),c(d(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=n(138),y=(e.withCredentials||l(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(h,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===u&&(u=null),p.send(u)}))}},function(e,t,n){"use strict";var i=n(132);e.exports=function(e,t,n,a,r){var o=new Error(e);return i(o,t,n,a,r)}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t){t=t||{};var n={},a=["url","method","params","data"],r=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(a,(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(r,(function(a){i.isObject(t[a])?n[a]=i.deepMerge(e[a],t[a]):void 0!==t[a]?n[a]=t[a]:i.isObject(e[a])?n[a]=i.deepMerge(e[a]):void 0!==e[a]&&(n[a]=e[a])})),i.forEach(o,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var s=a.concat(r).concat(o),l=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return i.forEach(l,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";(function(t){var i=n(141);e.exports=n(157)(i),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i=n(144),a=n(145),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var d=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function u(e){var n,i=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},a={},o=typeof(e=e||i);if("blob:"===e.protocol)a=new p(unescape(e.pathname),{});else if("string"===o)for(n in a=new p(e,{}),c)delete a[n];else if("object"===o){for(n in e)n in c||(a[n]=e[n]);void 0===a.slashes&&(a.slashes=r.test(e.href))}return a}function h(e){e=l(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=l(e),!(this instanceof p))return new p(e,t,n);var r,o,s,c,f,m,g=d.slice(),v=typeof t,y=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=u(t),r=!(o=h(e||"")).protocol&&!o.slashes,y.slashes=o.slashes||r&&t.slashes,y.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(c=g[b])?(s=c[0],m=c[1],s!=s?y[m]=e:"string"==typeof s?~(f=e.indexOf(s))&&("number"==typeof c[2]?(y[m]=e.slice(0,f),e=e.slice(f+c[2])):(y[m]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(y[m]=f[1],e=e.slice(0,f.index)),y[m]=y[m]||r&&c[3]&&t[m]||"",c[4]&&(y[m]=y[m].toLowerCase())):e=c(e);n&&(y.query=n(y.query)),r&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,a=n[i-1],r=!1,o=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),o++):o&&(0===i&&(r=!0),n.splice(i,1),o--);return r&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(y.pathname,t.pathname)),i(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(c=y.auth.split(":"),y.username=c[0]||"",y.password=c[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),r[e]=t;break;case"port":r[e]=t,i(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";r[e]=t.charAt(0)!==o?o+t:t}else r[e]=t;break;default:r[e]=t}for(var s=0;s<d.length;s++){var l=d[s];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var r=i+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},p.extractProtocol=h,p.location=u,p.trimLeft=l,p.qs=a,e.exports=p}).call(this,n(1))},function(e,t,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},i.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1===i||(n.length>1?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e])}},i.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],a=0;a<i.length;a++)i[a].apply(this,n)},e.exports=i},function(e,t,n){"use strict";var i=n(0),a=n(4),r=n(148),o=n(149);function s(e,t,n,i,s){var l=a.addPath(e,t),d=this;r.call(this,e,n),this.poll=new o(i,l,s),this.poll.on("message",(function(e){d.emit("message",e)})),this.poll.once("close",(function(e,t){d.poll=null,d.emit("close",e,t),d.close()}))}i(s,r),s.prototype.close=function(){r.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=s},function(e,t,n){"use strict";(function(t){var i=n(2).EventEmitter,a=n(0),r=n(6),o=n(4),s=t.XMLHttpRequest;function l(e,t,n,a){var r=this;i.call(this),setTimeout((function(){r._start(e,t,n,a)}),0)}a(l,i),l.prototype._start=function(e,t,n,i){var a=this;try{this.xhr=new s}catch(e){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();t=o.addQuery(t,"t="+ +new Date),this.unloadRef=r.unloadAdd((function(){a._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){a.emit("finish",0,""),a._cleanup(!1)})}catch(e){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!l.supportsCORS||(this.xhr.withCredentials=!0),i&&i.headers)for(var d in i.headers)this.xhr.setRequestHeader(d,i.headers[d]);this.xhr.onreadystatechange=function(){if(a.xhr){var e,t,n=a.xhr;switch(n.readyState,n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}1223===t&&(t=204),200===t&&e&&e.length>0&&a.emit("chunk",t,e);break;case 4:1223===(t=n.status)&&(t=204),12005!==t&&12029!==t||(t=0),n.responseText,a.emit("finish",t,n.responseText),a._cleanup(!1)}}};try{a.xhr.send(n)}catch(e){a.emit("finish",0,""),a._cleanup(!1)}},l.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},l.prototype.close=function(){this._cleanup(!0)},l.enabled=!!s;var d=["Active"].concat("Object").join("X");!l.enabled&&d in t&&(s=function(){try{return new t[d]("Microsoft.XMLHTTP")}catch(e){return null}},l.enabled=!!new s);var c=!1;try{c="withCredentials"in new s}catch(e){}l.supportsCORS=c,e.exports=l}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(9),r=n(15),o=n(17);function s(e){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/xhr_streaming",r,o)}i(s,a),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(o.enabled&&e.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},function(e,t,n){"use strict";var i=n(0),a=n(9),r=n(150),o=n(16),s=n(40);function l(e){if(!l.enabled())throw new Error("Transport created when disabled");a.call(this,e,"/eventsource",r,o)}i(l,a),l.enabled=function(){return!!s},l.transportName="eventsource",l.roundTrips=2,e.exports=l},function(e,t,n){(function(t){e.exports=t.EventSource}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(5),r=n(2).EventEmitter,o=n(42),s=n(4),l=n(12),d=n(6),c=n(8);function u(e,t,n){if(!u.enabled())throw new Error("Transport created when disabled");r.call(this);var i=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=c.string(8);var a=s.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=l.createIframe(a,(function(e){i.emit("close",1006,"Unable to load an iframe ("+e+")"),i.close()})),this.onmessageCallback=this._message.bind(this),d.attachEvent("message",this.onmessageCallback)}i(u,r),u.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){d.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(e){if(e.data,!s.isOriginEqual(e.origin,this.origin))return e.origin,void this.origin;var t;try{t=a.parse(e.data)}catch(t){return void e.data}if(t.windowId!==this.windowId)return t.windowId,void this.windowId;switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",a.stringify([o,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=a.parse(t.data)}catch(e){return void t.data}this.emit("close",n[0],n[1]),this.close()}},u.prototype.postMessage=function(e,t){this.iframeObj.post(a.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},u.prototype.send=function(e){this.postMessage("m",e)},u.enabled=function(){return l.iframeEnabled},u.transportName="iframe",u.roundTrips=2,e.exports=u},function(e,t){e.exports="1.5.0"},function(e,t,n){"use strict";var i=n(0),a=n(152),r=n(10),o=n(9);function s(e){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/htmlfile",a,r)}i(s,o),s.enabled=function(e){return a.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},function(e,t,n){"use strict";var i=n(0),a=n(9),r=n(15),o=n(16),s=n(10);function l(e){if(!s.enabled&&!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/xhr",r,o)}i(l,a),l.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||o.enabled)},l.transportName="xhr-polling",l.roundTrips=2,e.exports=l},function(e,t,n){"use strict";(function(t){e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(2).EventEmitter,r=n(5),o=n(10),s=n(47);function l(e){var t=this;a.call(this),this.ir=new s(e,o),this.ir.once("finish",(function(e,n){t.ir=null,t.emit("message",r.stringify([e,n]))}))}i(l,a),l.transportName="iframe-info-receiver",l.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=l},function(e,t,n){"use strict";var i=n(2).EventEmitter,a=n(0),r=n(5),o=n(19);function s(e,t){i.call(this);var n=this,a=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var i,s;if(200===e){if(s=+new Date-a,t)try{i=r.parse(t)}catch(e){}o.isObject(i)||(i={})}n.emit("finish",i,s),n.removeAllListeners()}))}a(s,i),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=s},function(e,t,n){var i=n(49),a=n(169);e.exports=i.Stomp,e.exports.overTCP=a.overTCP,e.exports.overWS=a.overWS},function(e,t,n){(function(){var e,n,i,a,r={}.hasOwnProperty,o=[].slice;e={LF:"\n",NULL:"\0"},i=function(){var t;function n(e,t,n){this.command=e,this.headers=null!=t?t:{},this.body=null!=n?n:""}return n.prototype.toString=function(){var t,i,a,o,s;for(i in t=[this.command],(a=!1===this.headers["content-length"])&&delete this.headers["content-length"],s=this.headers)r.call(s,i)&&(o=s[i],t.push(i+":"+o));return this.body&&!a&&t.push("content-length:"+n.sizeOfUTF8(this.body)),t.push(e.LF+this.body),t.join(e.LF)},n.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},t=function(t){var i,a,r,o,s,l,d,c,u,h,p,f,m,g,v,y,b;for(o=t.search(RegExp(""+e.LF+e.LF)),r=(s=t.substring(0,o).split(e.LF)).shift(),l={},f=function(e){return e.replace(/^\s+|\s+$/g,"")},m=0,v=(y=s.reverse()).length;m<v;m++)c=(h=y[m]).indexOf(":"),l[f(h.substring(0,c))]=f(h.substring(c+1));if(i="",p=o+2,l["content-length"])u=parseInt(l["content-length"]),i=(""+t).substring(p,p+u);else for(a=null,d=g=p,b=t.length;(p<=b?g<b:g>b)&&(a=t.charAt(d))!==e.NULL;d=p<=b?++g:--g)i+=a;return new n(r,l,i)},n.unmarshall=function(n){var i;return function(){var a,r,o,s;for(s=[],a=0,r=(o=n.split(RegExp(""+e.NULL+e.LF+"*"))).length;a<r;a++)(null!=(i=o[a])?i.length:void 0)>0&&s.push(t(i));return s}()},n.marshall=function(t,i,a){return new n(t,i,a).toString()+e.NULL},n}(),n=function(){var t;function n(e){this.ws=e,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={}}return n.prototype.debug=function(e){var t;return"undefined"!=typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},t=function(){return Date.now?Date.now():(new Date).valueOf},n.prototype._transmit=function(e,t,n){var a;for(a=i.marshall(e,t,n),"function"==typeof this.debug&&this.debug(">>> "+a);;){if(!(a.length>this.maxWebSocketFrameSize))return this.ws.send(a);this.ws.send(a.substring(0,this.maxWebSocketFrameSize)),a=a.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+a.length)}},n.prototype._setupHeartbeat=function(n){var i,r,o,s,l,d,c;if((l=n.version)===a.VERSIONS.V1_1||l===a.VERSIONS.V1_2)return r=(d=function(){var e,t,i,a;for(a=[],e=0,t=(i=n["heart-beat"].split(",")).length;e<t;e++)s=i[e],a.push(parseInt(s));return a}())[0],i=d[1],0!==this.heartbeat.outgoing&&0!==i&&(o=Math.max(this.heartbeat.outgoing,i),"function"==typeof this.debug&&this.debug("send PING every "+o+"ms"),this.pinger=a.setInterval(o,(c=this,function(){return c.ws.send(e.LF),"function"==typeof c.debug?c.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==r?(o=Math.max(this.heartbeat.incoming,r),"function"==typeof this.debug&&this.debug("check PONG every "+o+"ms"),this.ponger=a.setInterval(o,function(e){return function(){var n;if((n=t()-e.serverActivity)>2*o)return"function"==typeof e.debug&&e.debug("did not receive server activity for the last "+n+"ms"),e.ws.close()}}(this))):void 0},n.prototype._parseConnect=function(){var e,t,n,i;switch(i={},(e=1<=arguments.length?o.call(arguments,0):[]).length){case 2:i=e[0],t=e[1];break;case 3:e[1]instanceof Function?(i=e[0],t=e[1],n=e[2]):(i.login=e[0],i.passcode=e[1],t=e[2]);break;case 4:i.login=e[0],i.passcode=e[1],t=e[2],n=e[3];break;default:i.login=e[0],i.passcode=e[1],t=e[2],n=e[3],i.host=e[4]}return[i,t,n]},n.prototype.connect=function(){var n,r,s,l,d;return n=1<=arguments.length?o.call(arguments,0):[],l=this._parseConnect.apply(this,n),s=l[0],this.connectCallback=l[1],r=l[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=(d=this,function(n){var a,o,s,l,c,u,h,p,f,m,g,v;if(l="undefined"!=typeof ArrayBuffer&&n.data instanceof ArrayBuffer?(a=new Uint8Array(n.data),"function"==typeof d.debug&&d.debug("--- got data length: "+a.length),function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)o=a[e],n.push(String.fromCharCode(o));return n}().join("")):n.data,d.serverActivity=t(),l!==e.LF){for("function"==typeof d.debug&&d.debug("<<< "+l),v=[],f=0,m=(g=i.unmarshall(l)).length;f<m;f++)switch((c=g[f]).command){case"CONNECTED":"function"==typeof d.debug&&d.debug("connected to server "+c.headers.server),d.connected=!0,d._setupHeartbeat(c.headers),v.push("function"==typeof d.connectCallback?d.connectCallback(c):void 0);break;case"MESSAGE":p=c.headers.subscription,(h=d.subscriptions[p]||d.onreceive)?(s=d,u=c.headers["message-id"],c.ack=function(e){return null==e&&(e={}),s.ack(u,p,e)},c.nack=function(e){return null==e&&(e={}),s.nack(u,p,e)},v.push(h(c))):v.push("function"==typeof d.debug?d.debug("Unhandled received MESSAGE: "+c):void 0);break;case"RECEIPT":v.push("function"==typeof d.onreceipt?d.onreceipt(c):void 0);break;case"ERROR":v.push("function"==typeof r?r(c):void 0);break;default:v.push("function"==typeof d.debug?d.debug("Unhandled frame: "+c):void 0)}return v}"function"==typeof d.debug&&d.debug("<<< PONG")}),this.ws.onclose=function(e){return function(){var t;return t="Whoops! Lost connection to "+e.ws.url,"function"==typeof e.debug&&e.debug(t),e._cleanUp(),"function"==typeof r?r(t):void 0}}(this),this.ws.onopen=function(e){return function(){return"function"==typeof e.debug&&e.debug("Web Socket Opened..."),s["accept-version"]=a.VERSIONS.supportedVersions(),s["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(","),e._transmit("CONNECT",s)}}(this)},n.prototype.disconnect=function(e,t){return null==t&&(t={}),this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof e?e():void 0},n.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&a.clearInterval(this.pinger),this.ponger)return a.clearInterval(this.ponger)},n.prototype.send=function(e,t,n){return null==t&&(t={}),null==n&&(n=""),t.destination=e,this._transmit("SEND",t,n)},n.prototype.subscribe=function(e,t,n){var i;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(){return i.unsubscribe(n.id)}}},n.prototype.unsubscribe=function(e){return delete this.subscriptions[e],this._transmit("UNSUBSCRIBE",{id:e})},n.prototype.begin=function(e){var t,n;return n=e||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),t=this,{id:n,commit:function(){return t.commit(n)},abort:function(){return t.abort(n)}}},n.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},n.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},n.prototype.ack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("ACK",n)},n.prototype.nack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("NACK",n)},n}(),a={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(e,t){var i;return null==t&&(t=["v10.stomp","v11.stomp"]),i=new(a.WebSocketClass||WebSocket)(e,t),new n(i)},over:function(e){return new n(e)},Frame:i},null!==t&&(t.Stomp=a),"undefined"!=typeof window&&null!==window?(a.setInterval=function(e,t){return window.setInterval(t,e)},a.clearInterval=function(e){return window.clearInterval(e)},window.Stomp=a):t||(self.Stomp=a)}).call(this)},function(e,t,n){(function(e){var t=n(50);for(k in t)e[k]=t[k]}).call(this,n(1))},function(e,t,n){"use strict";n(58),n(59),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(54),n(80),n(81),n(82),n(83),n(23),n(84),n(85),n(24),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(55),n(98),n(99),n(100),n(101),n(102),n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123);var i,a,r,o={loginParam:{sliderPath:"/clbs/getCaptchaString?date=${date}",path:"/clbs/j_spring_security_check?username=${username}&password=${password}&captchaCode=${captchaCode}",username:"admin",password:"000000"}},s=n(14),l=n(7),d=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},c=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=(function(){function e(){}e.login=function(){return d(this,void 0,void 0,(function(){var e,t,n,i,a,r;return c(this,(function(d){switch(d.label){case 0:if(sessionStorage.getItem("username"))return[3,5];d.label=1;case 1:return d.trys.push([1,4,,5]),e=o.loginParam.sliderPath.replace("${date}",(new Date).getTime().toString()),[4,l.a.get(e,null)];case 2:return t=d.sent(),(n=new FormData).append("username",o.loginParam.username),n.append("password",o.loginParam.password),n.append("captchaCode",t.data),i=o.loginParam.path.replace("${username}",o.loginParam.username).replace("${password}",o.loginParam.password).replace("${captchaCode}",t.data),[4,l.a.post(i,n)];case 3:return(a=d.sent())&&a.data&&!1===a.data.loginFailure?(s.set("userName",o.loginParam.username),sessionStorage.setItem("username",o.loginParam.username),[2,!0]):(console.error(""),[2,!1]);case 4:return r=d.sent(),console.error(r),[2,Promise.reject(r)];case 5:return[2]}}))}))}}(),n(22)),h=null,p=!1,f=null,m=null,g=!0,v="",y="",b="";function w(e,t){$("#_error_label").is(":hidden")?($("#_error_label").text(e),$("#_error_label").insertAfter($("#"+t)),$("#_error_label").show()):$("#_error_label").is(":hidden")}var C,_=[],x=$("#userName"),T=($("#toggle-left-tooltip"),$("#profile").val()),S=function(){"true"==localStorage.getItem(a)?($("#voiceImgSwitch").attr("src","/clbs/resources/img/mute.png"),localStorage.setItem(a,"false"),voiceControl(1,!1)):($("#voiceImgSwitch").attr("src","/clbs/resources/img/voiceOpen.png"),localStorage.setItem(a,"true"))},k=function(){"true"==localStorage.getItem(r)?($("#emaliVoiceImg").attr("src","/clbs/resources/img/mute.png"),localStorage.setItem(r,"false"),voiceControl(2,!1)):($("#emaliVoiceImg").attr("src","/clbs/resources/img/voiceOpen.png"),localStorage.setItem(r,"true"))};window.voiceControl=function(e,t){var n=$("#noticeAutoOff"),i=$("#noticeIEalarmMsg");1==e?(t?n[0].play():n[0].pause(),t&&console.log("~")):2==e&&(t?i[0].play():i[0].pause(),t&&console.log(""))},window.pagesNav={webSocket:null,headers:null,chatVisible:!1,init:function(e){if(pagesNav.headers=e,"experience1"===x.html()&&$("#editPwd").remove(),"undefined"!=typeof returnCitySN){var t=returnCitySN.cip;$.cookie("ip",t)}pagesNav.webSocket=Object(u.a)(e),pagesNav.isConnectSocket();$("#userName").text(),$("#noticeBtn1");pagesNav.isHealth(),pagesNav.initChat(),"dev"===T&&$(".user-nav ul").prepend('<li><label style="font-weight:normal">'+$("#version").val()+"</label></li>"),pagesNav.init809ForwardAlarmName(),pagesNav.gethistoryno(),renderPlateColorSelect(),pagesNav.PlatformAlarm(),pagesNav.setCarouselActive(),$("#language").bind("click",pagesNav.languageModal),$("#downloadBox").bind("click",pagesNav.showExportManager),$("#downloadSearch").bind("click",(function(){C.refresh()})),$(".carousel").on("slid.bs.carousel",(function(){$(".carousel").carousel({pause:null,wrap:!1}),$(".carousel").carousel("pause")})),$("#updateFontSize").bind("click",pagesNav.helpCenterModal),$("#alarm_handle").on("change",(function(){var e=$(this).val(),t=$("#goTrace_alarm #_error_label");-1!=e?t.hide():""!=t.text()&&t.show()})),$("#navAnswer").on("input propertychange",(function(){var e=$(this).val(),t=$("#goTrace9301 #_error_label");""!=e?t.hide():""!=t.text()&&t.show()})),$("#answer9302").on("input propertychange",(function(){var e=$(this).val(),t=$("#goTrace9302 #_error_label");""!=e?t.hide():""!=t.text()&&t.show()})),$("#noticeWaves,#noticeBtn1").on("click",(function(){var e=$("#menu2");e.is(":visible")?e.slideUp():e.slideDown()})),setTimeout(()=>{!function(){a=$("#userName").text()+"_mailVoice",r=$("#userName").text()+"_alarmVoice";var e=localStorage.getItem(a),t=localStorage.getItem(r);null===e||"true"==e?(localStorage.setItem(a,"true"),$("#voiceImgSwitch").attr("src","/clbs/resources/img/voiceOpen.png")):$("#voiceImgSwitch").attr("src","/clbs/resources/img/mute.png"),null===t||"true"==t?(localStorage.setItem(r,"true"),$("#emaliVoiceImg").attr("src","/clbs/resources/img/voiceOpen.png")):$("#emaliVoiceImg").attr("src","/clbs/resources/img/mute.png")}()},100),$("#noticeBox1").on("contextmenu",(function(e){$("#navVoices").toggle(),e.preventDefault()})),$("#navVoices").on("click",S),$("#alarmIcoHide").on("contextmenu",(function(e){$("#emaliVoice").toggle(),e.preventDefault()})),$("#emaliVoiceImg").on("click",k),$("body").on("mouseover","label.changeFile",(function(){var e=$(this).prev('input[type="file"]')[0];0===e.files.length?$(this).attr("title",""):$(this).attr("title",e.files[0].name)})),$("#getCameraBtn").bind("click",pagesNav.getCamera),$("#pictureSnap").bind("click",pagesNav.takingPicturesFun),$("#pictureClose").bind("click",(function(){$("#takingPicturesBox").hide()})),$("#submitAnswer").bind("click",pagesNav.submitAnswer),$("#patrolAnswerModel").on("hidden.bs.modal",(function(){pagesNav.clearAnserTimer()}))},isConnectSocket:function(){setTimeout((function(){pagesNav.webSocket&&pagesNav.webSocket.conFlag?(pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/lkywGlobalAlarm",pagesNav.getintimeno,null,null),pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/specialReport",pagesNav.specialAlarm,null,null),pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/checkGlobal",pagesNav.updateTable,null,null),pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/T809OfflineReconnect",pagesNav.update809MessageData,null,null),pagesNav.webSocket.subscribe(pagesNav.headers,"/topic/diskInfo",pagesNav.diskInfoCallBack,null,null)):pagesNav.isConnectSocket()}),1e3)},diskInfoCallBack:function(e){var t=JSON.parse(e.body),n=1e3*Number(t.videoPlayTime);n!==h&&(h=n,window.VideoModule.video&&window.VideoModule.video.updateWaitTime()),null!==1e3*Number(t.videoStopTime)&&window.VideoModule.video&&window.VideoModule.video.updateWaitTime();var i=t.memoryRate,a=t.memory;i<=a?$("#memoryWarningInfo").text(""+a+"%"):$("#memoryWarningInfo").text("")},isHealth:function(){setTimeout((function(){pagesNav.webSocket.conFlag?pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/health",pagesNav.healthBack,"/app/isHealth",null):pagesNav.isHealth()}),1e3)},healthBack:function(e){"isOk"===e.body&&pagesNav.webSocket.send("/app/ackHealth",pagesNav.headers,x.text())},logout:function(){$.ajax({type:"POST",url:"/clbs/out",dataType:"json",async:!1,data:null,timeout:3e4,success:function(){location.href="/clbs/logout"},error:function(){location.href="/clbs/logout"}})},getOverseeNum:function(){$("#userName").text();json_ajax("GET","/clbs/m/reportManagement/gangSupervisionReport/getPlatformMsgNumber","json",!0,null,(function(e){if(e.success){var t=e.obj;if($("#jttNum").html(t.standard809GangNum),$("#xzNum").html(t.extend809GangNum),$("#jttAlarmNum").html(t.standard809AlarmNum),$("#xzAlarmNum").html(t.extend809AlarmNum),p&&0==t.standard809GangNum&&0==t.extend809GangNum&&0==t.standard809AlarmNum&&0==t.extend809AlarmNum)return $("li.noInfo").show(),$(".numOne").hide(),void $("#noticeRedIcon").hide();$("li.noInfo").hide(),$("#noticeRedIcon").show(),0!=t.standard809GangNum&&$(".jttNum").show(),0!=t.extend809GangNum&&$(".xzNum").show(),0!=t.standard809AlarmNum&&$(".jttAlarmNum").show(),0!=t.extend809AlarmNum&&$(".xzAlarmNum").show()}}))},reconnectVoice:function(e){"true"===localStorage.getItem(a)&&(navigator.userAgent.indexOf("MSIE")>=0?e?$("#noticeIEalarmMsg")[0].play():$("#noticeIEalarmMsg")[0].pause():e?$("#noticeAutoOff")[0].play():$("#noticeAutoOff")[0].pause())},gethistoryno:function(e){var t=$("#userName").text();json_ajax("POST","/clbs/subscribe/global","json",!0,{userName:t},(function(t){$("#menu2 li").hide(),$("li.noInfo").show(),t.success&&(_=t.obj.result,t.obj.result.length>0?$("#alarmno").show():$("#alarmno").hide(),$("#menu2 li").hide(),$("li.noInfo").hide(),"0"==t.obj.expireInsuranceIdList&&"0"==t.obj.expireRoadTransportList&&"0"==t.obj.expireDrivingLicenseList&&"0"==t.obj.expireMaintenanceList&&"0"==t.obj.lifecycleExpireNumber&&($(".numTwo").hide(),p=!0),"false"==t.obj.t809OfflineReconnectStatus?(p=!1,$(".conactInfo").show(),$("#noticeWaves").show(),"true"==localStorage.getItem(a)&&e&&voiceControl(1,!0)):(p&&(p=!0),$(".conactInfo").hide(),$("#noticeWaves").hide(),pagesNav.reconnectVoice(!1)),0!=t.obj.lifecycleExpireNumber&&$(".fwNum").show(),0!=t.obj.expireMaintenanceList&&$(".byNum").show(),0!=t.obj.expireInsuranceIdList&&$(".bxNum").show(),0!=t.obj.expireRoadTransportList&&$(".yszNum").show(),0!=t.obj.expireDrivingLicenseList&&$(".xszNum").show(),$("#fwNum").text(t.obj.lifecycleExpireNumber),$("#byNum").text(t.obj.expireMaintenanceList),$("#bxNum").text(t.obj.expireInsuranceIdList),$("#yszNum").text(t.obj.expireRoadTransportList),$("#xszNum").text(t.obj.expireDrivingLicenseList),pagesNav.getOverseeNum())}))},getintimeno:function(e){var t=JSON.parse(e.body),n=t.desc.msgID;if(3088===n){var i=t.desc.monitorId,a=$.inArray(i,_);-1===a&&_.push(i),_.length>0?$("#alarmno").show():$("#alarmno").hide(),"true"==localStorage.getItem(r)&&voiceControl(2,!0),$("#alarmWaves").css("visibility","visible"),setTimeout("$('#alarmWaves').css('visibility','hidden');",2e3)}else if(3071===n){if(i=t.desc.monitorId,-1!==(a=$.inArray(i,_)))for(var o=0;o<_.length;o++)i===_[o]&&_.splice(o,1);_.length>0?$("#alarmno").show():$("#alarmno").hide()}},alarmDeal:function(){var e=!1,t=$("#permissionUrls").val();if(null!=t&&void 0!==t&&t.split(",").indexOf("/a/search/list")>-1){var n="";if(e=!0,0!==_.length){for(var i=0;i<_.length;i++)n+=_[i]+",";json_ajax("POST","/clbs/a/search/addSession","json",!1,{vehicleId:n},(function(e){location.href=e?"/clbs/a/search/list?atype=2":"/clbs/a/search/list"}))}else location.href="/clbs/a/search/list"}e||layer.msg("")},specialAlarm:function(e){var t=JSON.parse(e.body),n=t.data,i=t.data.split("")[0].replace(":","");t.desc.monitorId&&(v=1,$("#bomMsgBoxContent").text(n),pagesNav.bomMsgShow(),b="/clbs/realTimeVideo/video/list?videoId="+t.desc.monitorId+"&videoName="+i)},init809ForwardAlarmName:function(){$.ajax({type:"GET",url:"/clbs/m/monitorForwardingAlarmSearch/get809ForwardAlarmName",contentType:"application/x-www-form-urlencoded",dataType:"json",async:!0,timeout:3e4,success:function(e){e.success?i=e.obj:console.log("809")},error:function(){layer.msg(systemError,{move:!1})}})},getAlarmType:function(e){var t="";switch(e){case 0:t="";break;case 1:t="";break;case 2:t="";break;case 3:t="";break;case 4:t="";break;case 5:t="";break;case 6:t="";break;case 7:t="";break;case 8:t="";break;case 9:t="";break;case 10:t="";break;case 11:t="";break;case 12:t="";break;case 13:t="";break;default:t=""}return t},updateTable:function(e){if(null!=e){var t=$.parseJSON(e.body),n=t.data;if(null==n||null==n)return;null!=n.msgHead&&3334==n.msgHead.msgID&&platformCheck.refreshTable();var a=n.msgHead.msgID,r=n.msgHead.serverIp;if(37888==a){var o=t.data.msgBody.dataType;if($("#_error_label").hide(),37889==o){$("#msgTitle_alarm").text("JTT");var s=t.data.msgBody.data.warnType,l=t.data.msgBody.vehicleNo;$("#alarm_handle").val("-1"),$(".normalType1").show(),$(".normalName1").show(),$(".xzName1").hide(),$("#question_alarm").text(l+""+s),$("#alarm_brand").val(l);var d=t.data.msgBody;$("#vehicleNo").val(d.vehicleNo),$("#vehicleColor").val(getPlateColor(d.vehicleColor)),$("#vehicleColorNumber").val(d.vehicleColor);var c,u=d.data.alarmType;if(null==u)c=pagesNav.getAlarmType(s);else{var h=i[u];c=null==h?pagesNav.getAlarmType(s):h}$("#warnType").val(c),$("#alarmTime").val(d.data.warnTime),$("#warnTime").val(formatDateAll(1e3*d.data.warnTime)),$("#alarmStartTime").val(d.data.alarmStartTime),$("#plateFormId").val(t.desc.t809PlatId),$("#alarmType").val(d.data.alarmType),$("#monitorId").val(d.data.monitorId),100==t.data.msgHead.protocolType?($("#sourceDataType").val(d.data.dataType),$("#sourceMsgSn").val(d.data.msgSn)):($("#sourceDataType").val(5122),$("#sourceMsgSn").val(d.data.supervisionId)),$("#msgSn").val(t.data.msgHead.msgSn);var f="";switch(d.data.warnSrc){case 1:f="";break;case 2:f="";break;case 3:f="";break;case 9:default:f=""}$("#warnSrc").val(f),$("#alarmMsgId").val(t.data.msgHead.handleId),$("#supervisionLevel").val(0==d.data.supervisionLevel?"":""),$("#supervisionEndTime").val(formatDateAll(1e3*d.data.supervisionEndTime)),$("#supervisor").val(d.data.supervisor),$("#supervisionTel").val(d.data.supervisionTel),$("#supervisionEmal").val(d.data.supervisionEmal),$("#goTrace_alarm").modal("show")}return}if(37632==a){o=t.data.msgBody.dataType;if($("#_error_label").hide(),37633==o&&($("#navAnswer").val(""),$("#msgDataType9301").val(o),$("#infoId9301").val(t.data.msgBody.data.infoId),$("#objectType9301").val(t.data.msgBody.data.objectType),$("#objectId9301").val(t.data.msgBody.data.objectId),$("#question9301").val(t.data.msgBody.data.infoContent),$("#serverIp9301").val(r),$("#msgGNSSCenterId9301").val(t.data.msgHead.msgGNSSCenterId),$("#groupId9301").val(t.data.msgHead.groupId),$("#gangId").val(t.data.msgHead.handleId),$("#msgSn9301").val(t.data.msgHead.msgSn),$("#msgID9301").val(t.data.msgBody.dataType),$("#platFormId9301").val(t.desc.t809PlatId),$("#navAnswer").val(""),$("#msgTitle9301").text("JTT"),$(".xzInfo").hide(),$("#goTrace9301").modal("show")),37634==o&&($("#msgDataType9302").val(o),$("#infoId9302").val(t.data.msgBody.data.infoId),$("#objectType9302").val(t.data.msgBody.data.objectType),$("#objectId9302").val(t.data.msgBody.data.objectId),$("#question9302").val(t.data.msgBody.data.infoContent),$("#msgGNSSCenterId9302").val(t.data.msgHead.msgGNSSCenterId),$("#groupId9302").val(t.data.msgHead.groupId),$("#serverIp9302").val(r),$("#answer9302").val(""),$("#msgTitle9302").text(""),$("#msgSn9302").val(t.data.msgHead.msgSn),$("#msgID9302").val(t.data.msgBody.dataType),$("#platFormId9302").val(t.desc.t809PlatId),$("#goTrace9302").modal("show")),37637==o&&($("#navAnswer").val(""),$("#msgTitle9301").text(""),$(".xzInfo").show(),$("#navAnswer").val(""),$("#msgDataType9301").val(o),$("#infoId9301").val(t.data.msgBody.data.infoId),$("#objectType9301").val(t.data.msgBody.data.objectType),$("#objectId9301").val(t.data.msgBody.data.objectId),$("#question9301").val(t.data.msgBody.data.infoContent),$("#serverIp9301").val(r),$("#msgGNSSCenterId9301").val(t.data.msgHead.msgGNSSCenterId),$("#groupId9301").val(t.data.msgHead.groupId),$("#gangId").val(t.data.msgHead.handleId),$("#enterprise").val(t.data.msgBody.data.enterprise),$("#gangman").val(t.data.msgBody.data.gangman),$("#goTrace9301").modal("show")),37638==o){$("#msgTitle_alarm").text(""),$(".normalType1").hide(),$(".normalName1").hide(),$(".xzName1").show(),$("#alarm_handle").val("-1");d=t.data.msgBody;$("#msgGNSSCenterId9041").val(t.data.msgHead.msgGNSSCenterId),$("#serverIp9041").val(r),$("#objectType9041").val(o),$("#warnSrc").val(d.data.enterprise),$("#alarmMsgId").val(t.data.msgHead.handleId),$("#supervisionLevel").val(0==d.data.level?"":""),$("#supervisionEndTime").val(formatDateAll(1e3*d.data.deadTime)),$("#supervisor").val(d.data.gangman),$("#supervisionTel").val(d.data.tel),$("#supervisionEmal").val(d.data.email),$("#supervisionId9041").val(d.data.infoId),$("#infoContent").val(d.data.infoContent),$("#goTrace_alarm").modal("show")}}else if(37648==a){var m=t.data.msgBody.data;m.answercountdown="",m.answerType="2",p=!1,$(".inspectionInfo").show(),$("#noticeWaves").show(),pagesNav.reconnectVoice(!0),pagesNav.showAnswerModal(m)}}},update809MessageData:function(e){"true"===e.body?($(".conactInfo").hide(),$("#noticeWaves").hide(),p&&($("#menu2 .noInfo").show(),$("#noticeRedIcon").hide()),pagesNav.reconnectVoice(!1)):($("#noticeRedIcon").show(),$("#noticeWaves").show(),$("#menu2 .noInfo").hide(),$(".conactInfo").show(),pagesNav.reconnectVoice(!0))},platformAlarmAck:function(e){$("#_error_label").hide();var t=$("#alarmTime").val(),n=$("#alarmMsgId").val(),i=($("#objectType9041").val(),$("#serverIp9041").val()),a=$("#msgGNSSCenterId9041").val(),r=$("#alarm_brand").val();if($(".normalType1").is(":hidden")){var o="/clbs/m/connectionparamsset/extendPlatformAlarmAck";json_ajax("POST",o,"json",!1,{msgId:n,serverIp:i,msgGNSSCenterId:a,result:e,infoId:$("#supervisionId9041").val()},pagesNav.dealCallBack)}else{o="/clbs/m/connectionparamsset/platformAlarmAck";json_ajax("POST",o,"json",!1,{monitorId:$("#monitorId").val(),brand:r,vehicleColor:$("#vehicleColorNumber").val(),sourceDataType:$("#sourceDataType").val(),sourceMsgSn:$("#sourceMsgSn").val(),msgSn:$("#msgSn").val(),warnTime:t,alarmMsgId:n,alarmHandle:e,alarmStartTime:$("#alarmStartTime").val(),plateFormId:$("#plateFormId").val(),alarmType:$("#alarmType").val()},pagesNav.dealCallBack)}},dealCallBack:function(e){if(e.success){var t=e.obj.handleStatus,n="";switch(t){case 0:n="";break;case 1:n="";break;case 2:n="";break;case 3:n="";break;case 4:n="";default:n=""}$(".normalType1").is(":hidden")&&3==t&&(n=""),layer.msg(n),$("#goTrace_alarm").modal("hide")}else e.msg&&layer.msg(e.msg)},platformMsgAck:function(e,t){if(t){if(""==(a=$("#navAnswer").val()))return void w("","navAnswer");var n="/clbs/m/connectionparamsset/checkGroup",i=$("#groupId9301").val();3==(l=$("#objectType9301").val())?json_ajax("POST",n,"json",!1,{groupId:i},(function(n){n.success?pagesNav.ackStandard809Gang(e,t):layer.msg("")})):pagesNav.ackStandard809Gang(e,t)}else{var a,r=document.getElementById("laid-off");if(r.pause(),r.currentTime=0,""==(a=$("#answer"+e).val()))return void w("","answer"+e);$("#goTrace"+e).modal("hide");var o=$("#msgDataType"+e).val(),s=$("#infoId"+e).val(),l=$("#objectType"+e).val(),d=$("#objectId"+e).val(),c=$("#serverIp"+e).val(),u=$("#msgGNSSCenterId"+e).val(),h=(i=$("#groupId"+e).val(),$("#msgSn"+e).val()),p=$("#msgID"+e).val(),f=$("#platFormId"+e).val();n="/clbs/m/connectionparamsset/platformMsgAck";json_ajax("POST",n,"json",!1,{infoId:s,answer:a,msgDataType:o,objectType:l,objectId:d,serverIp:c,msgGNSSCenterId:u,groupId:i,msgSn:h,msgID:p,platFormId:f},pagesNav.callback())}},ackStandard809Gang:function(e,t){$(t).ajaxSubmit((function(t){var n="";switch(JSON.parse(t).obj.handleStatus){case 0:n="";break;case 1:n="";break;case 2:n="";break;case 3:default:n=""}layer.msg(n),$("#goTrace"+e).modal("hide")}))},callback:function(){},helpCenterModal:function(){$("#helpCenterModal").modal("show")},languageModal:function(){$("#languageModal").modal("show")},goGangSupervision:function(e){var t=!1,n=$("#permissionUrls").val();null!=n&&void 0!==n&&(n.split(",").indexOf("/m/reportManagement/gangSupervisionReport/list")>-1&&(t=!0,location.href="/clbs/m/reportManagement/gangSupervisionReport/list?gangType="+e));t||layer.msg("")},goAlarmUrl:function(e){var t=!1,n=$("#permissionUrls").val();null!=n&&void 0!==n&&(n.split(",").indexOf("/m/basicinfo/monitoring/vehicle/list")>-1&&(t=!0,location.href="/clbs/m/basicinfo/monitoring/vehicle/list?tipType="+e));t||layer.msg("")},goConnection:function(){var e=!1,t=$("#permissionUrls").val();null!=t&&void 0!==t&&(t.split(",").indexOf("/m/connectionparamsset/list")>-1&&(e=!0,location.href="/clbs/m/connectionparamsset/list"));e||layer.msg("")},inspectionPeople:function(){var e=!1,t=$("#permissionUrls").val();null!=t&&void 0!==t&&(t.split(",").indexOf("/page?listPage=modules/reportManagement/inspectionPeople")>-1&&(e=!0,location.href="/clbs/page?listPage=modules/reportManagement/inspectionPeople"));e||layer.msg("")},goFwUrl:function(){var e=!1,t=$("#permissionUrls").val();null!=t&&void 0!==t&&(t.split(",").indexOf("/v/statistic/lifecycleStatistic/list")>-1&&(e=!0,location.href="/clbs/v/statistic/lifecycleStatistic/list?fwType=2"));e||layer.msg("")},goBxUrl:function(){var e=!1,t=$("#permissionUrls").val();null!=t&&void 0!==t&&(t.split(",").indexOf("/m/basicinfo/monitoring/vehicle/insurance/list")>-1&&(e=!0,location.href="/clbs/m/basicinfo/monitoring/vehicle/insurance/list?insuranceTipType=1"));e||layer.msg("")},initChat:function(){var e=$("#chatWin .modal-content").find("iframe"),t=($("#userName").html(),"/clbs/cb/chatPage?token="+pagesNav.headers.access_token);e.attr("src",t)},openChat:function(){var e=$("#chatWin .modal-content").find("iframe").attr("src");json_ajax("GET",e,"html",!1,{},(function(){pagesNav.chatVisible=!0,pagesNav.clearMsgTitleFun(),$("#chatWin").modal("show"),pagesNav.showChatRedIcon(0)}))},chatNewMsg:function(){pagesNav.chatVisible||pagesNav.showChatRedIcon(1)},showChatRedIcon:function(e){if(0===e)$("#noticeRedIcon1").hide(),$("#newMsgTitle").animate({width:0,opacity:0}).hide();else{if(f)return;$("#newMsgTitle").show().animate({width:"210px",opacity:1}),$("#newMsgTitle").on("click",pagesNav.openChat),f=setTimeout((function(){pagesNav.clearMsgTitleFun(),$("#noticeRedIcon1").show()}),5e3)}},clearMsgTitleFun:function(){$("#newMsgTitle").animate({width:0,opacity:0}).hide(),clearTimeout(f),f=null},closeChat:function(){$("#chatWin").modal("hide"),pagesNav.chatVisible=!1},PlatformAlarm:function(){setTimeout((function(){pagesNav.webSocket.conFlag?pagesNav.webSocket.subscribe(pagesNav.headers,"/user/topic/platformRemind",(function(e){var t=(e=JSON.parse(e.body)).brand,n=e.vehicleId,i=new Date(e.warmTime),a=i.getFullYear(),r=i.getMonth()+1,o=i.getDate(),s=i.getHours(),l=i.getMinutes(),d=i.getSeconds();r>=1&&r<=9&&(r="0"+r),o>=1&&o<=9&&(o="0"+o),s>=1&&s<=9&&(s="0"+s),l>=1&&l<=9&&(l="0"+l),d>=1&&d<=9&&(d="0"+d),0==l&&(l="00"),0==d&&(d="00");var c=""+t+" "+(a+"-"+r+"-"+o+" "+s+":"+l+":"+d)+"";v=2,$("#bomMsgBoxContent").text(c),y="/clbs/r/riskManagement/disposeReport/list?vehicleId="+n+"&status=1&brand="+t,console.log("PlatformAlarmUrl",y),pagesNav.bomMsgShow()}),"/app/risk/security/subVehicleUser","a"):pagesNav.PlatformAlarm()}),1e3)},setCarouselActive:function(){$(".carousel").carousel({pause:null,wrap:!1}),$(".carousel").carousel("pause"),$(".rightHover").mouseover((function(){$(this).attr("src","/clbs/resources/img/hoverRight.png")})).mouseout((function(){$(this).attr("src","/clbs/resources/img/languageRight.png")})),$(".leftHover").mouseover((function(){$(this).attr("src","/clbs/resources/img/hoverLeft.png")})).mouseout((function(){$(this).attr("src","/clbs/resources/img/languageLeft.png")}))},downLoadFile:function(e,t,n){var i=document.createElement("a");if(n){e=$(n.target).attr("href");i.href=encodeURI(e)}else i.href=encodeURI(e);i.download=t,document.body.appendChild(i),i.click(),i.remove()},showExportManager:function(){$("#downloadStatus").val(""),$("#downloadFileName").val(""),$("#exportManager .modal-body").addClass("modal-body-overflow").css({height:"auto","max-height":$(window).height()-194+"px"});var e={listUrl:"/clbs/offline/export/list",columnDefs:[{searchable:!1,orderable:!1,targets:0}],columns:[{data:null,class:"text-center"},{data:null,class:"text-center",render:function(e,t,n,i){return"2"==n.status?"<button onclick=\"pagesNav.downLoadFile('"+n.assemblePath+"','"+n.fileName+'\')" id="'+n.digestId+'" class="btn btn-primary"></button>':"<button onclick=\"pagesNav.downLoadFile(null,'"+n.fileName+'\',this)" id="'+n.digestId+'" class="btn btn-default" disabled></button>'}},{data:"createDateTime",class:"text-center"},{data:"fileName",class:"text-center"},{data:"doubleFileSize",class:"text-center"},{data:"module",class:"text-center"},{data:"status",class:"text-center",render:function(e){var t="";switch(e){case 0:t="";break;case 1:t="";break;case 2:t="";break;case 3:t="";break;default:t=""}return'<span class="status">'+t+"</span>"}}],dataTableDiv:"downloadDataTable",ajaxDataParamFun:function(e){e.status=$("#downloadStatus").val(),e.fileName=$("#downloadFileName").val()},pageable:!0,showIndexColumn:!0,enabledChange:!0,pageNumber:10,setPageNumber:!0};(C=new TG_Tabel.createNew(e)).init(),$("#exportManager").modal("show"),$("#downloadRedIcon").hide()},updateExportMananer:function(e){if($("#exportManager").is(":visible")){$("#downloadRedIcon").hide();var t=JSON.parse(e.body),n=$("#"+t.id);if(n.length>0){var i=n.closest("tr");n.attr({class:"btn btn-primary",href:t.url}).prop("disabled",!1),i.find(".status").text("")}}else $("#downloadRedIcon").show()},clearAnserTimer:function(){m&&(clearInterval(m),m=null)},errBack:function(e){},answerImgPreview:function(){var e=new FileReader;e.onload=function(e){$("#answerPhotoImg").attr("src",e.target.result).show(),$("#answerNoImgInfo,#takingPicturesBox").hide()},$("#answerImgFile").on("change",(function(t){if(0!=t.target.files.length){var n=t.target.files[0];if(/^image\//.test(n.type)){if(!(n.size/1024/1024<1))return layer.msg("1M"),void $("#answerImgFile").val("");e.readAsDataURL(n)}else layer.msg("")}}))},getCamera:function(){var e=document.getElementById("picturesVideo"),t={video:!0};navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(t).then((function(t){e.srcObject=t,e.play()})):navigator.getUserMedia?navigator.getUserMedia(t,(function(t){e.src=t,e.play()}),pagesNav.errBack):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(t,(function(t){e.src=window.webkitURL.createObjectURL(t),e.play()}),pagesNav.errBack):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(t,(function(t){e.src=window.URL.createObjectURL(t),e.play()}),pagesNav.errBack),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&navigator.mediaDevices.enumerateDevices().then((function(e){e.length>0&&"videoinput"===e[0].kind?$("#takingPicturesBox").show():layer.msg("")})).catch((function(e){layer.msg("")}))},takingPicturesFun:function(){var e=document.getElementById("pictureCanvas"),t=e.getContext("2d"),n=document.getElementById("picturesVideo");t.drawImage(n,0,0,200,241);var i=e.toDataURL("Image/jpeg",1);$("#answerNoImgInfo").hide(),$("#answerPhotoImg").attr("src",i).show()},base64DateUrlToBlob:function(e,t){for(var n=window.atob(e.split(",")[1]),i=new ArrayBuffer(n.length),a=new Uint8Array(i),r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new File([i],"answer.jpeg",{type:t})},getAnswerInfo:function(e,t){var n=!0;t||json_ajax("GET","/clbs/adas/inspectUser/check/"+e,"json",!1,null,(function(e){e.success||(e.msg&&layer.msg(e.msg),n=!1)})),n&&json_ajax("GET","/clbs/adas/inspectUser/answer/"+e,"json",!1,null,(function(t){t&&(t.answerId=e,t.answercountdown="",t.answerType="1",pagesNav.showAnswerModal(t))}))},showAnswerModal:function(e){$("#answerPhotoImg").attr("src","").hide(),$("#answerNoImgInfo,#selectImgBox,#answerCountdownGroup,#submitAnswer,#answerNoImgInfo h4").show(),$("#takingPicturesBox").hide(),$("#submitAnswer").prop("disabled",!0),pagesNav.renderAnswerParam(e),pagesNav.clearAnserTimer();var t=0,n=(new Date).getTime(e.serverTime),i=new Date(e.expireTime).getTime();i>n&&(t=Math.floor((i-n)/1e3)),0===e.answerStatus&&t>0?(m=setInterval((function(){if(t>=0){var n=fillZero(Math.floor(t/60)),i=fillZero(Math.floor(t%60));$("#answercountdown").val(n+":"+i),--t}else $("#submitAnswer").prop("disabled",!0),"2"===e.answerType&&$("#inspectionInfo").hide(),clearInterval(m),m=null}),1e3),$("#submitAnswer").prop("disabled",!1)):$("#answercountdown").val("00:00"),g&&(pagesNav.answerImgPreview(),g=!1),$("#patrolAnswerModel").modal("show")},renderAnswerParam:function(e){if(1===e.answerStatus&&($("#selectImgBox,#submitAnswer,#answerCountdownGroup").hide(),e.mediaUrl?($("#answerNoImgInfo").hide(),$("#answerPhotoImg").attr("src",e.mediaUrl).show()):($("#answerNoImgInfo").show(),$("#answerNoImgInfo h4").hide())),e)for(key in e)$("#"+key).val(e[key])},submitAnswer:function(){var e=$("#answerForm").serializeArray(),t=new FormData;$.each(e,(function(e,n){t.append(n.name,n.value||"")}));var n=$("#answerPhotoImg").attr("src");if(n){var i=pagesNav.base64DateUrlToBlob(n,"image/jpeg");i.size/1024/1024<1?(t.append("image",i),""!==$("#answerUserTel").val()?""!==$("#answerUserIdentityNumber").val()?""!==$("#socialSecurityNumber").val()?$.ajax({url:"/clbs/adas/inspectUser/answer",type:"POST",processData:!1,contentType:!1,cache:!1,data:t,success(e){var t=JSON.parse(e);if($("#takingPicturesBox").hide(),t.success){if(pagesNav.clearAnserTimer(),$("#patrolAnswerModel").modal("hide"),layer.msg(""),answerTable){var n=answerTable.dataTable.page();answerTable.dataTable.page(n).draw(!1)}}else t.msg&&layer.msg(t.msg)}}):layer.msg(""):layer.msg(""):layer.msg("")):layer.msg("1M")}else layer.msg("")},throttle:function(e,t){var n,i;return function(){var a=this,r=arguments,o=(new Date).getTime();n&&o<n+t?(n=o,clearTimeout(i),i=setTimeout((function(){e.apply(a,r)}),t)):(n=o,e.apply(a,r))}},bomMsgShow:function(){$("#bomMsgBoxClickShow").show(),$("#bomMsgBoxClickShowBtm").show(),$("#bomMsgBox").addClass("bomMsgBoxActive")},bomMsgClose:function(){$("#bomMsgBoxClickShow").show(),$("#bomMsgBoxClickShowBtm").show(),$("#bomMsgBox").removeClass("bomMsgBoxActive")},okClick:function(){if($("#bomMsgBoxClickShow").hide(),$("#bomMsgBoxClickShowBtm").hide(),2===v)window.location.href=y;else{if(1!==v)return;var e=!1,t=$("#permissionUrls").val();null!=t&&(e=!0,window.location.href=b),e||layer.msg("")}},noClick:function(){$("#bomMsgBoxClickShow").hide(),$("#bomMsgBoxClickShowBtm").hide(),$("#bomMsgBox").removeClass("bomMsgBoxActive")}};var E,D=n(52),A=n.n(D),I=n(53),N=n.n(I),P=(n(174),function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))}),R=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};!function(e){e[e.go=0]="go",e[e.back=1]="back",e[e.reset=2]="reset",e[e.refresh=3]="refresh"}(E||(E={}));var L=function(){function e(e,t){this.dependency=t,this.drawerKeys=["group-message","offline-vehicle","history-capture"],this.modalKeys=["statistics-reports"],this.pageKeys=["realtime-monitoring","realtime-video","video-playback","track-playback"],this.setOption(e)}return e.prototype.setOption=function(e){this.option=e,this.state={$origin:null,$dom:{$menuButton:null,$menuDrawer:null,$menuContainer:null,$content:null,$userName:null,$linksLi:null,$pageContainer:null,$drawerContainer:null,$drawer:null,$modalContainer:null},data:{menus:null,menuHtmlLoaded:!1,pageMap:{},drawerKey:null,activeKeys:[]}},this.state.$origin=$(e.selector),this.initHtml(),this.bindEvent()},e.prototype.initHtml=function(){return P(this,void 0,void 0,(function(){var e,t;return R(this,(function(n){switch(n.label){case 0:return e=$(A.a),this.state.$origin.empty(),this.state.$origin.append(e),this.state.$dom.$menuButton=e.find(".menu-button"),this.state.$dom.$menuDrawer=e.find(".menu-drawer"),this.state.$dom.$menuContainer=e.find(".menu-container"),this.state.$dom.$content=e.find(".layout-content"),this.state.$dom.$userName=e.find(".user-name-span"),this.state.$dom.$linksLi=e.find(".links li"),this.state.$dom.$pageContainer=e.find(".page-container"),this.state.$dom.$drawerContainer=e.find(".drawer-container"),this.state.$dom.$drawer=e.find(".drawer"),this.state.$dom.$modalContainer=e.find(".modal-outside-container"),this.state.$dom.$modalContainer.attr("id",U.modalContainerId),this.state.$dom.$drawer.attr("id","drawerId"+this.generateRandomId()),t=s.get("userName"),this.state.$dom.$userName.html(t),[4,this.getParameter()];case 1:return n.sent(),this.route(E.go,"realtime-monitoring"),this.getMenuData(),this.getPersonInfo(),this.initTopPublic(),[2]}}))}))},e.prototype.bindEvent=function(){this.state.$dom.$menuButton.on("click",this.handleToggleMenu.bind(this)),this.state.$dom.$linksLi.on("click",this.handleLinkClick.bind(this)),this.state.$dom.$menuButton.on("mouseover",this.handleMenuButtomMouseOver.bind(this)),this.state.$dom.$menuButton.on("mouseout",this.handleMenuButtomMouseOut.bind(this))},e.prototype.destory=function(){this.state.$origin.empty()},e.prototype.initTopPublic=function(){var e=this.dependency.get("data");window.pagesNav.init({access_token:e.get("access_token")})},e.prototype.route=function(e,t,n){return P(this,void 0,void 0,(function(){var i;return R(this,(function(a){switch(a.label){case 0:return e!==E.go?[3,13]:this.isDrawer(t)?this.state.data.drawerKey!==t?[3,1]:(this.hideDrawer(t),[3,5]):[3,6];case 1:return this.state.data.drawerKey?[4,this.replaceDrawer(t,n)]:[3,3];case 2:return a.sent(),[3,5];case 3:return[4,this.showDrawer(t,n)];case 4:a.sent(),a.label=5;case 5:return[3,12];case 6:return this.isPage(t)?(this.state.data.drawerKey&&this.hideDrawer(this.state.data.drawerKey),void 0===this.state.data.pageMap[t]?[3,7]:(this.showPage(t,n),[3,9])):[3,10];case 7:return[4,this.addNewPage(t,n)];case 8:a.sent(),a.label=9;case 9:return[3,12];case 10:return this.isModal(t)?[4,this.showModal(t,n)]:[3,12];case 11:a.sent(),a.label=12;case 12:return[3,14];case 13:e===E.back&&(i=this.state.data.activeKeys[this.state.data.activeKeys.length-1],this.isDrawer(i)&&this.hideDrawer(i)),a.label=14;case 14:return[2]}}))}))},e.prototype.handleMenuButtomMouseOver=function(){var e=$("#toggle-left-tooltip");e.addClass("in"),e.css({top:"13px",left:"300px",display:"block"})},e.prototype.handleMenuButtomMouseOut=function(){$("#toggle-left-tooltip").removeClass("in").css("display","none")},e.prototype.handleLinkClick=function(e){var t=$(e.currentTarget).data("key");this.go(t)},e.prototype.go=function(e,t){return P(this,void 0,void 0,(function(){var n,i;return R(this,(function(a){switch(a.label){case 0:return this.state.$dom.$linksLi.removeClass("active"),"realtime-video"===e&&-1!==this.state.data.activeKeys.indexOf("realtime-video")||"video-playback"===e&&-1!==this.state.data.activeKeys.indexOf("video-playback")?layer.msg(""):layer.closeAll(),[4,this.route(E.go,e,t)];case 1:return a.sent(),n=this.state.data.activeKeys[this.state.data.activeKeys.length-1],i=n,this.state.$dom.$linksLi.filter('[data-key="'+i+'"]').addClass("active"),[2]}}))}))},e.prototype.back=function(){return P(this,void 0,void 0,(function(){var e,t;return R(this,(function(n){switch(n.label){case 0:return this.state.$dom.$linksLi.removeClass("active"),[4,this.route(E.back)];case 1:return n.sent(),e=this.state.data.activeKeys[this.state.data.activeKeys.length-1],t=e,this.state.$dom.$linksLi.filter('[data-key="'+t+'"]').addClass("active"),[2]}}))}))},e.prototype.isDrawer=function(e){return this.drawerKeys.indexOf(e)>-1},e.prototype.isPage=function(e){return this.pageKeys.indexOf(e)>-1},e.prototype.isModal=function(e){return this.modalKeys.indexOf(e)>-1},e.prototype.handleToggleMenu=function(){var e=N()(this.state.data.menus);if(!1===this.state.data.menuHtmlLoaded){this.state.$dom.$menuContainer.html(e),this.state.data.menuHtmlLoaded=!0,$("#menuUl .sub-menu > a").click((function(e){$("#menuUl ul ul").slideUp(),$(this).addClass("activeLine").find("i:eq(1)").toggleClass("fa-angle-right fa-angle-down"),$(this).next().is(":visible")||$(this).next().slideDown().parents(".sub-menu").siblings().children("a").removeClass("activeLine").find("i:eq(1)").removeClass("fa-angle-down").addClass("fa-angle-right"),e.stopPropagation()})),$("ul.second-menu-ul li >a").click((function(e){$(this).parent().siblings().children("a").removeClass("open"),e.stopPropagation()}));var t=window.location.href,n=$("ul.second-menu-ul li a").filter((function(){return this.href==t||0==t.indexOf(this.href)})).addClass("open");$("ul.second-menu-ul li a").is("a")&&(n.parents("li.sub-menu").addClass("active").siblings().removeClass("active"),n.parents("li.sub-menu").children("a").addClass("activeLine").find("i:eq(1)").toggleClass("fa-angle-right fa-angle-down"),n.parents("ul.second-menu-ul").show());var i=$(".second-menu-ul ul a").filter((function(){return this.href==t||0==t.indexOf(this.href)})).addClass("open");$(".second-menu ul li").is("li")&&(i.parents("li.sub-menu").addClass("active").siblings().removeClass("active"),i.parents("li.second-menu").children("a").find("i:eq(1)").toggleClass("fa-angle-right fa-angle-down"),i.parents("li.second-menu").siblings().children("ul").hide()),$("#menuUl .second-menu > a.open").parent().siblings().children("ul").hide(),$("#menuUl .second-menu > a").click((function(e){$("#menuUl ul ul ul").slideUp(),$(this).next().is(":visible")||$(this).next().slideDown(),e.stopPropagation()}))}this.state.$dom.$menuDrawer.toggleClass("drawer-open")},e.prototype.generatePage=function(){var e=$('<div class="page"></div>'),t="pageId"+this.generateRandomId();return e.attr("id",t),e},e.prototype.generateRandomId=function(){for(var e="0123456789abcdefghijklmnopqrskuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t=e.length,n="",i=0;i<10;i++){n+=e[Math.floor(Math.random()*t)]}return n},e.prototype.showModal=function(e,t){return P(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return[4,this.componentFactor(e,U.modalContainerId,t)];case 1:return n.sent(),[2]}}))}))},e.prototype.showPage=function(e,t){var n=this.state.data.activeKeys.indexOf(e);this.state.data.activeKeys.popToLast(n);var i=this.state.data.pageMap[e];i.siblings().removeClass("active slideIn jumpIn"),i.addClass("active jumpIn");var a=this.dependency.get(e);a&&a.update&&a.update(t)},e.prototype.addNewPage=function(e,t){return P(this,void 0,void 0,(function(){var n,i,a;return R(this,(function(r){switch(r.label){case 0:return n=this.generatePage(),this.state.$dom.$pageContainer.append(n),i=n.attr("id"),[4,this.componentFactor(e,i,t)];case 1:return a=r.sent(),this.state.data.pageMap[e]=n,this.dependency.set(e,a),this.state.data.activeKeys.push(e),this.state.$dom.$pageContainer.find(".page").removeClass("active slideIn jumpIn"),n.addClass("active slideIn"),[2]}}))}))},e.prototype.showDrawer=function(e,t){return P(this,void 0,void 0,(function(){var n,i;return R(this,(function(a){switch(a.label){case 0:return this.state.$dom.$drawerContainer.addClass("active"),n=this.state.$dom.$drawer.attr("id"),[4,this.componentFactor(e,n,t)];case 1:return i=a.sent(),this.dependency.set(e,i),this.state.data.drawerKey=e,this.state.data.activeKeys.push(e),[2]}}))}))},e.prototype.hideDrawer=function(e){var t=this.dependency.get(e);t&&t.destory(),this.state.$dom.$drawerContainer.removeClass("active"),this.dependency.set(e,void 0),this.state.data.drawerKey=null,this.state.data.activeKeys.pop()},e.prototype.replaceDrawer=function(e,t){return P(this,void 0,void 0,(function(){var n,i,a;return R(this,(function(r){switch(r.label){case 0:return(n=this.dependency.get(e))&&n.destory(),i=this.state.$dom.$drawer.attr("id"),[4,this.componentFactor(e,i,t)];case 1:return a=r.sent(),this.dependency.set(e,a),this.state.data.drawerKey=e,this.state.data.activeKeys.pop(),this.state.data.activeKeys.push(e),[2]}}))}))},e.prototype.componentFactor=function(e,t,i){return P(this,void 0,void 0,(function(){var a;return R(this,(function(r){switch(r.label){case 0:switch(a=$.extend({selector:"#"+t},i),e){case"realtime-monitoring":return[3,1];case"history-capture":return[3,3];case"video-playback":return[3,5];case"realtime-video":return[3,7];case"group-message":return[3,9];case"offline-vehicle":return[3,11];case"statistics-reports":return[3,13];case"track-playback":return[3,15]}return[3,17];case 1:return[4,Promise.all([n.e(0),n.e(10),n.e(5)]).then(n.bind(null,255))];case 2:return[2,new(0,r.sent().default)(a,this.dependency)];case 3:return[4,Promise.all([n.e(0),n.e(2)]).then(n.bind(null,257))];case 4:return[2,new(0,r.sent().default)(a,this.dependency)];case 5:return[4,Promise.all([n.e(0),n.e(8)]).then(n.bind(null,258))];case 6:return[2,new(0,r.sent().default)(a,this.dependency)];case 7:return[4,Promise.all([n.e(0),n.e(4)]).then(n.bind(null,256))];case 8:return[2,new(0,r.sent().default)(a,this.dependency)];case 9:return[4,Promise.all([n.e(0),n.e(1)]).then(n.bind(null,252))];case 10:return[2,new(0,r.sent().default)(a,this.dependency)];case 11:return[4,Promise.all([n.e(0),n.e(3)]).then(n.bind(null,253))];case 12:return[2,new(0,r.sent().default)(a,this.dependency)];case 13:return[4,n.e(6).then(n.bind(null,254))];case 14:return[2,new(0,r.sent().default)(a,this.dependency)];case 15:return[4,Promise.all([n.e(0),n.e(7)]).then(n.bind(null,259))];case 16:return[2,new(0,r.sent().default)(a,this.dependency)];case 17:return[2,null]}}))}))},e.prototype.getMenuData=function(){return P(this,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,l.a.post("/clbs/getCurrentResource",null)];case 1:return e=t.sent(),this.state.data.menus={data:e.data.resources},[2]}}))}))},e.prototype.getParameter=function(){return P(this,void 0,void 0,(function(){var e,t,n,i;return R(this,(function(a){switch(a.label){case 0:return[4,l.a.get("/clbs/getParameter",null)];case 1:return e=a.sent(),t=e.data,n=t.obj,(i=this.dependency.get("data")).set("access_token",n.accessToken),i.set("ftpName",n.ftpName),i.set("videoUrl",n.videoUrl),i.set("videoPort",n.videoPort),i.set("audioPort",n.audioPort),i.set("resourcePort",n.resourcePort),i.set("ftpPort",n.ftpResourcePort),i.set("groupId",n.groupId),$("#permissionUrls").val(n.permissionUrls),[2]}}))}))},e.prototype.html2Escape=function(e,t){return e?(t&&(e=e.replace(/<br\/>/g,"_#@#_")),e.replace(/[<>&"']/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&quot;"}[e]})).replace(/_#@#_/g,"<br/>")):""},e.prototype.getPersonInfo=function(){return P(this,void 0,void 0,(function(){var e,t,n,i,a,r,o,s,d,c,u,h,p,f,m;return R(this,(function(g){switch(g.label){case 0:return e=this.dependency.get("data"),t=e.get("groupId"),(n=new FormData).set("uuid",t),"/clbs/m/intercomplatform/personalized/find",[4,l.a.post("/clbs/m/intercomplatform/personalized/find",n)];case 1:return i=g.sent(),1==(a=i.data).success&&(r=a.obj.list)&&(o=r.topTitle,(m=window.localStorage).title=o,$("#personalizedTitle").html(this.html2Escape(o)),s=r.copyright,d=r.websiteName,c=r.recordNumber,$("#copyRight").html(this.html2Escape(s)),$("#website").html(this.html2Escape(d)),$("#website").attr("href","http://"+d),$("#record").html(this.html2Escape(c)),u="/clbs/resources/img/logo/"+r.homeLogo,$(".brand").attr("style","background-image:url("+u+");"),h=r.webIco,$("#icoLink").attr("href","/clbs/resources/img/logo/"+h),r.videoBackground&&(p="/clbs/resources/img/logo/"+r.videoBackground,(f=document.createElement("style")).type="text/css",f.innerHTML='video{ background-image:url("'+p+'")!important; }',document.getElementsByTagName("head").item(0).appendChild(f)),(m=window.localStorage).homeLogo=u,m.videoBg=p),[2]}}))}))},e}(),M=function(){function e(){this._dependencies={}}return e.prototype.set=function(e,t){this._dependencies[e]=t},e.prototype.get=function(e){return this._dependencies[e]},e}(),O=function(){function e(){this.runEventHandler=function(e){var t=this._eventHandlerList[e];if(void 0===t||void 0===t.length||0===t.length)return!1;for(var n=0;n<t.length;n++){var i=t[n];if("function"==typeof i){var a=i.apply(null,Array.prototype.slice.call(arguments,1));if(!1===a)break}}},this._eventHandlerList={},this._data={}}return e.prototype.set=function(e,t){this._data[e]=t;var n=e.charAt(0).toUpperCase()+e.substr(1);this.runEventHandler("on"+n+"Change")},e.prototype.get=function(e){return this._data[e]},e.prototype.on=function(e,t){void 0===this._eventHandlerList[e]?this._eventHandlerList[e]=[t]:this._eventHandlerList[e].push(t)},e.prototype.off=function(e,t){var n=this._eventHandlerList[e];if(void 0===n||void 0===n.length||0===n.length)return!1;for(var i=0;i<n.length;i++)n[i]===t&&n.splice(i,1)},e}(),j=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((i=i.apply(e,t||[])).next())}))},F=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},B=function(){function e(){}return e.init=function(){return j(this,void 0,void 0,(function(){var e,t,n;return F(this,(function(i){switch(i.label){case 0:return[3,2];case 1:i.sent(),i.label=2;case 2:return e=new M,t=new O,e.set("data",t),n=new L({selector:"body"},e),e.set("layout",n),[2]}}))}))},e.modalContainerId="modalOutsideContainer",e}(),U=t.a=B},function(e,t){e.exports='<div class="layout-container">\r\n  <div class="layout-header">\r\n    \x3c!--logo start--\x3e\r\n    <div class="pull-left">\r\n      <a class="brand" href="/clbs/home"></a>\r\n    </div>\r\n    \x3c!--logo end--\x3e\r\n    <div class="pull-left ">\r\n      <button type="button" class="btn menu-button">\r\n        <i class="fa fa-bars"></i>\r\n      </button>\r\n      <div class="tooltip fade right" id="toggle-left-tooltip">\r\n        <div class="tooltip-arrow"></div>\r\n        <div class="tooltip-inner"></div>\r\n      </div>\r\n    </div>\r\n    <div class="pull-left">\r\n      <div class="title"></div>\r\n    </div>\r\n    <div class="pull-left links">\r\n      <ul>\r\n        <li data-key="realtime-monitoring" class="active"></li>\r\n        <li data-key="track-playback"></li>\r\n        <li data-key="realtime-video"></li>\r\n        <li data-key="video-playback"></li>\r\n        <li data-key="group-message"></li>\r\n        <li data-key="offline-vehicle"></li>\r\n        <li data-key="history-capture"></li>\r\n        <li data-key="statistics-reports"></li>\r\n      </ul>\r\n    </div>\r\n    <div class="pull-right user-nav">\r\n      <ul>\r\n        <li id="noticeBox" class="topNotice dropdown">\r\n          <i id="noticeRedIcon1" class="redIcon"></i>\r\n          <div id="newMsgTitle"></div>\r\n          <button id="noticeBtn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"\r\n            onclick="pagesNav.openChat()">\r\n            <img src="/clbs/resources/img/msg.svg" style="width:15px;margin-top:-3px;" />\r\n          </button>\r\n        </li>\r\n        <li id="noticeBox1" class="topNotice dropdown settings">\r\n          \x3c!--<span id="noticeNum1">0</span>--\x3e\r\n          <i id="noticeRedIcon" class="redIcon"></i>\r\n          <button id="noticeBtn1" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n            <img src="/clbs/resources/img/notice2.svg" style="width:14px;margin-top:-4px;margin-right: -1px" />\r\n          </button>\r\n          <div id="navVoices" class="dropdown-nav-voices">\r\n            <img src="/clbs/resources/img/voiceOpen.png" style="width:80%" id="voiceImgSwitch">\r\n          </div>\r\n          <div class="waves" id="noticeWaves"></div>\r\n          <div id="noticeVoice" style="display: none">\r\n            <audio id="noticeIEalarmMsg" src="/clbs/file/music/alarm.wav"></audio>\r\n            <audio id="noticeAutoOff" src="/clbs/file/music/YJTSY.mp3"></audio>\r\n          </div>\r\n          <ul id="menu2" class="dropdown-menu animated fadeInDown"\r\n            style="min-width: 196px;max-height: 400px!important;">\r\n            <li class="noInfo text-center" style="display: none">\r\n              <a href="#">\r\n                \r\n              </a>\r\n            </li>\r\n            <li class="byNum numTwo">\r\n              <a href="#" onclick="pagesNav.goAlarmUrl(3)">\r\n                <i class="fa fa-file-text-o"></i>  <span id="byNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="jttNum numOne">\r\n              <a href="#" onclick="pagesNav.goGangSupervision(11)">\r\n                \x3c!--<i class="fa fa-paper-plane"></i>--\x3e\r\n                <i class="fa fa-file-text-o"></i>  <span id="jttNum">0</span> JTT\r\n              </a>\r\n            </li>\r\n            <li class="xzNum numOne">\r\n              <a href="#" onclick="pagesNav.goGangSupervision(12)">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>  <span\r\n                  id="xzNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="jttAlarmNum numOne">\r\n              <a href="#" onclick="pagesNav.goGangSupervision(21)">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>  <span\r\n                  id="jttAlarmNum">0</span> JTT\r\n              </a>\r\n            </li>\r\n            <li class="xzAlarmNum numOne">\r\n              <a href="#" onclick="pagesNav.goGangSupervision(22)">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>  <span\r\n                  id="xzAlarmNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="fwNum numTwo">\r\n              <a href="#" onclick="pagesNav.goFwUrl()">\r\n                <i class="fa fa-file-text-o"></i>  <span id="fwNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="bxNum numTwo">\r\n              <a href="#" onclick="pagesNav.goBxUrl()">\r\n                <i class="fa fa-file-text-o"></i>  <span id="bxNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="yszNum numTwo">\r\n              <a href="#" onclick="pagesNav.goAlarmUrl(2)">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>  <span\r\n                  id="yszNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="xszNum numTwo">\r\n              <a href="#" onclick="pagesNav.goAlarmUrl(1)">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>  <span\r\n                  id="xszNum">0</span> \r\n              </a>\r\n            </li>\r\n            <li class="conactInfo">\r\n              <a href="#" onclick="pagesNav.goConnection()">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i> 809...\r\n              </a>\r\n            </li>\r\n            <li class="inspectionInfo">\r\n              <a href="#" onclick="pagesNav.inspectionPeople()">\r\n                <i class="fa fa-file-text-o" style="vertical-align: 1px;margin-right: 2px"></i>\r\n                \r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n        <li id="alarmIcoHide" class="topNotice">\r\n          <span id="alarmno"></span>\r\n          <div style="visibility:hidden;" id="alarmWaves" class="waves"></div>\r\n          <button onclick="pagesNav.alarmDeal()" id="alarmIcoHide" class="btn btn-default" type="button">\r\n            <img src="/clbs/resources/img/allcall.svg" style="width:18px;height:18px;margin-top:-6px;" />\r\n          </button>\r\n          <div id="emaliVoice" class="dropdown-nav-voices">\r\n            <img src="/clbs/resources/img/voiceOpen.png" style="width:80%" id="emaliVoiceImg">\r\n          </div>\r\n        </li>\r\n        <li id="downloadBox" class="topNotice dropdown settings">\r\n          <i id="downloadRedIcon" class="redIcon"></i>\r\n          <button id="downloadBtn" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\r\n            <img src="/clbs/resources/img/download.svg" style="width:14px;margin-top:-4px;margin-right: -1px" />\r\n          </button>\r\n        </li>\r\n        <li class="profile-photo" style="margin-bottom: -3px">\r\n          <button type="button" class="btn btn-default dropdown-toggle options">\r\n            <i class="fa fa-user"></i>\r\n          </button>\r\n        </li>\r\n        <li class="dropdown settings user-setting">\r\n          <a class="dropdown-toggle" data-toggle="dropdown" href="#">\r\n            <span id="userName" class="user-name-span"></span>\r\n            <i class="fa fa-angle-down"></i>\r\n          </a>\r\n          <ul class="dropdown-menu animated fadeInDown">\r\n            <li><a href="/clbs/c/user/profile"><i class="fa fa-user"></i>&nbsp;&nbsp;</a></li>\r\n            <li id="editPwd"><a href="/clbs/c/user/changePwd"><i class="fa fa-pencil-square-o"></i>\r\n                </a>\r\n            </li>\r\n            <li><a href="javascript:void(0);" id="updateFontSize"><i class="fa fa-font"></i> </a></li>\r\n            <li>\r\n              <a href="javascript:void(0);" id="language" style="margin-left:-2px;"><img\r\n                  style="margin-top:-1px; width:14px;height:14px; margin-right:4px;"\r\n                  src="/clbs/resources/img/languageTag.png" alt="">language</a>\r\n            </li>\r\n            \x3c!--<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal"></button>--\x3e\r\n            <li><a id="logOut" href="javascript:void(0);" onclick="pagesNav.logout()"><i class="fa fa-power-off"></i>\r\n                </a>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n\r\n      </ul>\r\n      \x3c!-- id --\x3e\r\n      <input id="userGroupId" th:value="${session.groupId}" type="text" hidden="true" />\r\n      \x3c!-- name --\x3e\r\n      <input id="userGroupName" th:value="${session.groupName}" type="text" hidden="true" />\r\n      \x3c!-- admin --\x3e\r\n      <input id="isAdmin" th:value="${session.isAdmin}" type="text" hidden="true" />\r\n      \x3c!--  --\x3e\r\n      <input id="userAuthorizationDate" th:value="${session.userAuthorizationDate}" type="text" hidden="true" />\r\n      \x3c!--  --\x3e\r\n      <input id="allUserRole" th:value="${session.userRole}" type="text" hidden="true" />\r\n      \x3c!-- url --\x3e\r\n      <input id="permissionUrls" value="" type="text" hidden="true" />\r\n      <input id="profile" th:value="${session.profile}" type="text" hidden="true" />\r\n      <input id="version" th:value="#{web.version}" type="text" hidden="true" />\r\n      \x3c!-- help --\x3e\r\n      <div class="modal fade bs-example-modal-md" id="helpCenterModal" tabindex="-1" role="dialog" aria-hidden="true">\r\n        <div class="modal-dialog modal-md" style="margin:10% auto;">\r\n          <div class="modal-content">\r\n            <div class="modal-header" style="border-bottom: none;">\r\n              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span\r\n                  class="sr-only">Close</span></button>\r\n            </div>\r\n            <div class="modal-body">\r\n              <p><strong>Windows</strong></p>\r\n              <p>1. ctrl</p>\r\n              <p>2. ctrl+-0</p>\r\n              <p><strong>Mac</strong></p>\r\n              <p>1. command\r\n              <p>2. command+-0</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!----\x3e\r\n      <div class="modal fade bs-example-modal-md" id="languageModal" tabindex="-1" role="dialog" aria-hidden="true">\r\n        <div class="modal-dialog modal-md" style="margin:7.5% 13.4%;">\r\n          <div class="modal-content" style="width:1450px;height:710px;">\r\n            <div class="modal-header">\r\n              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span\r\n                  class="sr-only">Close</span></button>\r\n              <span style="margin-left: 30px; font-size:18px; font-weight: 600">Google (Google\r\n                Translate plugin download and use)</span>\r\n            </div>\r\n            <div class="languageBody">\r\n              <div id="carousel-example-generic" class="carousel slide" data-pause="carousel" data-wrap="carousel">\r\n                \x3c!----\x3e\r\n                <div class="carousel-inner">\r\n                  <div class="item carousel_item active">\r\n                    \x3c!--<img src="./w1.jpg">--\x3e\r\n                    <div style="border-bottom: 1px solid #d8d8d8;">\r\n                      <h5 class="carousel_font"></h5>\r\n                      <h5 class="carousel_font">(Double-click to open Google Chrome and follow the image tag to open the\r\n                        extension.)</h5>\r\n                    </div>\r\n                    <div class="carousel_img">\r\n                      <img style="border: 1px solid #fff; border-radius: 10px;" src="/clbs/resources/img/language1.jpg"\r\n                        alt="">\r\n                    </div>\r\n                  </div>\r\n                  <div class="item carousel_item">\r\n                    <div style="border-bottom: 1px solid #d8d8d8;">\r\n                      <h5 class="carousel_font">Google</h5>\r\n                      <h5 class="carousel_font">(In the extensions panel, open the Google web store as shown.)</h5>\r\n                    </div>\r\n                    <div class="carousel_img">\r\n                      <img style="border: 1px solid #fff; border-radius: 10px;" src="/clbs/resources/img/language2.jpg"\r\n                        alt="">\r\n                    </div>\r\n                  </div>\r\n                  <div class="item carousel_item">\r\n                    <div style="border-bottom: 1px solid #d8d8d8;">\r\n                      <h5 class="carousel_font">Translate</h5>\r\n                      <h5 class="carousel_font">(Search for the "Translate" keyword in the Google Web Store, find the\r\n                        Google Translate plugin, and click Add to Google.)\r\n                      </h5>\r\n                    </div>\r\n                    <div class="carousel_img">\r\n                      <img style="border: 1px solid #fff; border-radius: 10px;" src="/clbs/resources/img/language3.jpg"\r\n                        alt="">\r\n                    </div>\r\n                  </div>\r\n                  <div class="item carousel_item">\r\n                    <div style="border-bottom: 1px solid #d8d8d8;">\r\n                      <h5 class="carousel_font">Google\r\n                      </h5>\r\n                      <h5 class="carousel_font">(After the addition is successful, click the icon of Google Translate in\r\n                        the upper right corner to pop up the search box and click Translate this page to complete the\r\n                        translation of the page.)\r\n                      </h5>\r\n                    </div>\r\n                    <div class="carousel_img">\r\n                      <img style="border: 1px solid #fff; border-radius: 10px;" src="/clbs/resources/img/language4.jpg"\r\n                        alt="">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                \x3c!----\x3e\r\n                <ul class="carousel-indicators" style="position: relative;left:288px;top:10px;">\r\n                  <li data-target="#carousel-example-generic" data-slide-to="0" class="activeBlack active"\r\n                    style="position: relative;left:-74px;">\r\n                    <span style="position:absolute;left:513px;top:0px;font-size:20px;">1</span>\r\n\r\n                  <li data-target="#carousel-example-generic" data-slide-to="1" class="activeBlack"\r\n                    style="position: relative;left:-38px;">\r\n                    <span style="position:absolute;left:513px;top:0px;font-size:20px;">2</span>\r\n                  </li>\r\n\r\n                  <li data-target="#carousel-example-generic" data-slide-to="2" class="activeBlack"\r\n                    style="position: relative; left:-2px;">\r\n                    <span style="position:absolute;left:513px;top:0px;font-size:20px;">3</span>\r\n                  </li>\r\n\r\n                  <li data-target="#carousel-example-generic" data-slide-to="3" class="activeBlack"\r\n                    style="position: relative;left: 32px;">\r\n                    <span style="position:absolute;left:513px;top:0px;font-size:20px;">4</span>\r\n                  </li>\r\n                </ul>\r\n\r\n                \x3c!----\x3e\r\n                <a class="carousel-control-prev" style="position: absolute;top:50%;left:7px;"\r\n                  href="#carousel-example-generic" data-slide="prev">\r\n                  <img class="leftHover" style="width: 40px;height: 40px;" src="/clbs/resources/img/languageLeft.png"\r\n                    alt="">\r\n                </a>\r\n                <a class="carousel-control-next" style="position: absolute;top:50%;left:96.5%"\r\n                  href="#carousel-example-generic" data-slide="next">\r\n                  <img class="rightHover" style="width: 40px;height: 40px;" src="/clbs/resources/img/languageRight.png"\r\n                    alt="">\r\n                </a>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="layout-body">\r\n    <div class="layout-content">\r\n      <div class="page-container">\r\n\r\n      </div>\r\n      <div class="drawer-container">\r\n        <div class="drawer-overly"></div>\r\n        <div class="drawer">\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="layout-drawer drawer-left menu-drawer">\r\n      <div class="menu-container zero-scrollbar" id="menuUl">\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\'alarmRemindModal\'>\r\n      <div id="bomMsgBoxClickShow" class="bomMsgBoxClickShow" onclick="pagesNav.bomMsgShow()" style=\'display: none;\'>\r\n        <img src="/clbs/resources/img/top-arrow.png" width="12px" height="12px" />\r\n      </div>\r\n      \x3c!-- <div id="bomMsgBoxClickShowBtm" class="bomMsgBoxClickShowBtm" style="display: none"></div> --\x3e\r\n      <div id="bomMsgBox" class="bomMsgBox">\r\n        <div id="bomMsgBoxClickClose" class="bomMsgBoxClickClose" onclick="pagesNav.bomMsgClose()">\r\n          <img src="/clbs/resources/img/bottom-arrow.png" width="12px" height="12px" />\r\n        </div>\r\n        <div style="height: 40%;">\r\n          <h3></h3>\r\n          <p id="bomMsgBoxContent" style="padding: 10px 20px 0; font-size: 16px; height: 80%;\r\n          overflow-y: auto;"></p>\r\n        </div>\r\n        <div class="okBox">\r\n          <p class="okClick" onclick="pagesNav.okClick()">  </p>\r\n          <p class="okClick" onclick="pagesNav.noClick()">  </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- 808 --\x3e\r\n  <div class="modal fade" id="warningManage" role="dialog" style="overflow-y:hidden" data-backdrop="static"\r\n    data-keyboard="false" aria-labelledby="alarmSettingInfo" aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span\r\n              class="sr-only">Close</span></button>\r\n          <h4 class="modal-title"></h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="row form-horizontal">\r\n            <div class="form-group">\r\n              <label class="col-md-3 control-label"></label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="warningCarName"></span>\r\n              </div>\r\n              <label class="col-md-3 control-label" id="professionLabel"></label>\r\n              <div class="col-md-3 dataStatistics-value" id="professionValue">\r\n                <span id="warningPeo"></span>\r\n              </div>\r\n            </div>\r\n            <div class="form-group">\r\n              <label class="col-md-3 control-label"></label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="warningGroup" style="word-break: break-all"></span>\r\n              </div>\r\n              <label class="col-md-3 control-label"></label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="warningTime"></span>\r\n              </div>\r\n            </div>\r\n            <div class="form-group">\r\n              <label class="col-md-3 control-label"></label>\r\n              <div class="col-md-8 dataStatistics-value warningTypeArea">\r\n                <span id="warningDescription"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="overSpeedGap">\r\n              <label class="col-md-3 control-label">(km/h)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="overSpeedGapValue"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="tiredDriveGap">\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="tiredDriveGapValue"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="crashWarning">\r\n              <label class="col-md-3 control-label">(ms)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="crashTime"></span>\r\n              </div>\r\n              <label class="col-md-3 control-label">(0.1g)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="crashSpeed"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="turnOnWarning">\r\n              <label class="col-md-3 control-label">()</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="turnOnValue"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="overSpeeds">\r\n              <label class="col-md-3 control-label">(km/h)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="warningSpeed"></span>\r\n              </div>\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="warningAllTime"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="tiredDrive">\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="continuousDriveTime"></span>\r\n              </div>\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="breakTime"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="addUpDrive">\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="addUpDriveTime"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="overTimeStop">\r\n              <label class="col-md-3 control-label">(s)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="overTimeStopTime"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!-- 2-5 --\x3e\r\n            <div class="form-group warningDeal" id="earlyRun">\r\n              <label class="col-md-3 control-label">2-5</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="earlyRunValue"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div class="form-group warningDeal" id="displacementCar">\r\n              <label class="col-md-3 control-label">(m)</label>\r\n              <div class="col-md-3 dataStatistics-value">\r\n                <span id="displacementCarDistance"></span>\r\n              </div>\r\n            </div>\r\n            \x3c!--  --\x3e\r\n            <div id="shieldWarning" class="warningDeal">\r\n              <div class="form-group">\r\n                <label class="col-md-3 control-label">(s)</label>\r\n                <div class="col-md-3 dataStatistics-value">\r\n                  <span id="offLineTime"></span>\r\n                </div>\r\n                <label class="col-md-3 control-label"></label>\r\n                <div class="col-md-3 dataStatistics-value">\r\n                  <span id="offLineStartTime"></span>\r\n                </div>\r\n              </div>\r\n              <div class="form-group">\r\n                <label class="col-md-3 control-label"></label>\r\n                <div class="col-md-3 dataStatistics-value">\r\n                  <span id="offLineEndTime"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <span id="color" style="color: red; display: none; margin-left: 20px;"></span>\r\n            <input id="warningType" type="hidden" name="warningType" />\r\n            <input type="hidden" id="simcard" name="simcard" />\r\n            <input type="hidden" id="vUuid" name="vUuid" />\r\n            <input type="hidden" id="alarmId" />\r\n            <input type="hidden" id="device" name="device" />\r\n            <input type="hidden" id="sno" name="sno" />\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer" id="warningHiden" style="text-align:center!important;">\r\n          <button id="warningManageListening" type="button" class="btn btn-primary btn-alarm-manage"></button>\r\n          <button id="warningManagePhoto" type="button" class="btn btn-primary btn-alarm-manage"></button>\r\n          <button id="warningManageSend" type="button" class="btn btn-primary btn-alarm-manage"></button>\r\n          <button id="warningManageAffirm" type="button" class="btn btn-primary btn-alarm-manage"\r\n            style="padding: 9px 0 8px">\r\n          </button>\r\n          <button id="warningManageCancel" type="button" class="btn btn-primary btn-alarm-manage"></button>\r\n          <button id="warningManageFuture" type="button" class="btn btn-primary btn-alarm-manage"></button>\r\n          <button id="warningManageClose" type="button" class="btn btn-default btn-alarm-manage"\r\n            data-dismiss="modal"></button>\r\n\r\n          \x3c!-- - --\x3e\r\n          <div id="listeningContent">\r\n            <form action="/clbs/v/monitoring/handleAlarm" role="form" id="listeningAlarm" method="post"\r\n              class="form-horizontal">\r\n              <div class="modal-body" style="padding:20px 0px 0;text-align: left;">\r\n                <div class="form-group">\r\n                  <input class="hidden" id="vidforAlarmListen" name="vehicleId" value="">\r\n                  <input class="hidden" name="orderType" value="41">\r\n                  <input class="hidden" id="brandListen" name="plateNumber" value="">\r\n                  <input class="hidden" id="alarmListen" name="alarm" value="">\r\n                  <input class="hidden" id="startTimeListen" name="startTime" value="">\r\n                  <input class="hidden" id="simcardListen" name="simcard" value="">\r\n                  <input class="hidden" id="deviceListen" name="device" value="">\r\n                  <input class="hidden" id="snoListen" name="sno" value="">\r\n                  <input class="hidden" id="handleTypeListen" name="handleType" value="">\r\n                  <input class="hidden" id="descriptionListen" name="description" value="">\r\n                  <textarea class="hidden" id="remarkListen" name="remark" rows="4"></textarea>\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" placeholder="" autocomplete="off" class="form-control" id="listenPhone"\r\n                      name="monitorPhone" maxlength="20" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          \x3c!-- - --\x3e\r\n          <div id="takePicturesContent">\r\n            <form action="/clbs/v/monitoring/photo" role="form" id="takePhotoForAlarm" action="#" method="post"\r\n              class="form-horizontal">\r\n              <div class="modal-body" style="padding:10px 0px 10px 0px;text-align: left;">\r\n                <div class="form-group">\r\n                  <input class="hidden" id="vidforAlarm" name="vid" value="">\r\n                  <input class="hidden" name="orderType" value="1">\r\n                  <input class="hidden" id="brandPhoto" name="plateNumber" value="">\r\n                  <input class="hidden" id="alarmPhoto" name="alarm" value="">\r\n                  <input class="hidden" id="startTimePhoto" name="startTime" value="">\r\n                  <input class="hidden" id="simcardPhoto" name="simcard" value="">\r\n                  <input class="hidden" id="devicePhoto" name="device" value="">\r\n                  <input class="hidden" id="snoPhoto" name="sno" value="">\r\n                  <input class="hidden" id="handleTypePhoto" name="handleType" value="">\r\n                  <input class="hidden" id="description-photo" name="description" value="">\r\n                  <textarea class="hidden" id="remark-photo" name="remark" rows="4"></textarea>\r\n                  <label class="col-md-2 control-label">ID</label>\r\n                  <div class=" col-md-3">\r\n                    <select name="wayID" class="form-control">\r\n                      <option value="1" selected="true">1</option>\r\n                      <option value="2">2</option>\r\n                      <option value="3">3</option>\r\n                      <option value="4">4</option>\r\n                      <option value="5">5</option>\r\n                    </select>\r\n                  </div>\r\n                  <label class="col-md-3 control-label">()</label>\r\n                  <div class=" col-md-3">\r\n                    <input type="text" placeholder="0" class="form-control" id="time" name="time" />\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class=" col-md-3">\r\n                    <input type="text" placeholder="1,10" value="1" class="form-control" name="command" />\r\n                  </div>\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-3">\r\n                    <select name="saveSign" class="form-control">\r\n                      <option value="0" selected="true"></option>\r\n                      <option value="1"></option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class=" col-md-3">\r\n                    <select name="distinguishability" class="form-control">\r\n                      <option class="minResolution" value="0"></option>\r\n                      <option class="defaultValue" value="1">320*240</option>\r\n                      <option value="2">640*480</option>\r\n                      <option value="3">800*600</option>\r\n                      <option value="4">1024*768</option>\r\n                      <option value="5">176*144</option>\r\n                      <option value="6">352*288</option>\r\n                      <option value="7">704*288</option>\r\n                      <option value="8">704*576</option>\r\n                      <option class="maxResolution" value="255"></option>\r\n                    </select>\r\n                  </div>\r\n                  <label class="col-md-3 control-label">\r\n                    \r\n                  </label>\r\n                  <div class="col-md-3">\r\n                    <input type="text" value="5" name="quality" class="form-control" />\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class="col-md-3">\r\n                    <input type="text" value="125" name="luminance" class="form-control" />\r\n                  </div>\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class="col-md-3">\r\n                    <input type="text" value="60" name="contrast" class="form-control" />\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class="col-md-3">\r\n                    <input type="text" value="60" name="saturability" class="form-control" />\r\n                  </div>\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class="col-md-3">\r\n                    <input type="text" value="125" name="chroma" class="form-control" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </form>\r\n          </div>\r\n          \x3c!-- - --\x3e\r\n          <div id="sendTextMessages">\r\n            <form action="/clbs/v/monitoring/sendTxt" role="form" id="txtSendForAlarm" action="#" method="post"\r\n              class="form-horizontal">\r\n              <div class="modal-body" style="padding:10px 0px 10px 0px;text-align: left;">\r\n                <div class="form-group newDeviceInfo">\r\n                  <div class="col-md-9" style="margin-left: 64px;">\r\n                    <label class="radio-inline"><input id="textTypeOne" type="radio" name="textType" value="1" checked>\r\n                      </label>\r\n                    <label class="radio-inline"><input id="textTypeTwo" type="radio" name="textType" value="2">\r\n                      </label>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <input class="hidden" id="vidSendTxtForAlarm" name="vid" value="">\r\n                  <input class="hidden" name="orderType" value="5">\r\n                  <input class="hidden" id="brandTxt" name="plateNumber" value="">\r\n                  <input class="hidden" id="alarmTxt" name="alarm" value="">\r\n                  <input class="hidden" id="startTimeTxt" name="startTime" value="">\r\n                  <input class="hidden" id="simcardTxt" name="simcard" value="">\r\n                  <input class="hidden" id="deviceTxt" name="device" value="">\r\n                  <input class="hidden" id="snoTxt" name="sno" value="">\r\n                  <input class="hidden" id="handleTypeTxt" name="handleType" value="">\r\n                  <input class="hidden" id="description-Txt" name="description" value="">\r\n                  <input class="hidden" id="deviceTypeTxt" name="deviceType">\r\n                  <textarea class="hidden" id="remark-Txt" name="remark" rows="4"></textarea>\r\n                  <label class="col-md-2 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <textarea class="form-control" id="smsTxt" name="txt" rows="3" maxlength="512"></textarea>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <div class="col-sm-offset-2 col-sm-9 noPadding">\r\n                    <div class="col-md-6 newDeviceInfo">\r\n                      <select id="messageTypeOne" name="messageTypeOne" class="form-control">\r\n                        <option value="1"></option>\r\n                        <option value="2"></option>\r\n                        <option value="3"></option>\r\n                      </select>\r\n                    </div>\r\n                    <div class="col-md-6 newDeviceInfo">\r\n                      <select id="messageTypeTwo" name="messageTypeTwo" class="form-control">\r\n                        <option value="0"></option>\r\n                        <option value="1">CAN</option>\r\n                      </select>\r\n                    </div>\r\n                    <div class="col-md-6 oldDeviceInfo">\r\n                      <div class="checkbox">\r\n                        <label><input id="checkboxOne" name="marks" value="1" type="checkbox"></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-md-6">\r\n                      <div class="checkbox">\r\n                        <label><input name="marks" value="3" checked="checked" type="checkbox" /></label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-md-6">\r\n                      <div class="checkbox">\r\n                        <label><input name="marks" value="4" checked="checked" type="checkbox" />TTS</label>\r\n                      </div>\r\n                    </div>\r\n                    <div class="col-md-6 oldDeviceInfo">\r\n                      <div class="checkbox">\r\n                        <label><input name="marks" value="5" checked="checked" type="checkbox" /></label>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div id="alarm-remark" class="clearfix">\r\n            <label class="col-md-1 col-sm-3 control-label paddingRight text-right"></label>\r\n            <div class="col-md-10 col-sm-8 searchListSelect" style="padding-right: 9px">\r\n              <textarea rows="4" class="form-control" id="alarmRemark" maxlength="50"></textarea>\r\n            </div>\r\n          </div>\r\n          <div class="modal-footer listenFooter" style="display: none;margin-top: 10px;">\r\n            <button type="button" id="goListeningForAlarm" class="btn btn-primary btn-alarm-manage">\r\n            </button>\r\n          </div>\r\n          <div class="modal-footer takePicturesFooter" style="display: none;margin-top: 10px;">\r\n            <button type="button" id="goPhotographsForAlarm" class="btn btn-primary btn-alarm-manage">\r\n            </button>\r\n          </div>\r\n          <div class="modal-footer sendTextFooter" style="display: none;margin-top: 10px;">\r\n            <button type="button" id="goTxtSendForAlarm" class="btn btn-primary btn-alarm-manage">\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!----\x3e\r\n  <div id="exportManager" class="modal fade" aria-hidden="true" data-backdrop="static">\r\n    <div class="modal-dialog modal-lg" role="document" style="width: 980px">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>\r\n          <h4 class="modal-title"></h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="form-group clearfix">\r\n            <label class="col-md-1 control-label"></label>\r\n            <div class="col-md-3">\r\n              <select name="status" id="downloadStatus" class="form-control">\r\n                <option value=""></option>\r\n                <option value="0"></option>\r\n                <option value="1"></option>\r\n                <option value="2"></option>\r\n                <option value="3"></option>\r\n              </select>\r\n            </div>\r\n            <label class="col-md-1 control-label"></label>\r\n            <div class="col-md-3">\r\n              <input type="text" id="downloadFileName" name="fileName" class="form-control" />\r\n            </div>\r\n            <div class="col-md-2">\r\n              <button id="downloadSearch" type="button" class="btn btn-primary search-btn"><i\r\n                  class="glyphicon glyphicon-search"></i> \r\n              </button>\r\n            </div>\r\n          </div>\r\n          <table id="downloadDataTable" class="table table-striped table-bordered table-hover checkTable"\r\n            cellspacing="0" width="100%">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th>(KB)</th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n          </table>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default btn-off" data-dismiss="modal"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="modal fade" id="patrolAnswerModel" data-backdrop="static" role="dialog" aria-labelledby="myModalLabel">\r\n    <div class="modal-dialog" role="document" style="width: 720px">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" data-dismiss="modal" aria-label="Close">x</button>\r\n          <h4 class="modal-title"></h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <form id="answerForm" class="form-horizontal" role="form" action="#" method="post">\r\n            <input type="hidden" name="id" id="answerId">\r\n            <input type="hidden" name="type" id="answerType" value="2">\r\n            <div class="row">\r\n              <div class="col-md-7">\r\n                <div class="form-group">\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" id="answerUser" name="answerUser" class="form-control" readonly>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" id="answerUserTel" name="answerUserTel" class="form-control" readonly>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" id="answerUserIdentityNumber" name="answerUserIdentityNumber"\r\n                      class="form-control" readonly>\r\n                  </div>\r\n                </div>\r\n                <div class="form-group">\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" id="socialSecurityNumber" name="socialSecurityNumber" class="form-control"\r\n                      readonly>\r\n                  </div>\r\n                </div>\r\n                <div id="answerCountdownGroup" class="form-group">\r\n                  <label class="col-md-3 control-label"></label>\r\n                  <div class=" col-md-9">\r\n                    <input type="text" id="answercountdown" class="form-control" readonly>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="col-md-5">\r\n                <div id="answerPhotoWrapper">\r\n                  <div id="answerNoImgInfo">\r\n                    <h2></h2>\r\n                    <h4>1M</h4>\r\n                  </div>\r\n                  <img id="answerPhotoImg" src="" alt="">\r\n                </div>\r\n                <div id="selectImgBox">\r\n                  <div class="inpFilePhoto">\r\n                    <input type="file" accept="image/png,image/jpeg,image/gif,image/svg+xml" id="answerImgFile"\r\n                      style="width:202px;" />\r\n                    <label class="changeFile" for="answerImgFile"></label>\r\n                  </div>\r\n                  <button id="getCameraBtn" type="button" class="btn btn-primary"></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div id="takingPicturesBox">\r\n            <video id="picturesVideo" width="200" height="241" autoplay></video>\r\n            <canvas id="pictureCanvas" class="hidden" width="200" height="241"></canvas>\r\n            <div id="pictureBtnGroup">\r\n              <button id="pictureSnap" class="btn btn-primary"></button>\r\n              <button id="pictureClose" class="btn btn-default"></button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button id="submitAnswer" type="button" class="btn btn-primary"></button>\r\n          <button type="button" class="btn btn-default" data-dismiss="modal"></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  \x3c!--  --\x3e\r\n  <div id="commonWin" tabindex="-2" class="modal fade bs-example-modal-lg" aria-hidden="true" data-keyboard="false"\r\n    data-backdrop="static">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content"></div>\r\n    </div>\r\n    <script th:inline="javascript">\r\n      /*<![CDATA[*/\r\n      $(function () {\r\n        var windowId = \'commonWin\';\r\n        $("#" + windowId).on("hidden.bs.modal", function () {\r\n          $(this).removeData("bs.modal");\r\n        });\r\n      });\r\n            /*]]>*/\r\n    <\/script>\r\n  </div>\r\n  <div id="commonLgWin" tabindex="-2" class="modal fade bs-example-modal-lg" aria-hidden="true" data-keyboard="false"\r\n    data-backdrop="static">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content"></div>\r\n    </div>\r\n    <script th:inline="javascript">\r\n      /*<![CDATA[*/\r\n      $(function () {\r\n        var windowId = \'commonLgWin\';\r\n        $("#" + windowId).on("hidden.bs.modal", function () {\r\n          $(this).removeData("bs.modal");\r\n        });\r\n      });\r\n            /*]]>*/\r\n    <\/script>\r\n  </div>\r\n  <div id="commonSmWin" class="modal fade" aria-hidden="true" data-keyboard="false" data-backdrop="static">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content"></div>\r\n    </div>\r\n    <script th:inline="javascript">\r\n      /*<![CDATA[*/\r\n      $(function () {\r\n        var windowId = \'commonSmWin\';\r\n        $("#" + windowId).on("hidden.bs.modal", function () {\r\n          $(this).removeData("bs.modal");\r\n        });\r\n      });\r\n            /*]]>*/\r\n    <\/script>\r\n  </div>\r\n  <div id="chatWin" tabIndex="-2" class="modal fade bs-example-modal-lg" aria-hidden="true" data-keyboard="false"\r\n    data-backdrop="static">\r\n    <div class="modal-dialog modal-lg" style="width:990px;max-height:730px">\r\n      <div class="modal-content"\r\n        style="box-shadow:none;-webkit-box-shadow:none;background-color:transparent;border:none;border-radius:0px;">\r\n        <iframe frameborder="0" allowtransparency="true" width="990px" height="720px" id="talk_box" src=""></iframe>\r\n      </div>\r\n    </div>\r\n    <script th:inline="javascript">\r\n      /*<![CDATA[*/\r\n      $(function () {\r\n        var windowId = \'chatWin\';\r\n        $("#" + windowId).on("hidden.bs.modal", function () {\r\n          $(this).removeData("bs.modal");\r\n        });\r\n      });\r\n            /*]]>*/\r\n    <\/script>\r\n  </div>\r\n  <div class="modal-outside-container">\r\n\r\n  </div>\r\n</div>'},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="nano">\r\n    <ul class="nano-content">\r\n        <li class="sub-menu active">\r\n            <a href="/clbs/" class="">\r\n                <i class="fa fa-home"></i><span></span>\r\n            </a>\r\n        </li>\r\n\r\n\r\n        <% data.forEach(function(menu){ %>\r\n        <li class="sub-menu">\r\n            <a href="javascript:void(0);" id="<%- menu.id %>">\r\n                <i class="<%- menu.iconCls %>"></i><span><%- menu.resourceName %></span>\r\n                <i class="arrow fa fa-angle-right pull-right"></i>\r\n            </a>\r\n            <ul class="second-menu-ul">\r\n                <% menu.childMenus.forEach(function(menu1){ %>\r\n                <li class="second-menu">\r\n                    <a href="<%- menu1.permValue %>" id="<%- menu1.id %>">\r\n                        <i class="fa fa-location-arrow"></i><span><%- menu1.resourceName %></span>\r\n                        <i class="<%- menu1.iconCls %>"></i>\r\n                    </a>\r\n                    <ul>\r\n                        <% menu1.childMenus.forEach(function(menu2){ %>\r\n                        <li>\r\n                            <a href="<%- menu2.permValue %>" id="<%- menu2.id %>">\r\n                                <i class="fa  fa-pencil"></i><span><%- menu2.resourceName %></span>\r\n                            </a>\r\n                        </li>\r\n                        <% }); %>\r\n                    </ul>\r\n                </li>\r\n                <% }); %>\r\n            </ul>\r\n        </li>\r\n        <% }); %>\r\n\r\n    </ul>\r\n</div>',filename:"."};function rethrow(e,t,n,i){var a=t.split("\n"),r=Math.max(i-3,0),o=Math.min(a.length,i+3),s=a.slice(r,o).map((function(e,t){var n=t+r+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="nano">\n    <ul class="nano-content">\n        <li class="sub-menu active">\n            <a href="/clbs/" class="">\n                <i class="fa fa-home"></i><span></span>\n            </a>\n        </li>\n\n\n        '),__stack.lineno=10,data.forEach((function(e){buf.push('\n        <li class="sub-menu">\n            <a href="javascript:void(0);" id="',(__stack.lineno=12,e.id),'">\n                <i class="',(__stack.lineno=13,e.iconCls),'"></i><span>',(__stack.lineno=13,e.resourceName),'</span>\n                <i class="arrow fa fa-angle-right pull-right"></i>\n            </a>\n            <ul class="second-menu-ul">\n                '),__stack.lineno=17,e.childMenus.forEach((function(e){buf.push('\n                <li class="second-menu">\n                    <a href="',(__stack.lineno=19,e.permValue),'" id="',(__stack.lineno=19,e.id),'">\n                        <i class="fa fa-location-arrow"></i><span>',(__stack.lineno=20,e.resourceName),'</span>\n                        <i class="',(__stack.lineno=21,e.iconCls),'"></i>\n                    </a>\n                    <ul>\n                        '),__stack.lineno=24,e.childMenus.forEach((function(e){buf.push('\n                        <li>\n                            <a href="',(__stack.lineno=26,e.permValue),'" id="',(__stack.lineno=26,e.id),'">\n                                <i class="fa  fa-pencil"></i><span>',(__stack.lineno=27,e.resourceName),"</span>\n                            </a>\n                        </li>\n                        "),__stack.lineno=30})),buf.push("\n                    </ul>\n                </li>\n                "),__stack.lineno=33})),buf.push("\n            </ul>\n        </li>\n        "),__stack.lineno=36})),buf.push("\n\n    </ul>\n</div>");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t){!function(e,t,n,i){var a=function(e){this.elements=e,this.init()};a.prototype={init:function(t){var n=this;n.elements.on("focus",(function(){n.inputChange(e(this),n)})).on("input propertychange",(function(){var t=e(this);n.inputChange(e(this),n),t.trigger("onChangeEvent",t)})).on("blur",(function(){e(this).siblings("i.delIcon").remove()})),setTimeout((function(){navigator.userAgent.indexOf("MSIE")>=0&&navigator.userAgent.indexOf("Opera")<0&&n.elements.next("i.delIcon").remove()}),20)},inputChange:function(t,n,i){if(null==t.attr("readonly")&&!t.hasClass("layer-date")&&"text"===t.attr("type")&&"hidden"!=t.attr("hidden")){t.next("i.delIcon").remove();var a=t.val(),r=t.data("disabled-delicon");if(""!=a.substr(0,1).replace(/\s/g,"")&&""!=a.substr(-1).replace(/\s/g,"")||(a=a.replace(/(^\s+)|(\s+$)/g,""),t.val(a)),""!==a&&!r){e('<i class="delIcon"></i>').insertAfter(t),e(".delIcon").unbind("mousedown").bind("mousedown",(function(t){t.stopPropagation(),n.delClick(e(this),n)}))}}},delClick:function(t,n){var i=n.elements[0].tagName.toLowerCase(),a=e(t.prevAll(i)[0]);a.val("").removeAttr("data-id"),setTimeout((function(){a.focus()}),20),t.remove(),a.siblings(".myHolder").show(),a.siblings(".input-group-btn").find("ul.dropdown-menu tr").removeClass("hover"),a.trigger("onClearEvent",a)}},e.fn.inputClear=function(e){new a(this,e);return this}}(jQuery,window,document)},function(e,t,n){jQuery.fn.rowspan=function(e){return this.each((function(){var t;$("tr",this).each((function(n){$("td:eq("+e+")",this).filter(":visible").each((function(e){null!=t&&$(this).html()==$(t).html()?(rowspan=$(t).attr("rowSpan"),null==rowspan&&($(t).attr("rowSpan",1),rowspan=$(t).attr("rowSpan")),rowspan=Number(rowspan)+1,$(t).attr("rowSpan",rowspan),$(this).hide()):t=this}))}))}))};var i={fileSize:function(e){return e<1024?e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":Math.round(10*e/1048576)/10+" MB"},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}};Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],r=[1,0,10,9,8,7,6,5,4,3,2];function o(e){var t=0;"x"==e[17].toLowerCase()&&(e[17]=10);for(var n=0;n<17;n++)t+=a[n]*e[n];return valCodePosition=t%11,e[17]==r[valCodePosition]}function s(e){var t=e.substring(6,10),n=e.substring(10,12),i=e.substring(12,14),a=new Date(t,parseFloat(n)-1,parseFloat(i));return a.getFullYear()==parseFloat(t)&&a.getMonth()==parseFloat(n)-1&&a.getDate()==parseFloat(i)}function l(e){var t=e.substring(6,8),n=e.substring(8,10),i=e.substring(10,12),a=new Date(t,parseFloat(n)-1,parseFloat(i));return a.getYear()==parseFloat(t)&&a.getMonth()==parseFloat(n)-1&&a.getDate()==parseFloat(i)}function d(e,t){return e?(t&&(e=e.replace(/<br\/>/g,"_#@#_")),e.replace(/[<>&"']/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&quot;"}[e]})).replace(/_#@#_/g,"<br/>")):""}function c(e){return e<10?"0"+e:e}function u(e,t){var n=$("#"+t).siblings("input").attr("id");e.target.id!=n&&e.target.id!=t&&($(e.target).parents("#"+t).length>0||h(t))}function h(e){$("#"+e).slideUp("fast"),$("body").off("mousedown")}function p(){this.elements=new Array,this.size=function(){return this.elements.length},this.isEmpty=function(){return this.elements.length<1},this.clear=function(){this.elements=new Array},this.put=function(e,t){this.elements.push({key:e,value:t})},this.remove=function(e){var t=!1;try{for(var n=0,i=this.elements.length;n<i;n++)if(this.elements[n].key==e)return this.elements.splice(n,1),!0}catch(e){t=!1}return t},this.get=function(e){try{for(var t=0,n=this.elements.length;t<n;t++)if(this.elements[t].key==e)return this.elements[t].value}catch(e){return null}},this.element=function(e){return e<0||e>=this.elements.length?null:this.elements[e]},this.containsKey=function(e){var t=!1;try{for(var n=0,i=this.elements.length;n<i;n++)this.elements[n].key==e&&(t=!0)}catch(e){t=!1}return t},this.containsValue=function(e){var t=!1;try{for(var n=0,i=this.elements.length;n<i;n++)this.elements[n].value==e&&(t=!0)}catch(e){t=!1}return t},this.values=function(){for(var e=new Array,t=0,n=this.elements.length;t<n;t++)e.push(this.elements[t].value);return e},this.keys=function(){for(var e=new Array,t=0,n=this.elements.length;t<n;t++)e.push(this.elements[t].key);return e}}function f(e){return"1"==e?"":"2"==e?"":"3"==e?"":"4"==e?"":"5"==e?"":"94"==e?"":"93"==e?"":"91"==e?"":"90"==e?"":"92"==e?"":"9"==e?"":""}window.onBodyDownClick=u,jQuery.getUrlParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null},window.mapVehicle=p,window.getPlateColor=f,window.ajax_download_file=function e(t){if(void 0===e.iframe){var n=document.createElement("iframe");e.iframe=n,document.body.appendChild(e.iframe)}e.iframe.src=t,e.iframe.style.display="none"},window.getBrowserType=function(){var e="";return navigator.userAgent.indexOf("MSIE")>0&&(e="MSIE"),navigator.userAgent.indexOf("Firefox")>0&&(e="Firefox"),userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Chrome")<0&&(e="Safari"),navigator.userAgent.indexOf("Chrome")>0&&(e="Chrome"),e},window.IdCardValidate=function(e){if(15==(e=i.trim(e.replace(/ /g,""))).length)return l(e);if(18==e.length){var t=e.split("");return!(!s(e)||!o(t))}return!1},window.isTrueValidateCodeBy18IdCard=o,window.isValidityBrithBy18IdCard=s,window.isValidityBrithBy15IdCard=l,window.validatemobile=function(e){return 0!=e.length&&11==e.length&&/^(((13[0-9]{1})|145|147|(13[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(e)},window.html2Escape=d,window.formatDate=function(e){var t=new Date("object"!=typeof e?parseInt(e):e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return n+"-"+c(i)+"-"+c(a)},window.add0=c,window.formatDateAll=function(e){var t=new Date("object"!=typeof e?parseInt(e):e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),r=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return n+"-"+c(i)+"-"+c(a)+" "+c(r)+":"+c(o)+":"+c(s)},window.showMenuContent=function(){var e=$(this),t=e.siblings(".menuContent"),n=t.attr("id");if(t.is(":hidden")){var i=e.parent().width();t.css("width",i+"px"),$(window).resize((function(){var n=e.parent().width();t.css("width",n+"px")})),t.slideDown("fast")}else t.slideUp("fast");$("body").off("mousedown").on("mousedown",(function(e){u(e,n)}))},window.onBodyDownClick=u,window.hideMenuContent=h,window.parseDate2Str=function(e){var t=e.toString();return"20"+t.substr(0,2)+"-"+t.substr(2,2)+"-"+t.substr(4,2)+" "+t.substr(6,2)+":"+t.substr(8,2)+":"+t.substr(10,2)},window.initPlaceholder=function(e){var t=$(e).attr("data-placeholder");if(t){var n='<div class="myHolder">'+t+"</div>";$(e).after(n),$(e).on("input propertychange",(function(){""!=$(this).val()?$(this).siblings(".myHolder").hide():$(this).siblings(".myHolder").show()})),$(".myHolder").on("click",(function(){$($(this).prevAll("input")[0]).focus()}))}},window.objArrRemoveRepeat=function(e,t){var n={};return e.reduce((function(e,i){var a=t?i[t]:i.id;return!n[a]&&(n[a]=e.push(i)),e}),[])},window.mapVehicle=p,window.renderPlateColorSelect=function(){$(".plateColorSelect").html('<option value="1"></option><option value="2" selected></option><option value="3"></option><option value="4"></option><option value="5"></option><option value="94"></option><option value="93"></option><option value="91"></option><option value="90"></option><option value="92"></option><option value="9"></option>')},window.getPlateColor=f,window.getYesterDay=function(){var e=new Date,t=e.getDate();e.setDate(t-1);var n=e.getFullYear(),i=e.getMonth();return t=e.getDate(),n+"-"+c(i+1)+"-"+c(t)},window.TG_UTIL=i,window.html2Escape=d,window.fullTimeRender=function(e){"number"==typeof e&&(e=new Date(e));var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),o=e.getSeconds(),s=n>=10?n.toString(10):"0"+n.toString(10),l=i>=10?i.toString(10):"0"+i.toString(10),d=a>=10?a.toString(10):"0"+a.toString(10),c=r>=10?r.toString(10):"0"+r.toString(10),u=o>=10?o.toString(10):"0"+o.toString(10);return[t.toString(),s,l].join("-")+" "+[d,c,u].join(":")},window.numberSortFunction=function(e,t){var n=parseFloat(e),i=parseFloat(t);return isNaN(n)&&(n=0),isNaN(i)&&(i=0),n-i}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";n.r(t),n(51).a.init()},function(e,t,n){},function(e,t,n){n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71)},function(e,t){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",(function(){n=!0}));return setTimeout((function(){n||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})}))}(jQuery)},function(e,t){!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(t){var i=e(this),a=i.attr("data-target");a||(a=(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),a="#"===a?[]:a;var r=e(document).find(a);function o(){r.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),r.length||(r=i.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o())};var i=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var i=e(this),a=i.data("bs.alert");a||i.data("bs.alert",a=new n(this)),"string"==typeof t&&a[t].call(i)}))},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each((function(){var i=e(this),a=i.data("bs.button"),r="object"==typeof n&&n;a||i.data("bs.button",a=new t(this,r)),"toggle"==n?a.toggle():n&&a.setState(n)}))}t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",i=this.$element,a=i.is("input")?"val":"html",r=i.data();t+="Text",null==r.resetText&&i.data("resetText",i[a]()),setTimeout(e.proxy((function(){i[a](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))}),this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var i=e(t.target).closest(".btn");n.call(i,"toggle"),e(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))}))}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function n(n){return this.each((function(){var i=e(this),a=i.data("bs.carousel"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n),o="string"==typeof n?n:r.slide;a||i.data("bs.carousel",a=new t(this,r)),"number"==typeof n?a.to(n):o?a[o]():r.interval&&a.pause().cycle()}))}t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},t.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},t.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){t.to(e)})):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(n,i){var a=this.$element.find(".item.active"),r=i||this.getItemForDirection(n,a),o=this.interval,s="next"==n?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var d=r[0],c=e.Event("slide.bs.carousel",{relatedTarget:d,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:d,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(n),"object"==typeof r&&r.length&&r[0].offsetWidth,a.addClass(s),r.addClass(s),a.one("bsTransitionEnd",(function(){r.removeClass([n,s].join(" ")).addClass("active"),a.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(t.TRANSITION_DURATION)):(a.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=n,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var a=function(t){var i=e(this),a=i.attr("href");a&&(a=a.replace(/.*(?=#[^\s]+$)/,""));var r=i.attr("data-target")||a,o=e(document).find(r);if(o.hasClass("carousel")){var s=e.extend({},o.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),n.call(o,s),l&&o.data("bs.carousel").to(l),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var t=e(this);n.call(t,t.data())}))}))}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(i)}function i(n){return this.each((function(){var i=e(this),a=i.data("bs.collapse"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);!a&&r.toggle&&/show|hide/.test(n)&&(r.toggle=!1),a||i.data("bs.collapse",a=new t(this,r)),"string"==typeof n&&a[n]()}))}t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(n=a.data("bs.collapse"))&&n.transitioning)){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){a&&a.length&&(i.call(a,"hide"),n||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[o](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=e.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return a.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy((function(t,i){var a=e(i);this.addAriaAndCollapsedClass(n(a),a)}),this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){var a=e(this);a.attr("data-target")||t.preventDefault();var r=n(a),o=r.data("bs.collapse")?"toggle":a.data();i.call(r,o)}))}(jQuery)},function(e,t){!function(e){"use strict";var t='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==n?e(document).find(n):null;return i&&i.length?i:t.parent()}function a(n){n&&3===n.which||(e(".dropdown-backdrop").remove(),e(t).each((function(){var t=e(this),a=i(t),r={relatedTarget:this};a.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(a[0],n.target)||(a.trigger(n=e.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),a.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))})))}n.VERSION="3.4.1",n.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var r=i(n),o=r.hasClass("open");if(a(),!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",a);var s={relatedTarget:this};if(r.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var a=e(this);if(n.preventDefault(),n.stopPropagation(),!a.is(".disabled, :disabled")){var r=i(a),o=r.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&r.find(t).trigger("focus"),a.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&l>0&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new n(this)),"string"==typeof t&&a[t].call(i)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,n.prototype.toggle).on("keydown.bs.dropdown.data-api",t,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};function n(n,i){return this.each((function(){var a=e(this),r=a.data("bs.modal"),o=e.extend({},t.DEFAULTS,a.data(),"object"==typeof n&&n);r||a.data("bs.modal",r=new t(this,o)),"string"==typeof n?r[n](i):o.show&&r.show(i)}))}t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var i=this,a=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var a=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),a&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:n});a?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(r)})).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)})))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;r?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else n&&n()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+n),e(this.fixedContent).each((function(t,i){var a=i.style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",a).css("padding-right",parseFloat(r)+n+"px")})))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}))},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var i=e(this),a=i.attr("href"),r=i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,""),o=e(document).find(r),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},o.data(),i.data());i.is("a")&&t.preventDefault(),o.one("show.bs.modal",(function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),n.call(o,s,this)}))}(jQuery)},function(e,t){!function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function o(t,i){var o=t.nodeName.toLowerCase();if(-1!==e.inArray(o,i))return-1===e.inArray(o,n)||Boolean(t.nodeValue.match(a)||t.nodeValue.match(r));for(var s=e(i).filter((function(e,t){return t instanceof RegExp})),l=0,d=s.length;l<d;l++)if(o.match(s[l]))return!0;return!1}function s(t,n,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);if(!document.implementation||!document.implementation.createHTMLDocument)return t;var a=document.implementation.createHTMLDocument("sanitization");a.body.innerHTML=t;for(var r=e.map(n,(function(e,t){return t})),s=e(a.body).find("*"),l=0,d=s.length;l<d;l++){var c=s[l],u=c.nodeName.toLowerCase();if(-1!==e.inArray(u,r))for(var h=e.map(c.attributes,(function(e){return e})),p=[].concat(n["*"]||[],n[u]||[]),f=0,m=h.length;f<m;f++)o(h[f],p)||c.removeAttribute(h[f].nodeName);else c.parentNode.removeChild(c)}return a.body.innerHTML}var l=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:i},l.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),r=a.length;r--;){var o=a[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(n){var i=this.$element.data();for(var a in i)i.hasOwnProperty(a)&&-1!==e.inArray(a,t)&&delete i[a];return(n=e.extend({},this.getDefaults(),i,n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.sanitize&&(n.template=s(n.template,n.whiteList,n.sanitizeFn)),n},l.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){n[e]!=i&&(t[e]=i)})),t},l.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)}},l.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},l.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)}},l.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,d=s.test(o);d&&(o=o.replace(s,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?a.appendTo(e(document).find(this.options.container)):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=a[0].offsetWidth,h=a[0].offsetHeight;if(d){var p=o,f=this.getPosition(this.$viewport);o="bottom"==o&&c.bottom+h>f.bottom?"top":"top"==o&&c.top-h<f.top?"bottom":"right"==o&&c.right+u>f.width?"left":"left"==o&&c.left-u<f.left?"right":o,a.removeClass(p).addClass(o)}var m=this.getCalculatedOffset(o,c,u,h);this.applyPlacement(m,o);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",g).emulateTransitionEnd(l.TRANSITION_DURATION):g()}},l.prototype.applyPlacement=function(t,n){var i=this.tip(),a=i[0].offsetWidth,r=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top+=o,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;"top"==n&&d!=r&&(t.top=t.top+r-d);var c=this.getViewportAdjustedDelta(n,t,l,d);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(n),h=u?2*c.left-a+l:2*c.top-r+d,p=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][p],u)},l.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},l.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=s(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},l.prototype.hide=function(t){var n=this,i=e(this.$tip),a=e.Event("hide.bs."+this.type);function r(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}if(this.$element.trigger(a),!a.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(l.TRANSITION_DURATION):r(),this.hoverState=null,this},l.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],i="BODY"==n.tagName,a=n.getBoundingClientRect();null==a.width&&(a=e.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var r=window.SVGElement&&n instanceof window.SVGElement,o=i?{top:0,left:0}:r?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},a,s,l,o)},l.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},l.prototype.getViewportAdjustedDelta=function(e,t,n,i){var a={top:0,left:0};if(!this.$viewport)return a;var r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-o.scroll,l=t.top+r-o.scroll+i;s<o.top?a.top=o.top-s:l>o.top+o.height&&(a.top=o.top+o.height-l)}else{var d=t.left-r,c=t.left+r+n;d<o.left?a.left=o.left-d:c>o.right&&(a.left=o.left+o.width-c)}return a},l.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},l.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},l.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},l.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide((function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null}))},l.prototype.sanitizeHtml=function(e){return s(e,this.options.whiteList,this.options.sanitizeFn)};var d=e.fn.tooltip;e.fn.tooltip=function(t){return this.each((function(){var n=e(this),i=n.data("bs.tooltip"),a="object"==typeof t&&t;!i&&/destroy|hide/.test(t)||(i||n.data("bs.tooltip",i=new l(this,a)),"string"==typeof t&&i[t]())}))},e.fn.tooltip.Constructor=l,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=d,this}}(jQuery)},function(e,t){!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype)).constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(t=this.sanitizeHtml(t),"string"===i&&(n=this.sanitizeHtml(n))),e.find(".popover-title").html(t),e.find(".popover-content").children().detach().end()["string"===i?"html":"append"](n)}else e.find(".popover-title").text(t),e.find(".popover-content").children().detach().end().text(n);e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=function(n){return this.each((function(){var i=e(this),a=i.data("bs.popover"),r="object"==typeof n&&n;!a&&/destroy|hide/.test(n)||(a||i.data("bs.popover",a=new t(this,r)),"string"==typeof n&&a[n]())}))},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery)},function(e,t){!function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(n).is(document.body)?e(window):e(n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var i=e(this),a=i.data("bs.scrollspy"),r="object"==typeof n&&n;a||i.data("bs.scrollspy",a=new t(this,r)),"string"==typeof n&&a[n]()}))}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var t=e(this),a=t.data("target")||t.attr("href"),r=/^#./.test(a)&&e(a);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,a]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){t.offsets.push(this[0]),t.targets.push(this[1])}))},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),a=this.offsets,r=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=r[r.length-1])&&this.activate(e);if(o&&t<a[0])return this.activeTarget=null,this.clear();for(e=a.length;e--;)o!=r[e]&&t>=a[e]&&(void 0===a[e+1]||t<a[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);n.call(t,t.data())}))}))}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t){this.element=e(t)};function n(n){return this.each((function(){var i=e(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new t(this)),"string"==typeof n&&a[n]()}))}t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=n.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(r),t.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(document).find(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),(function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})}))}}},t.prototype.activate=function(n,i,a){var r=i.find("> .active"),o=a&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}r.length&&o?r.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var a=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery)},function(e,t){!function(e){"use strict";var t=function(n,i){this.options=e.extend({},t.DEFAULTS,i);var a=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=a.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each((function(){var i=e(this),a=i.data("bs.affix"),r="object"==typeof n&&n;a||i.data("bs.affix",a=new t(this,r)),"string"==typeof n&&a[n]()}))}t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(e,t,n,i){var a=this.$target.scrollTop(),r=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return a<n&&"top";if("bottom"==this.affixed)return null!=n?!(a+this.unpin<=r.top)&&"bottom":!(a+o<=e-i)&&"bottom";var s=null==this.affixed,l=s?a:r.top;return null!=n&&a<=n?"top":null!=i&&l+(s?o:t)>=e-i&&"bottom"},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,a=i.top,r=i.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(r=a=i),"function"==typeof a&&(a=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(o,n,a,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),d=e.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:o-n-r})}};var i=e.fn.affix;e.fn.affix=n,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var t=e(this),i=t.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(t,i)}))}))}(jQuery)},function(e,t){!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},this.defaults(),n),this.render()};t.VERSION="2.2.0",t.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"default",size:"normal",style:"",width:null,height:null},t.prototype.defaults=function(){return{on:this.$element.attr("data-on")||t.DEFAULTS.on,off:this.$element.attr("data-off")||t.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||t.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||t.DEFAULTS.offstyle,size:this.$element.attr("data-size")||t.DEFAULTS.size,style:this.$element.attr("data-style")||t.DEFAULTS.style,width:this.$element.attr("data-width")||t.DEFAULTS.width,height:this.$element.attr("data-height")||t.DEFAULTS.height}},t.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var t="large"===this.options.size?"btn-lg":"small"===this.options.size?"btn-sm":"mini"===this.options.size?"btn-xs":"",n=e('<label class="btn">').html(this.options.on).addClass(this._onstyle+" "+t),i=e('<label class="btn">').html(this.options.off).addClass(this._offstyle+" "+t+" active"),a=e('<span class="toggle-handle btn btn-default">').addClass(t),r=e('<div class="toggle-group">').append(n,i,a),o=e('<div class="toggle btn" data-toggle="toggle">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(t).addClass(this.options.style);this.$element.wrap(o),e.extend(this,{$toggle:this.$element.parent(),$toggleOn:n,$toggleOff:i,$toggleGroup:r}),this.$toggle.append(r);var s=this.options.width||Math.max(n.outerWidth(),i.outerWidth())+a.outerWidth()/2,l=this.options.height||Math.max(n.outerHeight(),i.outerHeight());n.addClass("toggle-on"),i.addClass("toggle-off"),this.$toggle.css({width:s,height:l}),this.options.height&&(n.css("line-height",n.height()+"px"),i.css("line-height",i.height()+"px")),this.update(!0),this.trigger(!0)},t.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},t.prototype.on=function(e){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),void(e||this.trigger()))},t.prototype.off=function(e){return!this.$element.prop("disabled")&&(this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),void(e||this.trigger()))},t.prototype.enable=function(){this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},t.prototype.disable=function(){this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},t.prototype.update=function(e){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(e):this.off(e)},t.prototype.trigger=function(t){this.$element.off("change.bs.toggle"),t||this.$element.change(),this.$element.on("change.bs.toggle",e.proxy((function(){this.update()}),this))},t.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var n=e.fn.bootstrapToggle;e.fn.bootstrapToggle=function(n){return this.each((function(){var i=e(this),a=i.data("bs.toggle"),r="object"==typeof n&&n;a||i.data("bs.toggle",a=new t(this,r)),"string"==typeof n&&a[n]&&a[n]()}))},e.fn.bootstrapToggle.Constructor=t,e.fn.toggle.noConflict=function(){return e.fn.bootstrapToggle=n,this},e((function(){e("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()})),e(document).on("click.bs.toggle","div[data-toggle^=toggle]",(function(t){e(this).find("input[type=checkbox]").bootstrapToggle("toggle"),t.preventDefault()}))}(jQuery)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var i,a,r;!function(o,s,l){!function(l){"use strict";a=[n(13)],void 0===(r="function"==typeof(i=function(e){var t,n,i,a,r,l={},d=/[\r\n]/g,c=/<.*?>/g,u=/^[\d\+\-a-zA-Z]/,h=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),p=/[',$%\u2009\u202F]/g,f=function(e){return!e||"-"===e},m=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},g=function(e,t){return l[t]||(l[t]=new RegExp(Ce(t),"g")),e.replace(/\./g,"").replace(l[t],".")},v=function(e,t,n){var i="string"==typeof e;return t&&i&&(e=g(e,t)),n&&i&&(e=e.replace(p,"")),!e||"-"===e||!isNaN(parseFloat(e))&&isFinite(e)},y=function(e,t,n){return!!f(e)||(function(e){return!e||"string"==typeof e}(e)&&!!v(_(e),t,n)||null)},b=function(e,t,n){var i=[],a=0,r=e.length;if(void 0!==n)for(;a<r;a++)e[a]&&e[a][t]&&i.push(e[a][t][n]);else for(;a<r;a++)e[a]&&i.push(e[a][t]);return i},w=function(e,t,n,i){var a=[],r=0,o=t.length;if(void 0!==i)for(;r<o;r++)a.push(e[t[r]][n][i]);else for(;r<o;r++)a.push(e[t[r]][n]);return a},C=function(e,t){var n,i=[];void 0===t?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)i.push(a);return i},_=function(e){return e.replace(c,"")},x=function(e){var t,n,i,a=[],r=e.length,o=0;e:for(n=0;n<r;n++){for(t=e[n],i=0;i<o;i++)if(a[i]===t)continue e;a.push(t),o++}return a};function T(t){var n,i,a={};e.each(t,(function(e,r){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),a[i]=e,"o"===n[1]&&T(t[e]))})),t._hungarianMap=a}function S(t,n,i){var a;t._hungarianMap||T(t),e.each(n,(function(e,r){void 0===(a=t._hungarianMap[e])||!i&&void 0!==n[a]||(n[a]=n[e],"o"===a.charAt(0)&&S(t[a],n[e]))}))}function k(e){var n=t.defaults.oLanguage,i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===n.sEmptyTable&&rt(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===n.sLoadingRecords&&rt(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var a=e.sDecimal;a&&At(a)}var E=function(e,t,n){void 0!==e[t]&&(e[n]=e[t])};function D(e){E(e,"ordering","bSort"),E(e,"orderMulti","bSortMulti"),E(e,"orderClasses","bSortClasses"),E(e,"orderCellsTop","bSortCellsTop"),E(e,"order","aaSorting"),E(e,"orderFixed","aaSortingFixed"),E(e,"paging","bPaginate"),E(e,"pagingType","sPaginationType"),E(e,"pageLength","iDisplayLength"),E(e,"searching","bFilter")}function A(e){E(e,"orderable","bSortable"),E(e,"orderData","aDataSort"),E(e,"orderSequence","asSorting"),E(e,"orderDataType","sortDataType")}function I(t){var n=t.oBrowser,i=e("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),a=i.find(".test");n.bScrollOversize=100===a[0].offsetWidth,n.bScrollbarLeft=1!==a.offset().left,i.remove()}function N(n,i){var a=t.defaults.column,r=n.aoColumns.length,o=e.extend({},t.models.oColumn,a,{sSortingClass:n.oClasses.sSortable,sSortingClassJUI:n.oClasses.sSortJUI,nTh:i||s.createElement("th"),sTitle:a.sTitle?a.sTitle:i?i.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[r],mData:a.mData?a.mData:r,idx:r});if(n.aoColumns.push(o),void 0===n.aoPreSearchCols[r]||null===n.aoPreSearchCols[r])n.aoPreSearchCols[r]=e.extend(!0,{},t.models.oSearch);else{var l=n.aoPreSearchCols[r];void 0===l.bRegex&&(l.bRegex=!0),void 0===l.bSmart&&(l.bSmart=!0),void 0===l.bCaseInsensitive&&(l.bCaseInsensitive=!0)}P(n,r,null)}function P(n,i,a){var r=n.aoColumns[i],o=n.oClasses;if(!r.sWidthOrig){var s=e(r.nTh);r.sWidthOrig=s.attr("width")||null;var l=(s.attr("style")||"").match(/width:\s*(\d+[pxem%])/);l&&(r.sWidthOrig=l[1])}null!=a&&(A(a),S(t.defaults.column,a),void 0===a.mDataProp||a.mData||(a.mData=a.mDataProp),r._sManualType=a.sType,a.className&&!a.sClass&&(a.sClass=a.className),e.extend(r,a),rt(r,a,"sWidth","sWidthOrig"),"number"==typeof a.iDataSort&&(r.aDataSort=[a.iDataSort]),rt(r,a,"aDataSort"));var d=r.mData,c=J(d),u=r.mRender?J(r.mRender):null,h=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};r._bAttrSrc=e.isPlainObject(d)&&(h(d.sort)||h(d.type)||h(d.filter)),r.fnGetData=function(e,t){var n=c(e,t);return r.mRender&&t&&""!==t?u(n,t,e):n},r.fnSetData=q(d),n.oFeatures.bSort||(r.bSortable=!1);var p=-1!==e.inArray("asc",r.asSorting),f=-1!==e.inArray("desc",r.asSorting);r.bSortable&&(p||f)?p&&!f?(r.sSortingClass=o.sSortableAsc,r.sSortingClassJUI=o.sSortJUIAscAllowed):!p&&f&&(r.sSortingClass=o.sSortableDesc,r.sSortingClassJUI=o.sSortJUIDescAllowed):(r.sSortingClass=o.sSortableNone,r.sSortingClassJUI="")}function R(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;Be(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var a=e.oScroll;""===a.sY&&""===a.sX||Oe(e),dt(e,null,"column-sizing",[e])}function $(e,t){var n=O(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function L(t,n){var i=O(t,"bVisible"),a=e.inArray(n,i);return-1!==a?a:null}function M(e){return O(e,"bVisible").length}function O(t,n){var i=[];return e.map(t.aoColumns,(function(e,t){e[n]&&i.push(t)})),i}function j(e){var n,i,a,r,o,s,l,d,c,u=e.aoColumns,h=e.aoData,p=t.ext.type.detect;for(n=0,i=u.length;n<i;n++)if(c=[],!(l=u[n]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,r=p.length;a<r;a++){for(o=0,s=h.length;o<s&&(void 0===c[o]&&(c[o]=W(e,o,n,"type")),(d=p[a](c[o],e))&&"html"!==d);o++);if(d){l.sType=d;break}}l.sType||(l.sType="string")}}function F(t,n,i,a){var r,o,s,l,d,c,u;if(n)for(r=n.length-1;r>=0;r--){var h=void 0!==(u=n[r]).targets?u.targets:u.aTargets;for(e.isArray(h)||(h=[h]),s=0,l=h.length;s<l;s++)if("number"==typeof h[s]&&h[s]>=0){for(;t.aoColumns.length<=h[s];)N(t);a(h[s],u)}else if("number"==typeof h[s]&&h[s]<0)a(t.aoColumns.length+h[s],u);else if("string"==typeof h[s])for(d=0,c=t.aoColumns.length;d<c;d++)("_all"==h[s]||e(t.aoColumns[d].nTh).hasClass(h[s]))&&a(d,u)}if(i)for(r=0,o=i.length;r<o;r++)a(r,i[r])}function B(n,i,a,r){var o=n.aoData.length,s=e.extend(!0,{},t.models.oRow,{src:a?"dom":"data"});s._aData=i,n.aoData.push(s);for(var l=n.aoColumns,d=0,c=l.length;d<c;d++)a&&z(n,o,d,W(n,o,d)),l[d].sType=null;return n.aiDisplayMaster.push(o),n.oFeatures.bDeferRender||te(n,o,a,r),o}function U(t,n){var i;return n instanceof e||(n=e(n)),n.map((function(e,n){return i=ee(t,n),B(t,i.data,n,i.cells)}))}function H(e,t,n,i){for(var a=[],r=0,o=i.length;r<o;r++)a.push(W(e,t,i[r],n));return a}function W(e,t,n,i){var a=e.aoColumns[n],r=e.aoData[t]._aData,o=a.fnGetData(r,i);if(void 0===o)return e.iDrawError!=e.iDraw&&null===a.sDefaultContent&&(at(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t,4),e.iDrawError=e.iDraw),a.sDefaultContent;if(o!==r&&null!==o||null===a.sDefaultContent){if("function"==typeof o)return o()}else o=a.sDefaultContent;return null===o&&"display"==i?"":o}function z(e,t,n,i){var a=e.aoColumns[n],r=e.aoData[t]._aData;a.fnSetData(r,i)}var Y=/\[.*?\]$/,V=/\(\)$/;function G(t){return e.map(t.match(/(\\.|[^\.])+/g),(function(e){return e.replace("\\.",".")}))}function J(t){if(e.isPlainObject(t)){var n={};return e.each(t,(function(e,t){t&&(n[e]=J(t))})),function(e,t,i){return n[void 0!==n[t]?t:"_"](e,t,i)}}if(null===t)return function(e,t){return e};if("function"==typeof t)return function(e,n,i){return t(e,n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var i=function(e,t,n){var a,r,o,s;if(""!==n)for(var l=G(n),d=0,c=l.length;d<c;d++){if(a=l[d].match(Y),r=l[d].match(V),a){l[d]=l[d].replace(Y,""),""!==l[d]&&(e=e[l[d]]),o=[],l.splice(0,d+1),s=l.join(".");for(var u=0,h=e.length;u<h;u++)o.push(i(e[u],t,s));var p=a[0].substring(1,a[0].length-1);e=""===p?o:o.join(p);break}if(r)l[d]=l[d].replace(V,""),e=e[l[d]]();else{if(null===e||void 0===e[l[d]])return;e=e[l[d]]}}return e};return function(e,n){return i(e,n,t)}}function q(t){if(e.isPlainObject(t))return q(t._);if(null===t)return function(e,t){};if("function"==typeof t)return function(e,n){t(e,"set",n)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,i){for(var a,r,o,s,l,d=G(i),c=d[d.length-1],u=0,h=d.length-1;u<h;u++){if(r=d[u].match(Y),o=d[u].match(V),r){d[u]=d[u].replace(Y,""),e[d[u]]=[],(a=d.slice()).splice(0,u+1),l=a.join(".");for(var p=0,f=t.length;p<f;p++)n(s={},t[p],l),e[d[u]].push(s);return}o&&(d[u]=d[u].replace(V,""),e=e[d[u]](t)),null!==e[d[u]]&&void 0!==e[d[u]]||(e[d[u]]={}),e=e[d[u]]}c.match(V)?e=e[c.replace(V,"")](t):e[c.replace(Y,"")]=t};return function(e,i){return n(e,i,t)}}function Q(e){return b(e.aoData,"_aData")}function X(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function K(e,t,n){for(var i=-1,a=0,r=e.length;a<r;a++)e[a]==t?i=a:e[a]>t&&e[a]--;-1!=i&&void 0===n&&e.splice(i,1)}function Z(e,t,n,i){var a,r,o=e.aoData[t];if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var s=o.anCells;for(a=0,r=s.length;a<r;a++)s[a].innerHTML=W(e,t,a,"display")}else o._aData=ee(e,o.nTr).data;o._aSortData=null,o._aFilterData=null;var l=e.aoColumns;if(void 0!==i)l[i].sType=null;else for(a=0,r=l.length;a<r;a++)l[a].sType=null;ne(o)}function ee(t,n){for(var i,a,r,o,s=[],l=[],d=n.firstChild,c=0,u=t.aoColumns,h=function(e,t,n){if("string"==typeof e){var i=e.indexOf("@");if(-1!==i){var a=e.substring(i+1);r["@"+a]=n.getAttribute(a)}}};d;)"TD"!=(i=d.nodeName.toUpperCase())&&"TH"!=i||(a=u[c],o=e.trim(d.innerHTML),a&&a._bAttrSrc?(r={display:o},h(a.mData.sort,0,d),h(a.mData.type,0,d),h(a.mData.filter,0,d),s.push(r)):s.push(o),l.push(d),c++),d=d.nextSibling;return{data:s,cells:l}}function te(e,t,n,i){var a,r,o,l,d,c=e.aoData[t],u=c._aData,h=[];if(null===c.nTr){for(a=n||s.createElement("tr"),c.nTr=a,c.anCells=h,a._DT_RowIndex=t,ne(c),l=0,d=e.aoColumns.length;l<d;l++)o=e.aoColumns[l],r=n?i[l]:s.createElement(o.sCellType),h.push(r),n&&!o.mRender&&o.mData===l||(r.innerHTML=W(e,t,l,"display")),o.sClass&&(r.className+=" "+o.sClass),o.bVisible&&!n?a.appendChild(r):!o.bVisible&&n&&r.parentNode.removeChild(r),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,r,W(e,t,l,"display"),u,t,l);dt(e,"aoRowCreatedCallback",null,[a,u,t])}}function ne(t){var n=t.nTr,i=t._aData;if(n){if(i.DT_RowId&&(n.id=i.DT_RowId),i.DT_RowClass){var a=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?x(t.__rowc.concat(a)):a,e(n).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowData&&e(n).data(i.DT_RowData)}}function ie(t){var n,i,a,r,o,s=t.nTHead,l=t.nTFoot,d=0===e("th, td",s).length,c=t.oClasses,u=t.aoColumns;for(d&&(r=e("<tr/>").appendTo(s)),n=0,i=u.length;n<i;n++)o=u[n],a=e(o.nTh).addClass(o.sClass),d&&a.appendTo(r),t.oFeatures.bSort&&(a.addClass(o.sSortingClass),!1!==o.bSortable&&(a.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ke(t,o.nTh,n))),o.sTitle!=a.html()&&a.html(o.sTitle),ut(t,"header")(t,a,o,c);if(d&&le(t.aoHeader,s),e(s).find(">tr").attr("role","row"),e(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var h=t.aoFooter[0];for(n=0,i=h.length;n<i;n++)(o=u[n]).nTf=h[n].cell,o.sClass&&e(o.nTf).addClass(o.sClass)}}function ae(t,n,i){var a,r,o,s,l,d,c,u,h,p=[],f=[],m=t.aoColumns.length;if(n){for(void 0===i&&(i=!1),a=0,r=n.length;a<r;a++){for(p[a]=n[a].slice(),p[a].nTr=n[a].nTr,o=m-1;o>=0;o--)t.aoColumns[o].bVisible||i||p[a].splice(o,1);f.push([])}for(a=0,r=p.length;a<r;a++){if(c=p[a].nTr)for(;d=c.firstChild;)c.removeChild(d);for(o=0,s=p[a].length;o<s;o++)if(u=1,h=1,void 0===f[a][o]){for(c.appendChild(p[a][o].cell),f[a][o]=1;void 0!==p[a+u]&&p[a][o].cell==p[a+u][o].cell;)f[a+u][o]=1,u++;for(;void 0!==p[a][o+h]&&p[a][o].cell==p[a][o+h].cell;){for(l=0;l<u;l++)f[a+l][o+h]=1;h++}e(p[a][o].cell).attr("rowspan",u).attr("colspan",h)}}}}function re(t){var n=dt(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,n)){var i=[],a=0,r=t.asStripeClasses,o=r.length,s=(t.aoOpenRows.length,t.oLanguage),l=t.iInitDisplayStart,d="ssp"==ht(t),c=t.aiDisplay;t.bDrawing=!0,void 0!==l&&-1!==l&&(t._iDisplayStart=d?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var u=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,Le(t,!1);else if(d){if(!t.bDestroying&&!ue(t))return}else t.iDraw++;if(0!==c.length)for(var p=d?0:u,f=d?t.aoData.length:h,m=p;m<f;m++){var g=c[m],v=t.aoData[g];null===v.nTr&&te(t,g);var y=v.nTr;if(0!==o){var b=r[a%o];v._sRowStripe!=b&&(e(y).removeClass(v._sRowStripe).addClass(b),v._sRowStripe=b)}dt(t,"aoRowCallback",null,[y,v._aData,a,m]),i.push(y),a++}else{var w=s.sZeroRecords;1==t.iDraw&&"ajax"==ht(t)?w=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(w=s.sEmptyTable),i[0]=e("<tr/>",{class:o?r[0]:""}).append(e("<td />",{valign:"top",colSpan:M(t),class:t.oClasses.sRowEmpty}).html(w))[0]}dt(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],Q(t),u,h,c]),dt(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],Q(t),u,h,c]);var C=e(t.nTBody);C.children().detach(),C.append(e(i)),dt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1,layer.closeAll("loading")}else Le(t,!1)}function oe(e,t){var n=e.oFeatures,i=n.bSort,a=n.bFilter;i&&qe(e),a?ge(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),re(e)}function se(n){var i=n.oClasses,a=e(n.nTable),r=e("<div/>").insertBefore(a),o=n.oFeatures,s=e("<div/>",{role:"grid",id:n.sTableId+"_wrapper",class:i.sWrapper+(n.nTFoot?"":" "+i.sNoFooter)});n.nTableWrapper=s[0],n.nTableReinsertBefore=n.nTable.nextSibling;for(var l,d,c,u,h,p,f=n.sDom.split(""),m=0;m<f.length;m++){if(l=null,"<"==(d=f[m])){if(c=e("<div/>")[0],"'"==(u=f[m+1])||'"'==u){for(h="",p=2;f[m+p]!=u;)h+=f[m+p],p++;if("H"==h?h=i.sJUIHeader:"F"==h&&(h=i.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");c.id=g[0].substr(1,g[0].length-1),c.className=g[1]}else"#"==h.charAt(0)?c.id=h.substr(1,h.length-1):c.className=h;m+=p}s.append(c),s=e(c)}else if(">"==d)s=s.parent();else if("l"==d&&o.bPaginate&&o.bLengthChange)l=Ne(n);else if("f"==d&&o.bFilter)l=me(n);else if("r"==d&&o.bProcessing)l=$e(n);else if("t"==d)l=Me(n);else if("i"==d&&o.bInfo)l=Se(n);else if("p"==d&&o.bPaginate)l=Pe(n);else if(0!==t.ext.feature.length)for(var v=t.ext.feature,y=0,b=v.length;y<b;y++)if(d==v[y].cFeature){l=v[y].fnInit(n);break}if(l){var w=n.aanFeatures;w[d]||(w[d]=[]),w[d].push(l),s.append(l)}}r.replaceWith(s)}function le(t,n){var i,a,r,o,s,l,d,c,u,h,p=e(n).children("tr"),f=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(t.splice(0,t.length),r=0,l=p.length;r<l;r++)t.push([]);for(r=0,l=p.length;r<l;r++)for(0,a=(i=p[r]).firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(c=(c=1*a.getAttribute("colspan"))&&0!==c&&1!==c?c:1,u=(u=1*a.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,d=f(t,r,0),h=1===c,s=0;s<c;s++)for(o=0;o<u;o++)t[r+o][d+s]={cell:a,unique:h},t[r+o].nTr=i;a=a.nextSibling}}function de(e,t,n){var i=[];n||(n=e.aoHeader,t&&le(n=[],t));for(var a=0,r=n.length;a<r;a++)for(var o=0,s=n[a].length;o<s;o++)!n[a][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[a][o].cell);return i}function ce(t,n,i){if(dt(t,"aoServerParams","serverParams",[n]),n&&n.__legacy){var a={},r=/(.*?)\[\]$/;e.each(n,(function(e,t){var n=t.name.match(r);if(n){var i=n[0];a[i]||(a[i]=[]),a[i].push(t.value)}else a[t.name]=t.value})),n=a}var o,s=t.ajax,l=t.oInstance;if(e.isPlainObject(s)&&s.data){o=s.data;var d=e.isFunction(o)?o(n):o;n=e.isFunction(o)&&d?d:e.extend(!0,n,d),delete s.data}var c={data:n,success:function(e){var n=e.error||e.sError;n&&t.oApi._fnLog(t,0,n),t.json=e,dt(t,null,"xhr",[t,e]),i(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,n,i){var a=t.oApi._fnLog;"parsererror"==n?a(t,0,"Invalid JSON response",1):a(t,0,"Ajax error",7)}};t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,n,i,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(c,{url:s||t.sAjaxSource})):e.isFunction(s)?t.jqXHR=s.call(l,n,i,t):(t.jqXHR=e.ajax(e.extend(c,s)),s.data=o)}function ue(e){if(e.bAjaxDataGet){e.iDraw++,Le(e,!0);e.aoColumns.length;var t=he(e);return ce(e,t,(function(t){pe(e,t)})),!1}return!0}function he(n){var i,a,r,o,s=n.aoColumns,l=s.length,d=n.oFeatures,c=n.oPreviousSearch,u=n.aoPreSearchCols,h=[],p=Je(n),f=n._iDisplayStart,m=!1!==d.bPaginate?n._iDisplayLength:-1,g=function(e,t){h.push({name:e,value:t})};g("sEcho",n.iDraw),g("iColumns",l),g("sColumns",b(s,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",m);var v={draw:n.iDraw,columns:[],order:[],start:f,length:m,search:{value:c.sSearch,regex:c.bRegex}};for(i=0;i<l;i++)r=s[i],o=u[i],a="function"==typeof r.mData?"function":r.mData,v.columns.push({data:a,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),g("mDataProp_"+i,a),d.bFilter&&(g("sSearch_"+i,o.sSearch),g("bRegex_"+i,o.bRegex),g("bSearchable_"+i,r.bSearchable)),d.bSort&&g("bSortable_"+i,r.bSortable);e.each(p,(function(e,t){v.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)})),d.bFilter&&(g("sSearch",c.sSearch),g("bRegex",c.bRegex)),d.bSort&&g("iSortingCols",p.length),h.__legacy=!0;var y=t.ext.legacy.ajax;return null===y?n.sAjaxSource?h:v:y?h:v}function pe(e,t){var n=function(e,n){return void 0!==t[e]?t[e]:t[n]},i=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),r=n("iTotalDisplayRecords","recordsFiltered");if(i){if(1*i<e.iDraw)return;e.iDraw=1*i}X(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(r,10);for(var o=fe(e,t),s=0,l=o.length;s<l;s++)B(e,o[s]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,re(e),e._bInitComplete||Ae(e,t),e.bAjaxDataGet=!0,Le(e,!1)}function fe(t,n){var i=e.isPlainObject(t.ajax)&&void 0!==t.ajax.dataSrc?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?J(i)(n):n}function me(t){var n=t.oClasses,i=t.sTableId,a=t.oPreviousSearch,r=t.aanFeatures,o='<input type="search" class="'+n.sFilterInput+'"/>',l=t.oLanguage.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",o):l+o;var d=e("<div/>",{id:r.f?null:i+"_filter",class:n.sFilter}).append(e("<label/>").append(l)),c=function(){r.f;var e=this.value?this.value:"";e!=a.sSearch&&(ge(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,re(t))},u=e('input[type="search"]',d).val(a.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT","ssp"===ht(t)?Ue(c,400):c).bind("keypress.DT",(function(e){if(13==e.keyCode)return!1})).attr("aria-controls",i);return e(t.nTable).on("filter.DT",(function(){try{u[0]!==s.activeElement&&u.val(a.sSearch)}catch(e){}})),d[0]}function ge(e,t,n){var i=e.oPreviousSearch,a=e.aoPreSearchCols,r=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive};if(j(e),"ssp"!=ht(e)){be(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),r(t);for(var o=0;o<a.length;o++)ye(e,a[o].sSearch,o,a[o].bRegex,a[o].bSmart,a[o].bCaseInsensitive);ve(e)}else r(t);e.bFiltered=!0,dt(e,null,"search",[e])}function ve(e){for(var n=t.ext.search,i=O(e,"bSearchable"),a=0,r=n.length;a<r;a++)for(var o=0,s=0,l=e.aiDisplay.length;s<l;s++){var d=e.aiDisplay[s-o];n[a](e,H(e,d,"filter",i),d)||(e.aiDisplay.splice(s-o,1),o++)}}function ye(e,t,n,i,a,r){if(""!==t)for(var o,s=e.aiDisplay,l=we(t,i,a,r),d=s.length-1;d>=0;d--)o=e.aoData[s[d]]._aFilterData[n],l.test(o)||s.splice(d,1)}function be(e,n,i,a,r,o){var s,l,d,c=we(n,a,r,o),u=e.oPreviousSearch.sSearch,h=e.aiDisplayMaster;if(0!==t.ext.search.length&&(i=!0),l=Te(e),n.length<=0)e.aiDisplay=h.slice();else for((l||i||u.length>n.length||0!==n.indexOf(u)||e.bSorted)&&(e.aiDisplay=h.slice()),d=(s=e.aiDisplay).length-1;d>=0;d--)c.test(e.aoData[s[d]]._sFilterRow)||s.splice(d,1)}function we(e,t,n,i){var a,r=t?e:Ce(e);return n&&(a=r.split(" "),r="^(?=.*?"+a.join(")(?=.*?")+").*$"),new RegExp(r,i?"i":"")}function Ce(e){return e.replace(h,"\\$1")}var _e=e("<div>")[0],xe=void 0!==_e.textContent;function Te(e){var n,i,a,r,o,s,l,d,c=e.aoColumns,u=t.ext.type.search,h=!1;for(i=0,r=e.aoData.length;i<r;i++)if(!(d=e.aoData[i])._aFilterData){for(s=[],a=0,o=c.length;a<o;a++)(n=c[a]).bSearchable?(l=W(e,i,a,"filter"),l=u[n.sType]?u[n.sType](l):null!==l?l:""):l="",l.indexOf&&-1!==l.indexOf("&")&&(_e.innerHTML=l,l=(l=xe?_e.textContent:_e.innerText).replace(/[\r\n]/g,"")),s.push(l);d._aFilterData=s,d._sFilterRow=s.join("  "),h=!0}return h}function Se(t){var n=t.sTableId,i=t.aanFeatures.i,a=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:ke,sName:"information"}),a.attr("role","alert").attr("aria-live","polite").attr("aria-relevant","all"),e(t.nTable).attr("aria-describedby",n+"_info")),a[0]}function ke(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,a=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==o&&(l+=" "+i.sInfoFiltered),l=Ee(t,l+=i.sInfoPostFix);var d=i.fnInfoCallback;null!==d&&(l=d.call(t.oInstance,t,a,r,o,s,l)),e(n).html(l)}}function Ee(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,a=e._iDisplayLength,r=e.fnRecordsDisplay(),o=-1===a;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,r)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(i/a))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(r/a)))}function De(e){var t,n,i,a=e.iInitDisplayStart,r=e.aoColumns,o=e.oFeatures;if(e.bInitialised){for(se(e),ie(e),ae(e,e.aoHeader),ae(e,e.aoFooter),Le(e,!0),o.bAutoWidth&&Be(e),t=0,n=r.length;t<n;t++)(i=r[t]).sWidth&&(i.nTh.style.width=Ve(i.sWidth));oe(e);var s=ht(e);"ssp"!=s&&("ajax"==s?ce(e,[],(function(n){var i=fe(e,n);for(t=0;t<i.length;t++)B(e,i[t]);e.iInitDisplayStart=a,oe(e),Le(e,!1),Ae(e,n)})):(Le(e,!1),Ae(e)))}else setTimeout((function(){De(e)}),200)}function Ae(e,t){e._bInitComplete=!0,t&&R(e),dt(e,"aoInitComplete","init",[e,t])}function Ie(e,t){var n=parseInt(t,10);e._iDisplayLength=n,ct(e),dt(e,null,"length",[e,n])}function Ne(t){for(var n=t.oClasses,i=t.sTableId,a=t.aLengthMenu,r=e.isArray(a[0]),o=r?a[0]:a,s=r?a[1]:a,l=e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),d=0,c=o.length;d<c;d++)l[0][d]=new Option(s[d],o[d]);var u=e("<div><label/></div>").addClass(n.sLength);t.aanFeatures.l||(u[0].id=i+"_length");var h=t.oLanguage.sLengthMenu.split(/(_MENU_)/);return u.children().append(h[0]).append(l).append(h[2]),l.val(t._iDisplayLength).bind("change.DT",(function(n){layer.load(2),Ie(t,e(this).val()),t._iDisplayStart=0,re(t)})),e(t.nTable).bind("length",(function(e,t,n){l.val(n)})),u[0]}function Pe(n){var i=n.sPaginationType,a=t.ext.pager[i],r="function"==typeof a,o=function(e){re(e)},s=e("<div/>").addClass(n.oClasses.sPaging+i)[0],l=n.aanFeatures;return r||a.fnInit(n,s,o),l.p||(s.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(e){if(r){var t,n,i=e._iDisplayStart,s=e._iDisplayLength,d=e.fnRecordsDisplay(),c=-1===s,u=c?0:Math.ceil(i/s),h=c?1:Math.ceil(d/s),p=a(u,h);for(t=0,n=l.p.length;t<n;t++)ut(e,"pageButton")(e,l.p[t],t,p,u,h)}else a.fnUpdate(e,o)},sName:"pagination"})),s}function Re(e,t,n){var i=e._iDisplayStart,a=e._iDisplayLength,r=e.fnRecordsDisplay();0===r||-1===a?i=0:"number"==typeof t?(i=t*a)>r&&(i=0):"first"==t?i=0:"previous"==t?(i=a>=0?i-a:0)<0&&(i=0):"next"==t?i+a<r&&(i+=a):"last"==t?i=Math.floor((r-1)/a)*a:at(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==i;return e._iDisplayStart=i,dt(e,null,"page",[e]),n&&re(e),o}function $e(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function Le(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("visibility",n?"visible":"hidden"),dt(t,null,"processing",[t,n])}function Me(t){var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var i=n.sX,a=n.sY,r=t.oClasses,o=e(t.nTable),s=o.children("caption"),l=s.length?s[0]._captionSide:null,d=e(o[0].cloneNode(!1)),c=e(o[0].cloneNode(!1)),u=o.children("tfoot"),h="<div/>",p=function(e){return e?Ve(e):null};n.sX&&"100%"===o.attr("width")&&o.removeAttr("width"),u.length||(u=null);var f=e(h,{class:r.sScrollWrapper}).append(e(h,{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?p(i):"100%"}).append(e(h,{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(d.removeAttr("id").css("margin-left",0).append(o.children("thead")))).append("top"===l?s:null)).append(e(h,{class:r.sScrollBody}).css({overflow:"auto",height:p(a),width:p(i)}).append(o));u&&f.append(e(h,{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:i?p(i):"100%"}).append(e(h,{class:r.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(o.children("tfoot")))).append("bottom"===l?s:null));var m=f.children(),g=m[0],v=m[1],y=u?m[2]:null;return i&&e(v).scroll((function(e){var t=this.scrollLeft;g.scrollLeft=t,u&&(y.scrollLeft=t)})),t.nScrollHead=g,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:Oe,sName:"scrolling"}),f[0]}function Oe(t){var n,i,a,r,o,s,l,d,c,u=t.oScroll,h=u.sX,p=u.sXInner,f=u.sY,m=u.iBarWidth,g=e(t.nScrollHead),v=g[0].style,y=g.children("div"),b=y[0].style,w=y.children("table"),C=t.nScrollBody,_=e(C),x=C.style,T=e(t.nScrollFoot).children("div"),S=T.children("table"),k=e(t.nTHead),E=e(t.nTable),D=E[0],A=D.style,I=t.nTFoot?e(t.nTFoot):null,N=t.oBrowser,P=N.bScrollOversize,R=[],L=[],M=[],O=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(E.children("thead, tfoot").remove(),o=k.clone().prependTo(E),n=k.find("tr"),a=o.find("tr"),o.find("th, td").removeAttr("tabindex"),I&&(s=I.clone().prependTo(E),i=I.find("tr"),r=s.find("tr")),h||(x.width="100%",g[0].style.width="100%"),e.each(de(t,o),(function(e,n){l=$(t,e),n.style.width=t.aoColumns[l].sWidth})),I&&je((function(e){e.style.width=""}),r),u.bCollapse&&""!==f&&(x.height=_.offsetHeight+k[0].offsetHeight+"px"),c=E.outerWidth(),""===h?(A.width="100%",P&&(E.find("tbody").height()>C.offsetHeight||"scroll"==_.css("overflow-y"))&&(A.width=Ve(E.outerWidth()-m))):""!==p?A.width=Ve(p):c==_.width()&&_.height()<E.height()?(A.width=Ve(c-m),E.outerWidth()>c-m&&(A.width=Ve(c))):A.width=Ve(c),c=E.outerWidth(),je(O,a),je((function(t){M.push(t.innerHTML),R.push(Ve(e(t).css("width")))}),a),je((function(e,t){e.style.width=R[t]}),n),e(a).height(0),I&&(je(O,r),je((function(t){L.push(Ve(e(t).css("width")))}),r),je((function(e,t){e.style.width=L[t]}),i),e(r).height(0)),je((function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+M[t]+"</div>",e.style.width=R[t]}),a),I&&je((function(e,t){e.innerHTML="",e.style.width=L[t]}),r),E.outerWidth()<c?(d=C.scrollHeight>C.offsetHeight||"scroll"==_.css("overflow-y")?c+m:c,P&&(C.scrollHeight>C.offsetHeight||"scroll"==_.css("overflow-y"))&&(A.width=Ve(d-m)),""!==h&&""===p||at(t,1,"Possible column misalignment",6)):d="100%",x.width=Ve(d),v.width=Ve(d),I&&(t.nScrollFoot.style.width=Ve(d)),f||P&&(x.height=Ve(D.offsetHeight+m)),f&&u.bCollapse){x.height=Ve(f);var j=h&&D.offsetWidth>C.offsetWidth?m:0;D.offsetHeight<C.offsetHeight&&(x.height=Ve(D.offsetHeight+j))}var F=E.outerWidth();w[0].style.width=Ve(F),b.width=Ve(F);var B=E.height()>C.clientHeight||"scroll"==_.css("overflow-y"),U="padding"+(N.bScrollbarLeft?"Left":"Right");b[U]=B?m+"px":"0px",I&&(S[0].style.width=Ve(F),T[0].style.width=Ve(F),T[0].style[U]=B?m+"px":"0px"),_.scroll(),(t.bSorted||t.bFiltered)&&(C.scrollTop=0)}function je(e,t,n){for(var i,a,r=0,o=0,s=t.length;o<s;){for(i=t[o].firstChild,a=n?n[o].firstChild:null;i;)1===i.nodeType&&(n?e(i,a,r):e(i,r),r++),i=i.nextSibling,a=n?a.nextSibling:null;o++}}var Fe=/<.*?>/g;function Be(t){var n,i,a,r,s,l=t.nTable,d=t.aoColumns,c=t.oScroll,u=c.sY,h=c.sX,p=c.sXInner,f=d.length,m=O(t,"bVisible"),g=e("th",t.nTHead),v=l.getAttribute("width"),y=l.parentNode,b=!1;for(n=0;n<m.length;n++)null!==(i=d[m[n]]).sWidth&&(i.sWidth=He(i.sWidthOrig,y),b=!0);if(b||h||u||f!=M(t)||f!=g.length){var w=e(l.cloneNode(!1)).css("visibility","hidden").removeAttr("id").append(e(t.nTHead).clone(!1)).append(e(t.nTFoot).clone(!1)).append(e("<tbody><tr/></tbody>"));w.find("tfoot th, tfoot td").css("width","");var C=w.find("tbody tr");for(g=de(t,w.find("thead")[0]),n=0;n<m.length;n++)i=d[m[n]],g[n].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?Ve(i.sWidthOrig):"";if(t.aoData.length)for(n=0;n<m.length;n++)i=d[a=m[n]],e(ze(t,a)).clone(!1).append(i.sContentPadding).appendTo(C);if(w.appendTo(y),h&&p?w.width(p):h?(w.css("width","auto"),w.width()<y.offsetWidth&&w.width(y.offsetWidth)):u?w.width(y.offsetWidth):v&&w.width(v),We(t,w[0]),h){var _=0;for(n=0;n<m.length;n++)i=d[m[n]],s=e(g[n]).outerWidth(),_+=null===i.sWidthOrig?s:parseInt(i.sWidth,10)+s-e(g[n]).width();w.width(Ve(_)),l.style.width=Ve(_)}for(n=0;n<m.length;n++)i=d[m[n]],(r=e(g[n]).width())&&(i.sWidth=Ve(r));l.style.width=Ve(w.css("width")),w.remove()}else for(n=0;n<f;n++)d[n].sWidth=Ve(g.eq(n).width());v&&(l.style.width=Ve(v)),!v&&!h||t._reszEvt||(e(o).bind("resize.DT-"+t.sInstance,Ue((function(){R(t)}))),t._reszEvt=!0)}function Ue(e,t){var n,i,a=t||200;return function(){var t=this,r=+new Date,o=arguments;n&&r<n+a?(clearTimeout(i),i=setTimeout((function(){n=void 0,e.apply(t,o)}),a)):n?(n=r,e.apply(t,o)):n=r}}function He(t,n){if(!t)return 0;var i=e("<div/>").css("width",Ve(t)).appendTo(n||s.body),a=i[0].offsetWidth;return i.remove(),a}function We(t,n){var i=t.oScroll;if(i.sX||i.sY){var a=i.sX?0:i.iBarWidth;n.style.width=Ve(e(n).outerWidth()-a)}}function ze(t,n){var i=Ye(t,n);if(i<0)return null;var a=t.aoData[i];return a.nTr?a.anCells[n]:e("<td/>").html(W(t,i,n,"display"))[0]}function Ye(e,t){for(var n,i=-1,a=-1,r=0,o=e.aoData.length;r<o;r++)(n=(n=W(e,r,t,"display")+"").replace(Fe,"")).length>i&&(i=n.length,a=r);return a}function Ve(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ge(){if(!t.__scrollbarWidth){var n=e("<p/>").css({width:"100%",height:200,padding:0})[0],i=e("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(n).appendTo("body"),a=n.offsetWidth;i.css("overflow","scroll");var r=n.offsetWidth;a===r&&(r=i[0].clientWidth),i.remove(),t.__scrollbarWidth=a-r}return t.__scrollbarWidth}function Je(n){var i,a,r,o,s,l,d,c=[],u=n.aoColumns,h=n.aaSortingFixed,p=e.isPlainObject(h),f=[],m=function(t){t.length&&!e.isArray(t[0])?f.push(t):f.push.apply(f,t)};for(e.isArray(h)&&m(h),p&&h.pre&&m(h.pre),m(n.aaSorting),p&&h.post&&m(h.post),i=0;i<f.length;i++)for(a=0,r=(o=u[d=f[i][0]].aDataSort).length;a<r;a++)l=u[s=o[a]].sType||"string",c.push({src:d,col:s,dir:f[i][1],index:f[i][2],type:l,formatter:t.ext.type.order[l+"-pre"]});return c}function qe(e){var n,i,a,r,o=[],s=t.ext.type.order,l=e.aoData,d=(e.aoColumns,0),c=e.aiDisplayMaster,u=Je(e);for(j(e),n=0,i=u.length;n<i;n++)(r=u[n]).formatter&&d++,et(e,r.col);if("ssp"!=ht(e)&&0!==u.length){for(n=0,a=c.length;n<a;n++)o[c[n]]=n;d===u.length?c.sort((function(t,n){var i,a,r,s,d,c=u.length,h=l[t]._aSortData,p=l[n]._aSortData;for(r=0;r<c;r++)if(s=(i=h[(d=u[r]).col])<(a=p[d.col])?-1:i>a?1:0,"function"==typeof e.customSort&&(s=e.customSort(i,a,d.dir,d.col,s)),0!==s)return"asc"===d.dir?s:-s;return(i=o[t])<(a=o[n])?-1:i>a?1:0})):c.sort((function(e,t){var n,i,a,r,d,c=u.length,h=l[e]._aSortData,p=l[t]._aSortData;for(a=0;a<c;a++)if(n=h[(d=u[a]).col],i=p[d.col],0!==(r=(s[d.type+"-"+d.dir]||s["string-"+d.dir])(n,i)))return r;return(n=o[e])<(i=o[t])?-1:n>i?1:0}))}e.bSorted=!0}function Qe(e){for(var t,n,i=e.aoColumns,a=Je(e),r=e.oLanguage.oAria,o=0,s=i.length;o<s;o++){var l=i[o],d=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==o?(u.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),n=d[a[0].index+1]||d[0]):n=d[0],t=c+("asc"===n?r.sSortAscending:r.sSortDescending)):t=c,u.setAttribute("aria-label",t)}}function Xe(t,n,i,a){var r,o=t.aoColumns[n],s=t.aaSorting,l=o.asSorting,d=function(t){var n=t._idx;return void 0===n&&(n=e.inArray(t[1],l)),n+1>=l.length?0:n+1};if(i&&t.oFeatures.bSortMulti){var c=e.inArray(n,b(s,"0"));-1!==c?(r=d(s[c]),s[c][1]=l[r],s[c]._idx=r):(s.push([n,l[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==n?(r=d(s[0]),s.length=1,s[0][1]=l[r],s[0]._idx=r):(s.length=0,s.push([n,l[0]]),s[0]._idx=0);oe(t),"function"==typeof a&&a(t)}function Ke(e,t,n,i){var a=e.aoColumns[n];st(t,{},(function(t){!1!==a.bSortable&&(Le(e,!0),setTimeout((function(){Xe(e,n,t.shiftKey,i),"ssp"!==ht(e)&&Le(e,!1)}),0))}))}function Ze(t){var n,i,a,r=t.aLastSort,o=t.oClasses.sSortColumn,s=Je(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=r.length;n<i;n++)a=r[n].src,e(b(t.aoData,"anCells",a)).removeClass(o+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)a=s[n].src,e(b(t.aoData,"anCells",a)).addClass(o+(n<2?n+1:3))}t.aLastSort=s}function et(e,n){var i,a,r,o=e.aoColumns[n],s=t.ext.order[o.sSortDataType];s&&(i=s.call(e.oInstance,e,n,L(e,n)));for(var l=t.ext.type.order[o.sType+"-pre"],d=0,c=e.aoData.length;d<c;d++)(a=e.aoData[d])._aSortData||(a._aSortData=[]),a._aSortData[n]&&!s||(r=s?i[d]:W(e,d,n,"sort"),a._aSortData[n]=l?l(r):r)}function tt(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n,i,a={iCreate:(new Date).getTime(),iStart:t._iDisplayStart,iLength:t._iDisplayLength,aaSorting:e.extend(!0,[],t.aaSorting),oSearch:e.extend(!0,{},t.oPreviousSearch),aoSearchCols:e.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(n=0,i=t.aoColumns.length;n<i;n++)a.abVisCols.push(t.aoColumns[n].bVisible);dt(t,"aoStateSaveParams","stateSaveParams",[t,a]),t.fnStateSaveCallback.call(t.oInstance,t,a)}}function nt(t,n){var i,a,r=t.aoColumns;if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t);if(o){var s=dt(t,"aoStateLoadParams","stateLoadParams",[t,o]);if(-1===e.inArray(!1,s)&&!(o.iCreate<(new Date).getTime()-1e3*t.iStateDuration)&&r.length===o.aoSearchCols.length){t.oLoadedState=e.extend(!0,{},o),t._iDisplayStart=o.iStart,t.iInitDisplayStart=o.iStart,t._iDisplayLength=o.iLength,t.aaSorting=[];var l=o.aaSorting;for(i=0,a=l.length;i<a;i++)t.aaSorting.push(l[i][0]>=r.length?[0,l[i][1]]:l[i]);for(e.extend(t.oPreviousSearch,o.oSearch),e.extend(!0,t.aoPreSearchCols,o.aoSearchCols),i=0,a=o.abVisCols.length;i<a;i++)r[i].bVisible=o.abVisCols[i];dt(t,"aoStateLoaded","stateLoaded",[t,o])}}}}function it(n){var i=t.settings,a=e.inArray(n,b(i,"nTable"));return-1!==a?i[a]:null}function at(e,n,i,a){if(n)o.console&&console.log;else{var r=t.ext;if("alert"!=(r.sErrMode||r.errMode))throw new Error(i)}}function rt(t,n,i,a){e.isArray(i)?e.each(i,(function(i,a){e.isArray(a)?rt(t,n,a[0],a[1]):rt(t,n,a)})):(void 0===a&&(a=i),void 0!==n[i]&&(t[a]=n[i]))}function ot(t,n,i){var a;for(var r in n)n.hasOwnProperty(r)&&(a=n[r],e.isPlainObject(a)?(e.isPlainObject(t[r])||(t[r]={}),e.extend(!0,t[r],a)):i&&"data"!==r&&"aaData"!==r&&e.isArray(a)?t[r]=a.slice():t[r]=a);return t}function st(t,n,i){e(t).bind("click.DT",n,(function(n){if(e(t).hasClass("disabled"))return!1;e(t).closest(".row").siblings("table").find("input:checkbox").attr("checked",!1),t.blur(),i(n)})).bind("keypress.DT",n,(function(e){if(t.hasClass("disabled"))return!1;13===e.which&&i(e)})).bind("selectstart.DT",(function(){return!1}))}function lt(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function dt(t,n,i,a){var r=[];return n&&(r=e.map(t[n].slice().reverse(),(function(e,n){return e.fn.apply(t.oInstance,a)}))),null!==i&&e(t.nTable).trigger(i+".dt",a),r}function ct(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;n===e.fnRecordsDisplay()&&(t=n-i),(-1===i||t<0)&&(t=0),e._iDisplayStart=t}function ut(n,i){var a=n.renderer,r=t.ext.renderer[i];return e.isPlainObject(a)&&a[i]?r[a[i]]||r._:"string"==typeof a&&r[a]||r._}function ht(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}t=function(a){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new i(e?it(this[n.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),a=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(void 0===n||n)&&i.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;void 0===e||e?t.draw(!1):""===i.sX&&""===i.sY||Oe(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(void 0===e||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),a=i.rows(e),r=a.settings()[0],o=r.aoData[a[0][0]];return a.remove(),t&&t.call(this,r,o),(void 0===n||n)&&i.draw(),o},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,n,i,a,r){var o=this.api(!0);null==t?o.search(e,n,i,r):o.column(t).search(e,n,i,r),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(void 0!==e){var i=e.nodeName?e.nodeName.toLowerCase():"";return void 0!==t||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return void 0!==e?t.row(e).node():t.rows().nodes().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show()},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(void 0===t||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(void 0===n||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return it(this[n.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,a){var r=this.api(!0);return null==n?r.row(t).data(e):r.cell(t,n).data(e),(void 0===a||a)&&r.columns.adjust(),(void 0===i||i)&&r.draw(),0},this.fnVersionCheck=n.fnVersionCheck;var r=this,o=void 0===a,s=this.length;for(var l in o&&(a={}),this.oApi=this.internal=n.internal,t.ext.internal)l&&(this[l]=It(l));return this.each((function(){var n,i=s>1?ot({},a,!0):a,l=0,d=this.getAttribute("id"),c=!1,u=t.defaults;if("table"==this.nodeName.toLowerCase()){D(u),A(u.column),S(u,u,!0),S(u.column,u.column,!0),S(u,i);var h=t.settings;for(l=0,n=h.length;l<n;l++){if(h[l].nTable==this){var p=void 0!==i.bRetrieve?i.bRetrieve:u.bRetrieve,f=void 0!==i.bDestroy?i.bDestroy:u.bDestroy;if(o||p)return h[l].oInstance;if(f){h[l].oInstance.fnDestroy();break}return void at(h[l],0,"Cannot reinitialise DataTable")}if(h[l].sTableId==this.id){h.splice(l,1);break}}null!==d&&""!==d||(d="DataTables_Table_"+t.ext._unique++,this.id=d);var m=e.extend(!0,{},t.models.oSettings,{nTable:this,oApi:r.internal,oInit:i,sDestroyWidth:e(this)[0].style.width,sInstance:d,sTableId:d});if(h.push(m),m.oInstance=1===r.length?r:e(this).dataTable(),D(i),i.oLanguage&&k(i.oLanguage),i.aLengthMenu&&!i.iDisplayLength&&(i.iDisplayLength=e.isArray(i.aLengthMenu[0])?i.aLengthMenu[0][0]:i.aLengthMenu[0]),i=ot(e.extend(!0,{},u),i),rt(m.oFeatures,i,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),rt(m,i,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","customSort","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),rt(m.oScroll,i,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),rt(m.oLanguage,i,"fnInfoCallback"),lt(m,"aoDrawCallback",i.fnDrawCallback,"user"),lt(m,"aoServerParams",i.fnServerParams,"user"),lt(m,"aoStateSaveParams",i.fnStateSaveParams,"user"),lt(m,"aoStateLoadParams",i.fnStateLoadParams,"user"),lt(m,"aoStateLoaded",i.fnStateLoaded,"user"),lt(m,"aoRowCallback",i.fnRowCallback,"user"),lt(m,"aoRowCreatedCallback",i.fnCreatedRow,"user"),lt(m,"aoHeaderCallback",i.fnHeaderCallback,"user"),lt(m,"aoFooterCallback",i.fnFooterCallback,"user"),lt(m,"aoInitComplete",i.fnInitComplete,"user"),lt(m,"aoPreDrawCallback",i.fnPreDrawCallback,"user"),i.bJQueryUI?(e.extend(m.oClasses,t.ext.oJUIClasses,i.oClasses),i.sDom===u.sDom&&"lfrtip"===u.sDom&&(m.sDom='<"H"lfr>t<"F"ip>'),m.renderer?e.isPlainObject(m.renderer)&&!m.renderer.header&&(m.renderer.header="jqueryui"):m.renderer="jqueryui"):e.extend(m.oClasses,t.ext.classes,i.oClasses),e(this).addClass(m.oClasses.sTable),""===m.oScroll.sX&&""===m.oScroll.sY||(m.oScroll.iBarWidth=Ge()),!0===m.oScroll.sX&&(m.oScroll.sX="100%"),void 0===m.iInitDisplayStart&&(m.iInitDisplayStart=i.iDisplayStart,m._iDisplayStart=i.iDisplayStart),null!==i.iDeferLoading){m.bDeferLoading=!0;var g=e.isArray(i.iDeferLoading);m._iRecordsDisplay=g?i.iDeferLoading[0]:i.iDeferLoading,m._iRecordsTotal=g?i.iDeferLoading[1]:i.iDeferLoading}""!==i.oLanguage.sUrl?(m.oLanguage.sUrl=i.oLanguage.sUrl,e.getJSON(m.oLanguage.sUrl,null,(function(t){k(t),S(u.oLanguage,t),e.extend(!0,m.oLanguage,i.oLanguage,t),De(m)})),c=!0):e.extend(!0,m.oLanguage,i.oLanguage),null===i.asStripeClasses&&(m.asStripeClasses=[m.oClasses.sStripeOdd,m.oClasses.sStripeEven]);var v=m.asStripeClasses,y=e("tbody tr:eq(0)",this);-1!==e.inArray(!0,e.map(v,(function(e,t){return y.hasClass(e)})))&&(e("tbody tr",this).removeClass(v.join(" ")),m.asDestroyStripes=v.slice());var b,w=[],C=this.getElementsByTagName("thead");if(0!==C.length&&(le(m.aoHeader,C[0]),w=de(m)),null===i.aoColumns)for(b=[],l=0,n=w.length;l<n;l++)b.push(null);else b=i.aoColumns;for(l=0,n=b.length;l<n;l++)N(m,w?w[l]:null);if(F(m,i.aoColumnDefs,b,(function(e,t){P(m,e,t)})),y.length){var _=function(e,t){return e.getAttribute("data-"+t)?t:null};e.each(ee(m,y[0]).cells,(function(e,t){var n=m.aoColumns[e];if(n.mData===e){var i=_(t,"sort")||_(t,"order"),a=_(t,"filter")||_(t,"search");null===i&&null===a||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:void 0,type:null!==i?e+".@data-"+i:void 0,filter:null!==a?e+".@data-"+a:void 0},P(m,e))}}))}if(i.bStateSave&&(m.oFeatures.bStateSave=!0,nt(m),lt(m,"aoDrawCallback",tt,"state_save")),void 0===i.aaSorting)for(l=0,n=m.aaSorting.length;l<n;l++)m.aaSorting[l][1]=m.aoColumns[l].asSorting[0];Ze(m),m.oFeatures.bSort&&lt(m,"aoDrawCallback",(function(){if(m.bSorted){var t=Je(m),n={};e.each(t,(function(e,t){n[t.src]=t.dir})),dt(m,null,"order",[m,t,n]),Ze(m),Qe(m)}})),I(m);var x=e(this).children("caption").each((function(){this._captionSide=e(this).css("caption-side")})),T=e(this).children("thead");0===T.length&&(T=e("<thead/>").appendTo(this)),m.nTHead=T[0];var E=e(this).children("tbody");0===E.length&&(E=e("<tbody/>").appendTo(this)),m.nTBody=E[0];var R=e(this).children("tfoot");if(0===R.length&&x.length>0&&(""!==m.oScroll.sX||""!==m.oScroll.sY)&&(R=e("<tfoot/>").appendTo(this)),0===R.length||0===R.children().length?e(this).addClass(m.oClasses.sNoFooter):R.length>0&&(m.nTFoot=R[0],le(m.aoFooter,m.nTFoot)),i.aaData)for(l=0;l<i.aaData.length;l++)B(m,i.aaData[l]);else(m.bDeferLoading||"dom"==ht(m))&&U(m,e(m.nTBody).children("tr"));m.aiDisplay=m.aiDisplayMaster.slice(),m.bInitialised=!0,!1===c&&De(m)}else at(0,0,"Non-table node initialisation ("+this.nodeName+")")})),r=null,this};var pt=[],ft=Array.prototype;t.Api=i=function(n,a){if(!this instanceof i)throw"DT API must be constructed as a new object";var r=[],o=function(n){var i=function(n){var i,a,r=t.settings,o=e.map(r,(function(e,t){return e.nTable}));return n?n.nTable&&n.oApi?[n]:n.nodeName&&"table"===n.nodeName.toLowerCase()?-1!==(i=e.inArray(n,o))?[r[i]]:null:n&&"function"==typeof n.settings?n.settings():("string"==typeof n?a=e(n):n instanceof e&&(a=n),a?a.map((function(t){return-1!==(i=e.inArray(this,o))?r[i]:null})).toArray():void 0):[]}(n);i&&r.push.apply(r,i)};if(e.isArray(n))for(var s=0,l=n.length;s<l;s++)o(n[s]);else o(n);this.context=x(r),a&&this.push.apply(this,a.toArray?a.toArray():a),this.selector={rows:null,cols:null,opts:null},i.extend(this,this,pt)},i.prototype={concat:ft.concat,context:[],each:function(e){if(ft.forEach)ft.forEach.call(this,e,this);else for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new i(t[e],this[e]):null},filter:function(e){var t=[];if(ft.filter)t=ft.filter.call(this,e,this);else for(var n=0,a=this.length;n<a;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new i(this.context,t)},flatten:function(){var e=[];return new i(this.context,e.concat.apply(e,this.toArray()))},join:ft.join,indexOf:ft.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n){var a,r,o,s,l,d,c,u,h=[],p=this.context,f=this.selector;for("string"==typeof e&&(n=t,t=e,e=!1),r=0,o=p.length;r<o;r++)if("table"===t)void 0!==(a=n(p[r],r))&&h.push(a);else if("columns"===t||"rows"===t)void 0!==(a=n(p[r],this[r],r))&&h.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(c=this[r],"column-rows"===t&&(d=bt(p[r],f.opts)),s=0,l=c.length;s<l;s++)u=c[s],void 0!==(a="cell"===t?n(p[r],u.row,u.column,r,s):n(p[r],u,r,s,d))&&h.push(a);if(h.length){var m=new i(p,e?h.concat.apply([],h):h),g=m.selector;return g.rows=f.rows,g.cols=f.cols,g.opts=f.opts,m}return this},lastIndexOf:ft.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(ft.map)t=ft.map.call(this,e,this);else for(var n=0,a=this.length;n<a;n++)t.push(e.call(this,this[n],n));return new i(this.context,t)},pluck:function(e){return this.map((function(t){return t[e]}))},pop:ft.pop,push:ft.push,reduce:ft.reduce||function(e,t){var n,i=!1;arguments.length>1&&(n=t,i=!0);for(var a=0,r=this.length;a<r;a++)this.hasOwnProperty(a)&&(n=i?e(n,this[a],a,this):this[a],i=!0);return n},reduceRight:ft.reduceRight||function(e,t){var n,i=!1;arguments.length>1&&(n=t,i=!0);for(var a=this.length-1;a>=0;a--)this.hasOwnProperty(a)&&(n=i?e(n,this[a],a,this):this[a],i=!0);return n},reverse:ft.reverse,selector:null,shift:ft.shift,sort:ft.sort,splice:ft.splice,toArray:function(){return ft.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new i(this.context,x(this))},unshift:ft.unshift},i.extend=function(e,t,n){if(t&&(t instanceof i||t.__dt_wrapper)){var a,r,o,s=function(t,n){return function(){var a=t.apply(e,arguments);return i.extend(a,a,n.methodExt),a}};for(a=0,r=n.length;a<r;a++)t[(o=n[a]).name]="function"==typeof o.val?s(o.val,o):o.val,t[o.name].__dt_wrapper=!0,i.extend(e,t[o.name],o.propExt)}},i.register=a=function(n,a){if(e.isArray(n))for(var r=0,o=n.length;r<o;r++)i.register(n[r],a);else{var s,l,d,c,u=n.split("."),h=pt,p=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(s=0,l=u.length;s<l;s++){var f=p(h,d=(c=-1!==u[s].indexOf("()"))?u[s].replace("()",""):u[s]);f||(f={name:d,val:{},methodExt:[],propExt:[]},h.push(f)),s===l-1?f.val=a:h=c?f.methodExt:f.propExt}i.ready&&t.api.build()}},i.registerPlural=r=function(t,n,a){i.register(t,a),i.register(n,(function(){var t=a.apply(this,arguments);return t===this?this:t instanceof i?t.length?e.isArray(t[0])?new i(t.context,t[0]):t[0]:void 0:t}))};a("tables()",(function(t){return t?new i(function(t,n){if("number"==typeof t)return[n[t]];var i=e.map(n,(function(e,t){return e.nTable}));return e(i).filter(t).map((function(t){var a=e.inArray(this,i);return n[a]})).toArray()}(t,this.context)):this})),a("table()",(function(e){var t=this.tables(e),n=t.context;return n.length?new i(n[0]):t})),r("tables().nodes()","table().node()",(function(){return this.iterator("table",(function(e){return e.nTable}))})),r("tables().body()","table().body()",(function(){return this.iterator("table",(function(e){return e.nTBody}))})),r("tables().header()","table().header()",(function(){return this.iterator("table",(function(e){return e.nTHead}))})),r("tables().footer()","table().footer()",(function(){return this.iterator("table",(function(e){return e.nTFoot}))})),a("draw()",(function(e){return this.iterator("table",(function(t){oe(t,!1===e)}))})),a("page()",(function(e){return void 0===e?this.page.info().page:this.iterator("table",(function(t){Re(t,e)}))})),a("page.info()",(function(e){if(0!==this.context.length){var t=this.context[0],n=t._iDisplayStart,i=t._iDisplayLength,a=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(n/i),pages:r?1:Math.ceil(a/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a}}})),a("page.len()",(function(e){return void 0===e?0!==this.context.length?this.context[0]._iDisplayLength:void 0:this.iterator("table",(function(t){Ie(t,e)}))}));var mt=function(e,t,n){if("ssp"==ht(e)?oe(e,t):ce(e,[],(function(n){X(e);for(var i=fe(e,n),a=0,r=i.length;a<r;a++)B(e,i[a]);oe(e,t)})),n){var a=new i(e);a.one("draw",(function(){console.log(a.ajax.json()),n(a.ajax.json())}))}};a("ajax.json()",(function(){var e=this.context;if(e.length>0)return e[0].json})),a("ajax.reload()",(function(e,t){return this.iterator("table",(function(n){mt(n,!1===t,e)}))})),a("ajax.url()",(function(t){var n=this.context;if(void 0===t){if(0===n.length)return;return(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource}return this.iterator("table",(function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t}))})),a("ajax.url().load()",(function(e,t){return this.iterator("table",(function(n){mt(n,!1===t,e)}))}));var gt=function(t,n){var i,a,r,o,s,l,d=[];for(e.isArray(t)||(t=[t]),r=0,o=t.length;r<o;r++)for(s=0,l=(a=t[r]&&t[r].split?t[r].split(","):[t[r]]).length;s<l;s++)(i=n("string"==typeof a[s]?e.trim(a[s]):a[s]))&&i.length&&d.push.apply(d,i);return d},vt=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},yt=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},bt=function(t,n){var i,a,r,o=[],s=t.aiDisplay,l=t.aiDisplayMaster,d=n.search,c=n.order,u=n.page;if("ssp"==ht(t))return"removed"===d?[]:C(0,l.length);if("current"==u)for(i=t._iDisplayStart,a=t.fnDisplayEnd();i<a;i++)o.push(s[i]);else if("current"==c||"applied"==c)o="none"==d?l.slice():"applied"==d?s.slice():e.map(l,(function(t,n){return-1===e.inArray(t,s)?t:null}));else if("index"==c||"original"==c)for(i=0,a=t.aoData.length;i<a;i++)("none"==d||-1===(r=e.inArray(i,s))&&"removed"==d||1===r&&"applied"==d)&&o.push(i);return o};a("rows()",(function(t,n){void 0===t?t="":e.isPlainObject(t)&&(n=t,t=""),n=vt(n);var i=this.iterator("table",(function(i){return function(t,n,i){return gt(n,(function(n){var a=m(n);if(null!==a&&!i)return[a];var r=bt(t,i);if(null!==a&&-1!==e.inArray(a,r))return[a];if(!n)return r;for(var o=[],s=0,l=r.length;s<l;s++)o.push(t.aoData[r[s]].nTr);return n.nodeName&&-1!==e.inArray(n,o)?[n._DT_RowIndex]:e(o).filter(n).map((function(){return this._DT_RowIndex})).toArray()}))}(i,t,n)}));return i.selector.rows=t,i.selector.opts=n,i})),a("rows().nodes()",(function(){return this.iterator("row",(function(e,t){return e.aoData[t].nTr||void 0}))})),a("rows().data()",(function(){return this.iterator(!0,"rows",(function(e,t){return w(e.aoData,t,"_aData")}))})),r("rows().cache()","row().cache()",(function(e){return this.iterator("row",(function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData}))})),r("rows().invalidate()","row().invalidate()",(function(e){return this.iterator("row",(function(t,n){Z(t,n,e)}))})),r("rows().indexes()","row().index()",(function(){return this.iterator("row",(function(e,t){return t}))})),r("rows().remove()","row().remove()",(function(){var t=this;return this.iterator("row",(function(n,i,a){var r=n.aoData;r.splice(i,1);for(var o=0,s=r.length;o<s;o++)null!==r[o].nTr&&(r[o].nTr._DT_RowIndex=o);e.inArray(i,n.aiDisplay);K(n.aiDisplayMaster,i),K(n.aiDisplay,i),K(t[a],i,!1),ct(n)}))})),a("rows.add()",(function(e){var t=this.iterator("table",(function(t){var n,i,a,r=[];for(i=0,a=e.length;i<a;i++)(n=e[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(U(t,n)[0]):r.push(B(t,n));return r})),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n})),a("row()",(function(e,t){return yt(this.rows(e,t))})),a("row().data()",(function(e){var t=this.context;return void 0===e?t.length&&this.length?t[0].aoData[this[0]]._aData:void 0:(t[0].aoData[this[0]]._aData=e,Z(t[0],this[0],"data"),this)})),a("row().node()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null})),a("row.add()",(function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",(function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?U(e,t)[0]:B(e,t)}));return this.row(n[0])}));var wt=function(e){var t=this.context;if(t.length&&this.length){var n=t[0].aoData[this[0]];n._details&&(n._detailsShow=e,e?n._details.insertAfter(n.nTr):n._details.remove(),Ct(t[0]))}return this},Ct=function(e){var t=new i(e);t.off("draw.dt.DT_details column-visibility.dt.DT_details"),b(e.aoData,"_details").length>0&&(t.on("draw.dt.DT_details",(function(){t.rows({page:"current"}).eq(0).each((function(t){var n=e.aoData[t];n._detailsShow&&n._details.insertAfter(n.nTr)}))})),t.on("column-visibility.dt.DT_details",(function(e,t,n,i){for(var a,r=M(t),o=0,s=t.aoData.length;o<s;o++)(a=t.aoData[o])._details&&a._details.children("td[colspan]").attr("colspan",r)})))};a("row().child()",(function(t,n){var i=this.context;return void 0===t?i.length&&this.length?i[0].aoData[this[0]]._details:void 0:(i.length&&this.length&&function(t,n,i,a){var r=[],o=function(n,i){n.nodeName&&"tr"===n.nodeName.toUpperCase()||(n=e("<tr><td></td></tr>").find("td").html(n).parent()),e("td",n).addClass(i)[0].colSpan=M(t),r.push(n[0])};if(e.isArray(i)||i instanceof e)for(var s=0,l=i.length;s<l;s++)o(i[s],a);else o(i,a);n._details&&n._details.remove(),n._details=e(r),n._detailsShow&&n._details.insertAfter(n.nTr)}(i[0],i[0].aoData[this[0]],t,n),this)})),a(["row().child.show()","row().child().show()"],(function(){wt.call(this,!0)})),a(["row().child.hide()","row().child().hide()"],(function(){wt.call(this,!1)})),a("row().child.isShown()",(function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1}));var _t=/^(.*):(name|visIdx|visible)$/;a("columns()",(function(t,n){void 0===t?t="":e.isPlainObject(t)&&(n=t,t=""),n=vt(n);var i=this.iterator("table",(function(n){return function(t,n,i){var a=t.aoColumns,r=b(a,"sName"),o=b(a,"nTh");return gt(n,(function(n){var i=m(n);if(""===n)return C(a.length);if(null!==i)return[i>=0?i:a.length+i];var s=n.match(_t);if(!s)return e(o).filter(n).map((function(){return e.inArray(this,o)})).toArray();switch(s[2]){case"visIdx":case"visible":var l=parseInt(s[1],10);if(l<0){var d=e.map(a,(function(e,t){return e.bVisible?t:null}));return[d[d.length+l]]}return[$(t,l)];case"name":return e.map(r,(function(e,t){return e===s[1]?t:null}))}}))}(n,t)}));return i.selector.cols=t,i.selector.opts=n,i})),r("columns().header()","column().header()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTh}))})),r("columns().footer()","column().footer()",(function(e,t){return this.iterator("column",(function(e,t){return e.aoColumns[t].nTf}))})),r("columns().data()","column().data()",(function(){return this.iterator("column-rows",(function(e,t,n,i,a){for(var r=[],o=0,s=a.length;o<s;o++)r.push(W(e,a[o],t,""));return r}))})),r("columns().cache()","column().cache()",(function(e){return this.iterator("column-rows",(function(t,n,i,a,r){return w(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",n)}))})),r("columns().nodes()","column().nodes()",(function(){return this.iterator("column-rows",(function(e,t,n,i,a){return w(e.aoData,a,"anCells",t)}))})),r("columns().visible()","column().visible()",(function(t){return this.iterator("column",(function(n,i){return function(t,n,i){var a,r,o,s,l=t.aoColumns,d=l[n],c=t.aoData;if(void 0===i)return d.bVisible;if(d.bVisible!==i){if(i){var u=e.inArray(!0,b(l,"bVisible"),n+1);for(r=0,o=c.length;r<o;r++)s=c[r].nTr,a=c[r].anCells,s&&s.insertBefore(a[n],a[u]||null)}else e(b(t.aoData,"anCells",n)).detach(),d.bVisible=!1,ae(t,t.aoHeader),ae(t,t.aoFooter),tt(t);d.bVisible=i,ae(t,t.aoHeader),ae(t,t.aoFooter),R(t),(t.oScroll.sX||t.oScroll.sY)&&Oe(t),dt(t,null,"column-visibility",[t,n,i]),tt(t)}}(n,i,t)}))})),r("columns().indexes()","column().index()",(function(e){return this.iterator("column",(function(t,n){return"visible"===e?L(t,n):n}))})),a("columns.adjust()",(function(){return this.iterator("table",(function(e){R(e)}))})),a("column.index()",(function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return L(n,t);if("fromData"===e||"toVisible"===e)return $(n,t)}})),a("column()",(function(e,t){return yt(this.columns(e,t))}));a("cells()",(function(t,n,i){if(e.isPlainObject(t)&&(i=t,t=null),e.isPlainObject(n)&&(i=n,n=null),null==n)return this.iterator("table",(function(n){return function(t,n,i){var a,r,o,s,l,d=t.aoData,c=bt(t,i),u=w(d,c,"anCells"),h=e([].concat.apply([],u)),p=t.aoColumns.length;return gt(n,(function(t){if(!t){for(r=[],o=0,s=c.length;o<s;o++)for(a=c[o],l=0;l<p;l++)r.push({row:a,column:l});return r}return h.filter(t).map((function(t,n){return{row:a=n.parentNode._DT_RowIndex,column:e.inArray(n,d[a].anCells)}}))}))}(n,t,vt(i))}));var a,r,o,s,l,d=this.columns(n,i),c=this.rows(t,i),u=this.iterator("table",(function(e,t){for(a=[],r=0,o=c[t].length;r<o;r++)for(s=0,l=d[t].length;s<l;s++)a.push({row:c[t][r],column:d[t][s]});return a}));return e.extend(u.selector,{cols:n,rows:t,opts:i}),u})),r("cells().nodes()","cell().node()",(function(){return this.iterator("cell",(function(e,t,n){return e.aoData[t].anCells[n]}))})),a("cells().data()",(function(){return this.iterator("cell",(function(e,t,n){return W(e,t,n)}))})),r("cells().cache()","cell().cache()",(function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",(function(t,n,i){return t.aoData[n][e][i]}))})),r("cells().indexes()","cell().index()",(function(){return this.iterator("cell",(function(e,t,n){return{row:t,column:n,columnVisible:L(e,n)}}))})),a(["cells().invalidate()","cell().invalidate()"],(function(e){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(e),this})),a("cell()",(function(e,t,n){return yt(this.cells(e,t,n))})),a("cell().data()",(function(e){var t=this.context,n=this[0];return void 0===e?t.length&&n.length?W(t[0],n[0].row,n[0].column):void 0:(z(t[0],n[0].row,n[0].column,e),Z(t[0],n[0].row,"data",n[0].column),this)})),a("order()",(function(t,n){var i=this.context;return void 0===t?0!==i.length?i[0].aaSorting:void 0:("number"==typeof t?t=[[t,n]]:e.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",(function(e){e.aaSorting=t.slice()})))})),a("order.listener()",(function(e,t,n){return this.iterator("table",(function(i){Ke(i,e,t,n)}))})),a(["columns().order()","column().order()"],(function(t){var n=this;return this.iterator("table",(function(i,a){var r=[];e.each(n[a],(function(e,n){r.push([n,t])})),i.aaSorting=r}))})),a("search()",(function(t,n,i,a){var r=this.context;return void 0===t?0!==r.length?r[0].oPreviousSearch.sSearch:void 0:this.iterator("table",(function(r){r.oFeatures.bFilter&&ge(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),1)}))})),a(["columns().search()","column().search()"],(function(t,n,i,a){return this.iterator("column",(function(r,o){var s=r.aoPreSearchCols;if(void 0===t)return s[o].sSearch;r.oFeatures.bFilter&&(e.extend(s[o],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),ge(r,r.oPreviousSearch,1))}))})),t.versionCheck=t.fnVersionCheck=function(e){for(var n,i,a=t.version.split("."),r=e.split("."),o=0,s=r.length;o<s;o++)if((n=parseInt(a[o],10)||0)!==(i=parseInt(r[o],10)||0))return n>i;return!0},t.isDataTable=t.fnIsDataTable=function(n){var i=e(n).get(0),a=!1;return e.each(t.settings,(function(e,t){t.nTable!==i&&t.nScrollHead!==i&&t.nScrollFoot!==i||(a=!0)})),a},t.tables=t.fnTables=function(n){return jQuery.map(t.settings,(function(t){if(!n||n&&e(t.nTable).is(":visible"))return t.nTable}))},t.camelToHungarian=S,a("$()",(function(t,n){var i=this.rows(n).nodes(),a=e(i);return e([].concat(a.filter(t).toArray(),a.find(t).toArray()))})),e.each(["on","one","off"],(function(t,n){a(n+"()",(function(){var t=Array.prototype.slice.call(arguments);-1===t[0].indexOf(".dt")&&(t[0]+=".dt");var i=e(this.tables().nodes());return i[n].apply(i,t),this}))})),a("clear()",(function(){return this.iterator("table",(function(e){X(e)}))})),a("settings()",(function(){return new i(this.context,this.context)})),a("data()",(function(){return this.iterator("table",(function(e){return b(e.aoData,"_aData")})).flatten()})),a("destroy()",(function(n){return n=n||!1,this.iterator("table",(function(a){var r,s=a.nTableWrapper.parentNode,l=a.oClasses,d=a.nTable,c=a.nTBody,u=a.nTHead,h=a.nTFoot,p=e(d),f=e(c),m=e(a.nTableWrapper),g=e.map(a.aoData,(function(e){return e.nTr}));a.bDestroying=!0,dt(a,"aoDestroyCallback","destroy",[a]),n||new i(a).columns().visible(!0),m.unbind(".DT").find(":not(tbody *)").unbind(".DT"),e(o).unbind(".DT-"+a.sInstance),d!=u.parentNode&&(p.children("thead").remove(),p.append(u)),h&&d!=h.parentNode&&(p.children("tfoot").remove(),p.append(h)),p.remove(),m.remove(),a.aaSorting=[],a.aaSortingFixed=[],Ze(a),e(g).removeClass(a.asStripeClasses.join(" ")),e("th, td",u).removeClass(l.sSortable+" "+l.sSortableAsc+" "+l.sSortableDesc+" "+l.sSortableNone),a.bJUI&&(e("th span."+l.sSortIcon+", td span."+l.sSortIcon,u).remove(),e("th, td",u).each((function(){var t=e("div."+l.sSortJUIWrapper,this);e(this).append(t.contents()),t.remove()}))),n||s.insertBefore(d,a.nTableReinsertBefore),f.children().detach(),f.append(g),p.css("width",a.sDestroyWidth).removeClass(l.sTable),(r=a.asDestroyStripes.length)&&f.children().each((function(t){e(this).addClass(a.asDestroyStripes[t%r])}));var v=e.inArray(a,t.settings);-1!==v&&t.settings.splice(v,1)}))})),t.version="1.10.0-beta.2",t.settings=[],t.models={},t.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},t.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},t.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},t.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse(localStorage.getItem("DataTables_"+e.sInstance+"_"+o.location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{localStorage.setItem("DataTables_"+e.sInstance+"_"+o.location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},t.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},T(t.defaults),t.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},T(t.defaults.column),t.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ht(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ht(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,a=this.oFeatures,r=a.bPaginate;return a.bServerSide?!1===r||-1===e?Math.min(t+e,this._iRecordsDisplay):t+i:!r||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},t.ext=n={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:t.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:t.version},e.extend(n,{afnFiltering:n.search,aTypes:n.type.detect,ofnSearch:n.type.search,oSort:n.type.order,afnSortData:n.order,aoFeatures:n.feature,oApi:n.internal,oStdClasses:n.classes,oPagination:n.pager}),e.extend(t.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),xt="ui-state-default",Tt="css_right ui-icon ui-icon-",St="fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix",e.extend(t.ext.oJUIClasses,t.ext.classes,{sPageButton:"fg-button ui-button "+xt,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:xt+" sorting_asc",sSortDesc:xt+" sorting_desc",sSortable:xt+" sorting",sSortableAsc:xt+" sorting_asc_disabled",sSortableDesc:xt+" sorting_desc_disabled",sSortableNone:xt+" sorting_disabled",sSortJUIAsc:Tt+"triangle-1-n",sSortJUIDesc:Tt+"triangle-1-s",sSortJUI:Tt+"carat-2-n-s",sSortJUIAscAllowed:Tt+"carat-1-n",sSortJUIDescAllowed:Tt+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+xt,sScrollFoot:"dataTables_scrollFoot "+xt,sHeaderTH:xt,sFooterTH:xt,sJUIHeader:St+" ui-corner-tl ui-corner-tr",sJUIFooter:St+" ui-corner-bl ui-corner-br"});var xt,Tt,St;var kt=t.ext.pager;function Et(e,t){var n=[],i=kt.numbers_length,a=Math.floor(i/2);return t<=i?n=C(0,t):e<=a?((n=C(0,i-2)).push("ellipsis"),n.push(t-1)):e>=t-1-a?((n=C(t-(i-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=C(e-1,e+2)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(kt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Et(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Et(e,t),"next","last"]},_numbers:Et,numbers_length:5}),e.extend(!0,t.ext.renderer,{pageButton:{_:function(t,n,i,a,r,o){var s,l,d=t.oClasses,c=t.oLanguage.oPaginate,u=function(n,a){var h,p,f,m=function(e){Re(t,e.data.action,!0)};for(h=0,p=a.length;h<p;h++)if(f=a[h],e.isArray(f)){var g=e("<"+(f.DT_el||"div")+"/>").appendTo(n);u(g,f)}else{switch(s="",l="",f){case"ellipsis":n.append("<span>&hellip;</span>");break;case"first":s=c.sFirst,l=f+(r>0?"":" "+d.sPageButtonDisabled);break;case"previous":s=c.sPrevious,l=f+(r>0?"":" "+d.sPageButtonDisabled);break;case"next":s=c.sNext,l=f+(r<o-1?"":" "+d.sPageButtonDisabled);break;case"last":s=c.sLast,l=f+(r<o-1?"":" "+d.sPageButtonDisabled);break;default:s=f+1,l=r===f?d.sPageButtonActive:""}s&&st(e("<a>",{class:d.sPageButton+" "+l,"aria-controls":t.sTableId,tabindex:t.iTabIndex,id:0===i&&"string"==typeof f?t.sTableId+"_"+f:null}).html(s).appendTo(n),{action:f},m)}};u(e(n).empty(),a)}}});var Dt=function(e,t,n,i){return e&&"-"!==e?(t&&(e=g(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};function At(t){e.each({num:function(e){return Dt(e,t)},"num-fmt":function(e){return Dt(e,t,p)},"html-num":function(e){return Dt(e,t,c)},"html-num-fmt":function(e){return Dt(e,t,c,p)}},(function(e,i){n.type.order[e+t+"-pre"]=i}))}function It(e){return function(){var n=[it(this[t.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return t.ext.internal[e].apply(this,n)}}return e.extend(n.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return"string"==typeof e?e.toLowerCase():e&&e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),At(""),e.extend(t.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return v(e,n)?"num"+n:null},function(e,t){if(e&&!u.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||f(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return v(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return f(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(t.ext.type.search,{html:function(e){return f(e)?"":"string"==typeof e?e.replace(d," ").replace(c,""):""},string:function(e){return f(e)?"":"string"==typeof e?e.replace(d," "):e}}),e.extend(!0,t.ext.renderer,{header:{_:function(t,n,i,a){e(t.nTable).on("order.dt",(function(e,t,r,o){var s=i.idx;n.removeClass(i.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==o[s]?a.sSortAsc:"desc"==o[s]?a.sSortDesc:i.sSortingClass)}))},jqueryui:function(t,n,i,a){var r=i.idx;e("<div/>").addClass(a.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(a.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt",(function(e,t,o,s){n.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==s[r]?a.sSortAsc:"desc"==s[r]?a.sSortDesc:i.sSortingClass),n.find("span").removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==s[r]?a.sSortJUIAsc:"desc"==s[r]?a.sSortJUIDesc:i.sSortingClassJUI)}))}}}),e.extend(t.ext.internal,{_fnExternApiFunc:It,_fnBuildAjax:ce,_fnAjaxUpdate:ue,_fnAjaxParameters:he,_fnAjaxUpdateDraw:pe,_fnAjaxDataSrc:fe,_fnAddColumn:N,_fnColumnOptions:P,_fnAdjustColumnSizing:R,_fnVisibleToColumnIndex:$,_fnColumnIndexToVisible:L,_fnVisbleColumns:M,_fnGetColumns:O,_fnColumnTypes:j,_fnApplyColumnDefs:F,_fnHungarianMap:T,_fnCamelToHungarian:S,_fnLanguageCompat:k,_fnBrowserDetect:I,_fnAddData:B,_fnAddTr:U,_fnNodeToDataIndex:function(e,t){return void 0!==t._DT_RowIndex?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetRowData:H,_fnGetCellData:W,_fnSetCellData:z,_fnSplitObjNotation:G,_fnGetObjectDataFn:J,_fnSetObjectDataFn:q,_fnGetDataMaster:Q,_fnClearTable:X,_fnDeleteIndex:K,_fnInvalidateRow:Z,_fnGetRowElements:ee,_fnCreateTr:te,_fnBuildHead:ie,_fnDrawHead:ae,_fnDraw:re,_fnReDraw:oe,_fnAddOptionsHtml:se,_fnDetectHeader:le,_fnGetUniqueThs:de,_fnFeatureHtmlFilter:me,_fnFilterComplete:ge,_fnFilterCustom:ve,_fnFilterColumn:ye,_fnFilter:be,_fnFilterCreateSearch:we,_fnEscapeRegex:Ce,_fnFilterData:Te,_fnFeatureHtmlInfo:Se,_fnUpdateInfo:ke,_fnInfoMacros:Ee,_fnInitialise:De,_fnInitComplete:Ae,_fnLengthChange:Ie,_fnFeatureHtmlLength:Ne,_fnFeatureHtmlPaginate:Pe,_fnPageChange:Re,_fnFeatureHtmlProcessing:$e,_fnProcessingDisplay:Le,_fnFeatureHtmlTable:Me,_fnScrollDraw:Oe,_fnApplyToChildren:je,_fnCalculateColumnWidths:Be,_fnThrottle:Ue,_fnConvertToWidth:He,_fnScrollingWidthAdjust:We,_fnGetWidestNode:ze,_fnGetMaxLenString:Ye,_fnStringToCss:Ve,_fnScrollBarWidth:Ge,_fnSortFlatten:Je,_fnSort:qe,_fnSortAria:Qe,_fnSortListener:Xe,_fnSortAttachListener:Ke,_fnSortingClasses:Ze,_fnSortData:et,_fnSaveState:tt,_fnLoadState:nt,_fnSettingsFromNode:it,_fnLog:at,_fnMap:rt,_fnBindAction:st,_fnCallbackReg:lt,_fnCallbackFire:dt,_fnLengthOverflow:ct,_fnRenderer:ut,_fnDataSource:ht,_fnRowAttributes:ne,_fnCalculateEnd:function(){}}),e.fn.dataTable=t,e.fn.dataTableSettings=t.settings,e.fn.dataTableExt=t.ext,e.fn.DataTable=function(t){var n=t.data;return null==n&&(n=[]),0==n.length?(t.autoWidth=!1,t.bAutoWidth=!1):(t.autoWidth=!0,t.bAutoWidth=!0),e(this).dataTable(t).api()},e.each(t,(function(t,n){e.fn.DataTable[t]=n})),e.fn.dataTable})?i.apply(t,a):i)||(e.exports=r)}()}(window,document)},function(e,t){$((function(){var e=$(".keep-open");e.find("input").attr("checked",!0),e.find("li").off("click").on("click",(function(e){e.stopImmediatePropagation()}))})),$.fn.dataTable.Api?($.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(e,t,n,i,a,r){var o,s,l=new $.fn.dataTable.Api(e),d=e.oClasses,c=e.oLanguage.oPaginate,u=function(t,i){var h,p,f,m,g=function(e){e.preventDefault(),"ellipsis"!==e.data.action&&l.page(e.data.action).draw(!1)};for(h=0,p=i.length;h<p;h++)if(m=i[h],$.isArray(m))u(t,m);else{switch(o="",s="",m){case"ellipsis":o="&hellip;",s="disabled";break;case"first":o=c.sFirst,s=m+(a>0?"":" disabled");break;case"previous":o=c.sPrevious,s=m+(a>0?"":" disabled");break;case"next":o=c.sNext,s=m+(a<r-1?"":" disabled");break;case"last":o=c.sLast,s=m+(a<r-1?"":" disabled");break;default:o=m+1,s=a===m?"active":""}o&&(f=$("<li>",{class:d.sPageButton+" "+s,"aria-controls":e.sTableId,tabindex:e.iTabIndex,id:0===n&&"string"==typeof m?e.sTableId+"_"+m:null}).append($("<a>",{href:"#"}).html(o)).appendTo(t),e.oApi._fnBindAction(f,{action:m},g))}};u($(t).empty().html('<ul class="pagination"/>').children("ul"),i)}):($.fn.dataTable.defaults.sPaginationType="bootstrap",$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:-1===e._iDisplayLength?0:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:-1===e._iDisplayLength?0:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+i.sPrevious+'</a></li><li class="next disabled"><a href="#">'+i.sNext+" &rarr; </a></li></ul>");var r=$("a",t);$(r[0]).bind("click.DT",{action:"previous"},a),$(r[1]).bind("click.DT",{action:"next"},a)},fnUpdate:function(e,t){var n,i,a,r,o,s,l=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,c=Math.floor(2.5);for(l.iTotalPages<5?(o=1,s=l.iTotalPages):l.iPage<=c?(o=1,s=5):l.iPage>=l.iTotalPages-c?(o=l.iTotalPages-5+1,s=l.iTotalPages):s=(o=l.iPage-c+1)+5-1,n=0,i=d.length;n<i;n++){for($("li:gt(0)",d[n]).filter(":not(:last)").remove(),a=o;a<=s;a++)r=a==l.iPage+1?'class="active"':"",$("<li "+r+'><a href="#">'+a+"</a></li>").insertBefore($("li:last",d[n])[0]).bind("click",(function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,t(e)}));0===l.iPage?$("li:first",d[n]).addClass("disabled"):$("li:first",d[n]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li:last",d[n]).addClass("disabled"):$("li:last",d[n]).removeClass("disabled")}}}})),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))},function(e,t,n){var i;!function(a,r){"use strict";var o,s,l={getPath:function(){var e=document.scripts,t=e[e.length-1],n=t.src;if(!t.getAttribute("merge"))return n.substring(0,n.lastIndexOf("/")+1)}(),enter:function(e){13===e.keyCode&&e.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},d={v:"2.4",ie6:!!a.ActiveXObject&&!a.XMLHttpRequest,index:0,path:l.getPath,config:function(e,t){var n=0;return e=e||{},d.cache=l.config=o.extend(l.config,e),d.path=l.config.path||d.path,"string"==typeof e.extend&&(e.extend=[e.extend]),d.use("skin/layer.css",e.extend&&e.extend.length>0?function i(){var a=e.extend;d.use(a[a[n]?n:n-1],n<a.length?(++n,i):t)}():t),this},use:function(e,t,n){var i=o("head")[0],a=(e=e.replace(/\s/g,""),/\.css$/.test(e)),r=document.createElement(a?"link":"script"),s="layui_layer_"+e.replace(/\.|\//g,"");return d.path?(a&&(r.rel="stylesheet"),r[a?"href":"src"]=/^http:\/\//.test(e)?e:d.path+e,r.id=s,o("#"+s)[0]||i.appendChild(r),function e(){(a?1989===parseInt(o("#"+s).css("width")):d[n||s])?function(){t&&t();try{a||i.removeChild(r)}catch(e){}}():setTimeout(e,100)}(),this):void 0},ready:function(e,t){var n="function"==typeof e;return n&&(t=e),d.config(o.extend(l.config,n?{}:{path:e}),t),this},alert:function(e,t,n){var i="function"==typeof t;return i&&(n=t),d.open(o.extend({content:e,yes:n},i?{}:t))},confirm:function(e,t,n,i){var a="function"==typeof t;return a&&(i=n,n=t),d.open(o.extend({content:e,btn:l.btn,yes:n,btn2:i},a?{}:t))},msg:function(e,t,n){var i="function"==typeof t,a=l.config.skin,r=(a?a+" "+a+"-msg":"")||"layui-layer-msg",s=u.anim.length-1;return i&&(n=t),d.open(o.extend({content:e,time:3e3,shade:!1,skin:r,title:!1,closeBtn:!1,btn:!1,end:n},i&&!l.config.skin?{skin:r+" layui-layer-hui",shift:s}:((-1===(t=t||{}).icon||void 0===t.icon&&!l.config.skin)&&(t.skin=r+" "+(t.skin||"layui-layer-hui")),t)))},load:function(e,t){return d.open(o.extend({type:3,icon:e||0,shade:.01},t))},tips:function(e,t,n){return d.open(o.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,fix:!1,maxWidth:210},n))}},c=function(e){var t=this;t.index=++d.index,t.config=o.extend({},t.config,l.config,e),t.creat()};c.pt=c.prototype;var u=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];u.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],c.pt.config={type:0,shade:.3,fix:!0,move:u[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},c.pt.vessel=function(e,t){var n=this,i=n.index,a=n.config,r=a.zIndex+i,o="object"==typeof a.title,s=a.maxmin&&(1===a.type||2===a.type),d=a.title?'<div class="layui-layer-title" style="'+(o?a.title[1]:"")+'">'+(o?a.title[0]:a.title)+"</div>":"";return a.zIndex=r,t([a.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+i+'" times="'+i+'" style="z-index:'+(r-1)+"; background-color:"+(a.shade[1]||"#000")+"; opacity:"+(a.shade[0]||a.shade)+"; filter:alpha(opacity="+(100*a.shade[0]||100*a.shade)+');"></div>':"",'<div class="'+u[0]+" layui-layer-"+l.type[a.type]+(0!=a.type&&2!=a.type||a.shade?"":" layui-layer-border")+" "+(a.skin||"")+'" id="'+u[0]+i+'" type="'+l.type[a.type]+'" times="'+i+'" showtime="'+a.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+r+"; width:"+a.area[0]+";height:"+a.area[1]+(a.fix?"":";position:absolute;")+'">'+(e&&2!=a.type?"":d)+'<div id="'+(a.id||"")+'" class="layui-layer-content'+(0==a.type&&-1!==a.icon?" layui-layer-padding":"")+(3==a.type?" layui-layer-loading"+a.icon:"")+'">'+(0==a.type&&-1!==a.icon?'<i class="layui-layer-ico layui-layer-ico'+a.icon+'"></i>':"")+(1==a.type&&e?"":a.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=s?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return a.closeBtn&&(e+='<a class="layui-layer-ico '+u[7]+" "+u[7]+(a.title?a.closeBtn:4==a.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(a.btn?function(){var e="";"string"==typeof a.btn&&(a.btn=[a.btn]);for(var t=0,n=a.btn.length;n>t;t++)e+='<a class="'+u[6]+t+'">'+a.btn[t]+"</a>";return'<div class="'+u[6]+'">'+e+"</div>"}():"")+"</div>"],d),n},c.pt.creat=function(){var e=this,t=e.config,n=e.index,i="object"==typeof(a=t.content);if(!o("#"+t.id)[0]){switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.type){case 0:t.btn="btn"in t?t.btn:l.btn[0],d.closeAll("dialog");break;case 2:var a=t.content=i?t.content:[t.content||"http://layer.layui.com","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+u[4]+n+'" name="'+u[4]+n+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:t.title=!1,t.closeBtn=!1,-1===t.icon&&t.icon,d.closeAll("loading");break;case 4:i||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',t.title=!1,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||d.closeAll("tips")}e.vessel(i,(function(r,s){o("body").append(r[0]),i?2==t.type||4==t.type?o("body").append(r[1]):a.parents("."+u[0])[0]||(a.show().addClass("layui-layer-wrap").wrap(r[1]),o("#"+u[0]+n).find("."+u[5]).before(s)):o("body").append(r[1]),e.layero=o("#"+u[0]+n),t.scrollbar||u.html.css("overflow","hidden").attr("layer-full",n)})).auto(n),2==t.type&&d.ie6&&e.layero.find("iframe").attr("src",a[0]),o(document).off("keydown",l.enter).on("keydown",l.enter),e.layero.on("keydown",(function(e){o(document).off("keydown",l.enter)})),4==t.type?e.tips():e.offset(),t.fix&&s.on("resize",(function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(n),4==t.type&&e.tips()})),t.time<=0||setTimeout((function(){d.close(e.index)}),t.time),e.move().callback(),u.anim[t.shift]&&e.layero.addClass(u.anim[t.shift])}},c.pt.auto=function(e){function t(e){(e=i.find(e)).height(a[1]-r-l-2*(0|parseFloat(e.css("padding"))))}var n=this.config,i=o("#"+u[0]+e);""===n.area[0]&&n.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&n.btn&&i.width(i.innerWidth()),i.outerWidth()>n.maxWidth&&i.width(n.maxWidth));var a=[i.innerWidth(),i.innerHeight()],r=i.find(u[1]).outerHeight()||0,l=i.find("."+u[6]).outerHeight()||0;switch(n.type){case 2:t("iframe");break;default:""===n.area[1]?n.fix&&a[1]>=s.height()&&(a[1]=s.height(),t("."+u[5])):t("."+u[5])}return this},c.pt.offset=function(){var e=this,t=e.config,n=e.layero,i=[n.outerWidth(),n.outerHeight()],a="object"==typeof t.offset;e.offsetTop=(s.height()-i[1])/2,e.offsetLeft=(s.width()-i[0])/2,a?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&(e.offsetTop=t.offset,"rb"===t.offset&&(e.offsetTop=s.height()-i[1],e.offsetLeft=s.width()-i[0])),t.fix||(e.offsetTop=/%$/.test(e.offsetTop)?s.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?s.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=s.scrollTop(),e.offsetLeft+=s.scrollLeft()),n.css({top:e.offsetTop,left:e.offsetLeft})},c.pt.tips=function(){var e=this.config,t=this.layero,n=[t.outerWidth(),t.outerHeight()],i=o(e.follow);i[0]||(i=o("body"));var a={width:i.outerWidth(),height:i.outerHeight(),top:i.offset().top,left:i.offset().left},r=t.find(".layui-layer-TipsG"),l=e.tips[0];e.tips[1]||r.remove(),a.autoLeft=function(){a.left+n[0]-s.width()>0?(a.tipLeft=a.left+a.width-n[0],r.css({right:12,left:"auto"})):a.tipLeft=a.left},a.where=[function(){a.autoLeft(),a.tipTop=a.top-n[1]-10,r.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){a.tipLeft=a.left+a.width+10,a.tipTop=a.top,r.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){a.autoLeft(),a.tipTop=a.top+a.height+10,r.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){a.tipLeft=a.left-n[0]-10,a.tipTop=a.top,r.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],a.where[l-1](),1===l?a.top-(s.scrollTop()+n[1]+16)<0&&a.where[2]():2===l?s.width()-(a.left+a.width+n[0]+16)>0||a.where[3]():3===l?a.top-s.scrollTop()+a.height+n[1]+16-s.height()>0&&a.where[0]():4===l&&n[0]+16-a.left>0&&a.where[1](),t.find("."+u[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),t.css({left:a.tipLeft-(e.fix?s.scrollLeft():0),top:a.tipTop-(e.fix?s.scrollTop():0)})},c.pt.move=function(){var e=this,t=e.config,n={setY:0,moveLayer:function(){var e=n.layero,t=parseInt(e.css("margin-left")),i=parseInt(n.move.css("left"));0===t||(i-=t),"fixed"!==e.css("position")&&(i-=e.parent().offset().left,n.setY=0),e.css({left:i,top:parseInt(n.move.css("top"))-n.setY})}},i=e.layero.find(t.move);return t.move&&i.attr("move","ok"),i.css({cursor:t.move?"move":"auto"}),o(t.move).on("mousedown",(function(e){if(e.preventDefault(),"ok"===o(this).attr("move")){n.ismove=!0,n.layero=o(this).parents("."+u[0]);var i=n.layero.offset().left,a=n.layero.offset().top,r=n.layero.outerWidth()-6,l=n.layero.outerHeight()-6;o("#layui-layer-moves")[0]||o("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+i+"px; top:"+a+"px; width:"+r+"px; height:"+l+'px; z-index:2147483584"></div>'),n.move=o("#layui-layer-moves"),t.moveType&&n.move.css({visibility:"hidden"}),n.moveX=e.pageX-n.move.position().left,n.moveY=e.pageY-n.move.position().top,"fixed"!==n.layero.css("position")||(n.setY=s.scrollTop())}})),o(document).mousemove((function(e){if(n.ismove){var i=e.pageX-n.moveX,a=e.pageY-n.moveY;if(e.preventDefault(),!t.moveOut){n.setY=s.scrollTop();var r=s.width()-n.move.outerWidth(),o=n.setY;0>i&&(i=0),i>r&&(i=r),o>a&&(a=o),a>s.height()-n.move.outerHeight()+n.setY&&(a=s.height()-n.move.outerHeight()+n.setY)}n.move.css({left:i,top:a}),t.moveType&&n.moveLayer(),i=a=r=o=null}})).mouseup((function(){try{n.ismove&&(n.moveLayer(),n.move.remove(),t.moveEnd&&t.moveEnd()),n.ismove=!1}catch(e){n.ismove=!1}})),e},c.pt.callback=function(){var e=this,t=e.layero,n=e.config;e.openLayer(),n.success&&(2==n.type?t.find("iframe").on("load",(function(){n.success(t,e.index)})):n.success(t,e.index)),d.ie6&&e.IE6(t),t.find("."+u[6]).children("a").on("click",(function(){var i=o(this).index();0===i?n.yes?n.yes(e.index,t):n.btn1?n.btn1(e.index,t):d.close(e.index):!1===(n["btn"+(i+1)]&&n["btn"+(i+1)](e.index,t))||d.close(e.index)})),t.find("."+u[7]).on("click",(function(){!1===(n.cancel&&n.cancel(e.index,t))||d.close(e.index)})),n.shadeClose&&o("#layui-layer-shade"+e.index).on("click",(function(){d.close(e.index)})),t.find(".layui-layer-min").on("click",(function(){!1===(n.min&&n.min(t))||d.min(e.index,n)})),t.find(".layui-layer-max").on("click",(function(){o(this).hasClass("layui-layer-maxmin")?(d.restore(e.index),n.restore&&n.restore(t)):(d.full(e.index,n),setTimeout((function(){n.full&&n.full(t)}),100))})),n.end&&(l.end[e.index]=n.end)},l.reselect=function(){o.each(o("select"),(function(e,t){var n=o(this);n.parents("."+u[0])[0]||1==n.attr("layer")&&o("."+u[0]).length<1&&n.removeAttr("layer").show(),n=null}))},c.pt.IE6=function(e){function t(){e.css({top:i+(n.config.fix?s.scrollTop():0)})}var n=this,i=e.offset().top;t(),s.scroll(t),o("select").each((function(e,t){var n=o(this);n.parents("."+u[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null}))},c.pt.openLayer=function(){d.zIndex=this.config.zIndex,d.setTop=function(e){return d.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",(function(){d.zIndex++,e.css("z-index",d.zIndex+1)})),d.zIndex}},l.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},l.rescollbar=function(e){u.html.attr("layer-full")==e&&(u.html[0].style.removeProperty?u.html[0].style.removeProperty("overflow"):u.html[0].style.removeAttribute("overflow"),u.html.removeAttr("layer-full"))},a.layer=d,d.getChildFrame=function(e,t){return t=t||o("."+u[4]).attr("times"),o("#"+u[0]+t).find("iframe").contents().find(e)},d.getFrameIndex=function(e){return o("#"+e).parents("."+u[4]).attr("times")},d.iframeAuto=function(e){if(e){var t=d.getChildFrame("html",e).outerHeight(),n=o("#"+u[0]+e),i=n.find(u[1]).outerHeight()||0,a=n.find("."+u[6]).outerHeight()||0;n.css({height:t+i+a}),n.find("iframe").css({height:t})}},d.iframeSrc=function(e,t){o("#"+u[0]+e).find("iframe").attr("src",t)},d.style=function(e,t){var n=o("#"+u[0]+e),i=n.attr("type"),a=n.find(u[1]).outerHeight()||0,r=n.find("."+u[6]).outerHeight()||0;(i===l.type[1]||i===l.type[2])&&(n.css(t),i===l.type[2]&&n.find("iframe").css({height:parseFloat(t.height)-a-r}))},d.min=function(e,t){var n=o("#"+u[0]+e),i=n.find(u[1]).outerHeight()||0;l.record(n),d.style(e,{width:180,height:i,overflow:"hidden"}),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(u[4]).hide(),l.rescollbar(e)},d.restore=function(e){var t=o("#"+u[0]+e),n=t.attr("area").split(",");t.attr("type"),d.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(u[4]).show(),l.rescollbar(e)},d.full=function(e){var t,n=o("#"+u[0]+e);l.record(n),u.html.attr("layer-full")||u.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout((function(){var t="fixed"===n.css("position");d.style(e,{top:t?0:s.scrollTop(),left:t?0:s.scrollLeft(),width:s.width(),height:s.height()}),n.find(".layui-layer-min").hide()}),100)},d.title=function(e,t){o("#"+u[0]+(t||d.index)).find(u[1]).html(e)},d.close=function(e){var t=o("#"+u[0]+e),n=t.attr("type");if(t[0]){if(n===l.type[1]&&"object"===t.attr("conType")){t.children(":not(."+u[5]+")").remove();for(var i=0;2>i;i++)t.find(".layui-layer-wrap").unwrap().hide()}else{if(n===l.type[2])try{var a=o("#"+u[4]+e)[0];a.contentWindow.document.write(""),a.contentWindow.close(),t.find("."+u[5])[0].removeChild(a)}catch(e){}t[0].innerHTML="",t.remove()}o("#layui-layer-moves, #layui-layer-shade"+e).remove(),d.ie6&&l.reselect(),l.rescollbar(e),o(document).off("keydown",l.enter),"function"==typeof l.end[e]&&l.end[e](),delete l.end[e]}},d.closeAll=function(e){o.each(o("."+u[0]),(function(){var t=o(this),n=e?t.attr("type")===e:1;n&&d.close(t.attr("times")),n=null}))};var h=d.cache||{},p=function(e){return h.skin?" "+h.skin+" "+h.skin+"-"+e:""};d.prompt=function(e,t){"function"==typeof(e=e||{})&&(t=e);var n,i=2==e.formType?'<textarea class="layui-layer-input">'+(e.value||"")+"</textarea>":'<input type="'+(1==e.formType?"password":"text")+'" class="layui-layer-input" value="'+(e.value||"")+'">';return d.open(o.extend({btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:i,skin:"layui-layer-prompt"+p("prompt"),success:function(e){(n=e.find(".layui-layer-input")).focus()},yes:function(i){var a=n.val();""===a?n.focus():a.length>(e.maxlength||500)?d.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",n,{tips:1}):t&&t(a,i,n)}},e))},d.tab=function(e){var t=(e=e||{}).tab||{};return d.open(o.extend({type:1,skin:"layui-layer-tab"+p("tab"),title:function(){var e=t.length,n=1,i="";if(e>0)for(i='<span class="layui-layer-tabnow">'+t[0].title+"</span>";e>n;n++)i+="<span>"+t[n].title+"</span>";return i}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,n=1,i="";if(e>0)for(i='<li class="layui-layer-tabli xubox_tab_layer">'+(t[0].content||"no content")+"</li>";e>n;n++)i+='<li class="layui-layer-tabli">'+(t[n].content||"no  content")+"</li>";return i}()+"</ul>",success:function(t){var n=t.find(".layui-layer-title").children(),i=t.find(".layui-layer-tabmain").children();n.on("mousedown",(function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var n=o(this),a=n.index();n.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),i.eq(a).show().siblings().hide(),"function"==typeof e.change&&e.change(a)}))}},e))},d.photos=function(e,t,n){var i={};if((e=e||{}).photos){var r=e.photos.constructor===Object,s=r?e.photos:{},l=s.data||[],c=s.start||0;if(i.imgIndex=1+(0|c),e.img=e.img||"img",r){if(0===l.length)return d.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var u=o(e.photos),h=function(){l=[],u.find(e.img).each((function(e){var t=o(this);t.attr("layer-index",e),l.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})}))};if(h(),0===l.length)return;if(t||u.on("click",e.img,(function(){var t=o(this).attr("layer-index");d.photos(o.extend(e,{photos:{start:t,data:l,tab:e.tab},full:e.full}),!0),h()})),!t)return}i.imgprev=function(e){i.imgIndex--,i.imgIndex<1&&(i.imgIndex=l.length),i.tabimg(e)},i.imgnext=function(e,t){i.imgIndex++,i.imgIndex>l.length&&(i.imgIndex=1,t)||i.tabimg(e)},i.keyup=function(e){if(!i.end){var t=e.keyCode;e.preventDefault(),37===t?i.imgprev(!0):39===t?i.imgnext(!0):27===t&&d.close(i.index)}},i.tabimg=function(t){l.length<=1||(s.start=i.imgIndex-1,d.close(i.index),d.photos(e,!0,t))},i.event=function(){i.bigimg.hover((function(){i.imgsee.show()}),(function(){i.imgsee.hide()})),i.bigimg.find(".layui-layer-imgprev").on("click",(function(e){e.preventDefault(),i.imgprev()})),i.bigimg.find(".layui-layer-imgnext").on("click",(function(e){e.preventDefault(),i.imgnext()})),o(document).on("keyup",i.keyup)},i.loadi=d.load(1,{shade:!("shade"in e)&&.9,scrollbar:!1}),function(e,t,n){var i=new Image;i.src=e,i.complete?t(i):(i.onload=function(){i.onload=null,t(i)},i.onerror=function(e){i.onerror=null,n(e)})}(l[c].src,(function(t){d.close(i.loadi),i.index=d.open(o.extend({type:1,area:function(){var n=[t.width,t.height],i=[o(a).width()-50,o(a).height()-50];return!e.full&&n[0]>i[0]&&(n[0]=i[0],n[1]=n[0]*t.height/t.width),[n[0]+"px",n[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+p("photos"),content:'<div class="layui-layer-phimg"><img src="'+l[c].src+'" alt="'+(l[c].alt||"")+'" layer-pid="'+l[c].pid+'"><div class="layui-layer-imgsee">'+(l.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(n?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(l[c].alt||"")+"</a><em>"+i.imgIndex+"/"+l.length+"</em></span></div></div></div>",success:function(t,n){i.bigimg=t.find(".layui-layer-phimg"),i.imgsee=t.find(".layui-layer-imguide,.layui-layer-imgbar"),i.event(t),e.tab&&e.tab(l[c],t)},end:function(){i.end=!0,o(document).off("keyup",i.keyup)}},e))}),(function(){d.close(i.loadi),d.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){l.length>1&&i.imgnext(!0,!0)}})}))}},l.run=function(){o=jQuery,s=o(a),u.html=o("html"),d.open=function(e){return new c(e).index}},void 0===(i=function(){return l.run(),d}.call(t,n,t,e))||(e.exports=i)}(window)},function(e,t,n){var i;!function(){"use strict";var a,r,o=window.layui&&layui.define,s={getPath:(a=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,n=t.length-1,i=n;i>0;i--)if("interactive"===t[i].readyState){e=t[i].src;break}return e||t[n].src}(),a.substring(0,a.lastIndexOf("/")+1)),getStyle:function(e,t){var n=e.currentStyle?e.currentStyle:window.getComputedStyle(e,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](t)},link:function(e,t,n){t()}},l={v:"5.0.9",config:{},index:window.laydate&&window.laydate.v?1e5:0,path:s.getPath,set:function(e){return this.config=y.extend({},this.config,e),this},ready:function(e){var t=(o?"modules/laydate/":"theme/")+"default/laydate.css?v="+l.v;return o?layui.addcss(t,e,"laydate"):s.link(t,e,"laydate"),this}},d=function(){var e=this;return{hint:function(t){e.hint.call(e,t)},config:e.config}},c="layui-this",u="laydate-disabled",h="<br>",p=[100,2e5],f="layui-laydate-list",m="layui-laydate-hint",g=".laydate-btns-confirm",v=function(e){var t=this;t.index=++l.index,t.config=y.extend({},t.config,l.config,e),l.ready((function(){t.init()}))},y=function(e){return new b(e)},b=function(e){for(var t=0,n="object"==typeof e?[e]:(this.selector=e,document.querySelectorAll(e||null));t<n.length;t++)this.push(n[t])};b.prototype=[],b.prototype.constructor=b,y.extend=function(){var e=1,t=arguments,n=function(e,t){for(var i in e=e||(t.constructor===Array?[]:{}),t)e[i]=t[i]&&t[i].constructor===Object?n(e[i],t[i]):t[i];return e};for(t[0]="object"==typeof t[0]?t[0]:{};e<t.length;e++)"object"==typeof t[e]&&n(t[0],t[e]);return t[0]},y.ie=(r=navigator.userAgent.toLowerCase(),!(!window.ActiveXObject&&!("ActiveXObject"in window))&&((r.match(/msie\s(\d+)/)||[])[1]||"11")),y.stope=function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},y.each=function(e,t){var n;if("function"!=typeof t)return this;if((e=e||[]).constructor===Object){for(n in e)if(t.call(e[n],n,e[n]))break}else for(n=0;n<e.length&&!t.call(e[n],n,e[n]);n++);return this},y.digit=function(e,t,n){var i="";t=t||2;for(var a=(e=String(e)).length;a<t;a++)i+="0";return e<Math.pow(10,t)?i+(0|e):e},y.elem=function(e,t){var n=document.createElement(e);return y.each(t||{},(function(e,t){n.setAttribute(e,t)})),n},b.addStr=function(e,t){return e=e.replace(/\s+/," "),t=t.replace(/\s+/," ").split(" "),y.each(t,(function(t,n){new RegExp("\\b"+n+"\\b").test(e)||(e=e+" "+n)})),e.replace(/^\s|\s$/,"")},b.removeStr=function(e,t){return e=e.replace(/\s+/," "),t=t.replace(/\s+/," ").split(" "),y.each(t,(function(t,n){var i=new RegExp("\\b"+n+"\\b");i.test(e)&&(e=e.replace(i,""))})),e.replace(/\s+/," ").replace(/^\s|\s$/,"")},b.prototype.find=function(e){var t=this,n=0,i=[],a="object"==typeof e;return this.each((function(r,o){for(var s=a?[e]:o.querySelectorAll(e||null);n<s.length;n++)i.push(s[n]);t.shift()})),a||(t.selector=(t.selector?t.selector+" ":"")+e),y.each(i,(function(e,n){t.push(n)})),t},b.prototype.each=function(e){return y.each.call(this,this,e)},b.prototype.addClass=function(e,t){return this.each((function(n,i){i.className=b[t?"removeStr":"addStr"](i.className,e)}))},b.prototype.removeClass=function(e){return this.addClass(e,!0)},b.prototype.hasClass=function(e){var t=!1;return this.each((function(n,i){new RegExp("\\b"+e+"\\b").test(i.className)&&(t=!0)})),t},b.prototype.attr=function(e,t){var n=this;return void 0===t?function(){if(n.length>0)return n[0].getAttribute(e)}():n.each((function(n,i){i.setAttribute(e,t)}))},b.prototype.removeAttr=function(e){return this.each((function(t,n){n.removeAttribute(e)}))},b.prototype.html=function(e){return this.each((function(t,n){n.innerHTML=e}))},b.prototype.val=function(e){return this.each((function(t,n){n.value=e}))},b.prototype.append=function(e){return this.each((function(t,n){"object"==typeof e?n.appendChild(e):n.innerHTML=n.innerHTML+e}))},b.prototype.remove=function(e){return this.each((function(t,n){e?n.removeChild(e):n.parentNode.removeChild(n)}))},b.prototype.on=function(e,t){return this.each((function(n,i){i.attachEvent?i.attachEvent("on"+e,(function(e){e.target=e.srcElement,t.call(i,e)})):i.addEventListener(e,t,!1)}))},b.prototype.off=function(e,t){return this.each((function(n,i){i.detachEvent?i.detachEvent("on"+e,t):i.removeEventListener(e,t,!1)}))},v.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},v.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,min:"1900-1-1",max:"2099-12-31",trigger:"focus",show:!1,showBottom:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},v.prototype.lang=function(){var e={cn:{weeks:["","","","","","",""],time:["","",""],timeTips:"",startTime:"",endTime:"",dateTips:"",month:["","","","","","","","","","","",""],tools:{confirm:"",clear:"",now:""}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}};return e[this.config.lang]||e.cn},v.prototype.init=function(){var e=this,t=e.config,n="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s",i="static"===t.position,a={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};t.elem=y(t.elem),t.eventElem=y(t.eventElem),t.elem[0]&&(!0===t.range&&(t.range="-"),t.format===a.date&&(t.format=a[t.type]),e.format=t.format.match(new RegExp(n+"|.","g"))||[],e.EXP_IF="",e.EXP_SPLIT="",y.each(e.format,(function(t,i){var a=new RegExp(n).test(i)?"\\d{"+(new RegExp(n).test(e.format[0===t?t+1:t-1]||"")?/^yyyy|y$/.test(i)?4:i.length:/^yyyy$/.test(i)?"1,4":/^y$/.test(i)?"1,308":"1,2")+"}":"\\"+i;e.EXP_IF=e.EXP_IF+a,e.EXP_SPLIT=e.EXP_SPLIT+"("+a+")"})),e.EXP_IF=new RegExp("^"+(t.range?e.EXP_IF+"\\s\\"+t.range+"\\s"+e.EXP_IF:e.EXP_IF)+"$"),e.EXP_SPLIT=new RegExp("^"+e.EXP_SPLIT+"$",""),e.isInput(t.elem[0])||"focus"===t.trigger&&(t.trigger="click"),t.elem.attr("lay-key")||(t.elem.attr("lay-key",e.index),t.eventElem.attr("lay-key",e.index)),t.mark=y.extend({},t.calendar&&"cn"===t.lang?{"0-1-1":"","0-2-14":"","0-3-8":"","0-3-12":"","0-4-1":"","0-5-1":"","0-5-4":"","0-6-1":"","0-9-10":"","0-9-18":"","0-10-1":"","0-12-25":""}:{},t.mark),y.each(["min","max"],(function(e,n){var i=[],a=[];if("number"==typeof t[n]){var r=t[n],o=(new Date).getTime(),s=new Date(r?r<864e5?o+864e5*r:r:o);i=[s.getFullYear(),s.getMonth()+1,s.getDate()],r<864e5||(a=[s.getHours(),s.getMinutes(),s.getSeconds()])}else i=(t[n].match(/\d+-\d+-\d+/)||[""])[0].split("-"),a=(t[n].match(/\d+:\d+:\d+/)||[""])[0].split(":");t[n]={year:0|i[0]||(new Date).getFullYear(),month:i[1]?(0|i[1])-1:(new Date).getMonth(),date:0|i[2]||(new Date).getDate(),hours:0|a[0],minutes:0|a[1],seconds:0|a[2]}})),e.elemID="layui-laydate"+t.elem.attr("lay-key"),(t.show||i)&&e.render(),i||e.events(),t.value&&(t.value.constructor===Date?e.setValue(e.parse(0,e.systemDate(t.value))):e.setValue(t.value)))},v.prototype.render=function(){var e,t,n=this.config,i=this.lang(),a="static"===n.position,r=this.elem=y.elem("div",{id:this.elemID,class:["layui-laydate",n.range?" layui-laydate-range":"",a?" layui-laydate-static":"",n.theme&&"default"!==n.theme&&!/^#/.test(n.theme)?" laydate-theme-"+n.theme:""].join("")}),o=this.elemMain=[],s=this.elemHeader=[],l=this.elemCont=[],d=this.table=[],c=this.footer=y.elem("div",{class:"layui-laydate-footer"});if(n.zIndex&&(r.style.zIndex=n.zIndex),y.each(new Array(2),(function(e){if(!n.range&&e>0)return!0;var t=y.elem("div",{class:"layui-laydate-header"}),a=[function(){var e=y.elem("i",{class:"layui-icon laydate-icon laydate-prev-y"});return e.innerHTML="&#xe65a;",e}(),function(){var e=y.elem("i",{class:"layui-icon laydate-icon laydate-prev-m"});return e.innerHTML="&#xe603;",e}(),function(){var e=y.elem("div",{class:"laydate-set-ym"}),t=y.elem("span"),n=y.elem("span");return e.appendChild(t),e.appendChild(n),e}(),function(){var e=y.elem("i",{class:"layui-icon laydate-icon laydate-next-m"});return e.innerHTML="&#xe602;",e}(),function(){var e=y.elem("i",{class:"layui-icon laydate-icon laydate-next-y"});return e.innerHTML="&#xe65b;",e}()],r=y.elem("div",{class:"layui-laydate-content"}),c=y.elem("table"),u=y.elem("thead"),h=y.elem("tr");y.each(a,(function(e,n){t.appendChild(n)})),u.appendChild(h),y.each(new Array(6),(function(e){var t=c.insertRow(0);y.each(new Array(7),(function(n){if(0===e){var a=y.elem("th");a.innerHTML=i.weeks[n],h.appendChild(a)}t.insertCell(n)}))})),c.insertBefore(u,c.children[0]),r.appendChild(c),o[e]=y.elem("div",{class:"layui-laydate-main laydate-main-list-"+e}),o[e].appendChild(t),o[e].appendChild(r),s.push(a),l.push(r),d.push(c)})),y(c).html((e=[],t=[],"datetime"===n.type&&e.push('<span lay-type="datetime" class="laydate-btns-time">'+i.timeTips+"</span>"),y.each(n.btns,(function(e,r){var o=i.tools[r]||"btn";n.range&&"now"===r||(a&&"clear"===r&&(o="cn"===n.lang?"":"Reset"),t.push('<span lay-type="'+r+'" class="laydate-btns-'+r+'">'+o+"</span>"))})),e.push('<div class="laydate-footer-btns">'+t.join("")+"</div>"),e.join(""))),y.each(o,(function(e,t){r.appendChild(t)})),n.showBottom&&r.appendChild(c),/^#/.test(n.theme)){var u=y.elem("style"),h=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,this.elemID).replace(/{{theme}}/g,n.theme);"styleSheet"in u?(u.setAttribute("type","text/css"),u.styleSheet.cssText=h):u.innerHTML=h,y(r).addClass("laydate-theme-molv"),r.appendChild(u)}this.remove(v.thisElemDate),a?n.elem.append(r):(document.body.appendChild(r),this.position()),this.checkDate().calendar(),this.changeEvent(),v.thisElemDate=this.elemID,"function"==typeof n.ready&&n.ready(y.extend({},n.dateTime,{month:n.dateTime.month+1}))},v.prototype.remove=function(e){this.config;var t=y("#"+(e||this.elemID));return t.hasClass("layui-laydate-static")||this.checkDate((function(){t.remove()})),this},v.prototype.position=function(){var e=this.config,t=(this.bindElem||e.elem[0]).getBoundingClientRect(),n=this.elem.offsetWidth,i=this.elem.offsetHeight,a=function(e){return e=e?"scrollLeft":"scrollTop",document.body[e]|document.documentElement[e]},r=function(e){return document.documentElement[e?"clientWidth":"clientHeight"]},o=t.left,s=t.bottom;o+n+5>r("width")&&(o=r("width")-n-5),s+i+5>r()&&(s=t.top>i?t.top-i:r()-i,s-=10),e.position&&(this.elem.style.position=e.position),this.elem.style.left=o+("fixed"===e.position?0:a(1))+"px",this.elem.style.top=s+("fixed"===e.position?0:a())+"px"},v.prototype.hint=function(e){var t=this,n=(t.config,y.elem("div",{class:m}));n.innerHTML=e||"",y(t.elem).find("."+m).remove(),t.elem.appendChild(n),clearTimeout(t.hinTimer),t.hinTimer=setTimeout((function(){y(t.elem).find("."+m).remove()}),3e3)},v.prototype.getAsYM=function(e,t,n){return n?t--:t++,t<0&&(t=11,e--),t>11&&(t=0,e++),[e,t]},v.prototype.systemDate=function(e){var t=e||new Date;return{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:e?e.getHours():0,minutes:e?e.getMinutes():0,seconds:e?e.getSeconds():0}},v.prototype.checkDate=function(e){var t,n,i=this,a=(new Date,i.config),r=a.dateTime=a.dateTime||i.systemDate(),o=i.bindElem||a.elem[0],s=(i.isInput(o),i.isInput(o)?o.value:"static"===a.position?"":o.innerHTML),d=function(e){e.year>p[1]&&(e.year=p[1],n=!0),e.month>11&&(e.month=11,n=!0),e.hours>23&&(e.hours=0,n=!0),e.minutes>59&&(e.minutes=0,e.hours++,n=!0),e.seconds>59&&(e.seconds=0,e.minutes++,n=!0),t=l.getEndDate(e.month+1,e.year),e.date>t&&(e.date=t,n=!0)},c=function(e,t,r){var o=["startTime","endTime"];t=(t.match(i.EXP_SPLIT)||[]).slice(1),r=r||0,a.range&&(i[o[r]]=i[o[r]]||{}),y.each(i.format,(function(s,l){var d=parseFloat(t[s]);t[s].length<l.length&&(n=!0),/yyyy|y/.test(l)?(d<p[0]&&(d=p[0],n=!0),e.year=d):/MM|M/.test(l)?(d<1&&(d=1,n=!0),e.month=d-1):/dd|d/.test(l)?(d<1&&(d=1,n=!0),e.date=d):/HH|H/.test(l)?(d<1&&(d=0,n=!0),e.hours=d,a.range&&(i[o[r]].hours=d)):/mm|m/.test(l)?(d<1&&(d=0,n=!0),e.minutes=d,a.range&&(i[o[r]].minutes=d)):/ss|s/.test(l)&&(d<1&&(d=0,n=!0),e.seconds=d,a.range&&(i[o[r]].seconds=d))})),d(e)};return"limit"===e?(d(r),i):("string"==typeof(s=s||a.value)&&(s=s.replace(/\s+/g," ").replace(/^\s|\s$/g,"")),i.startState&&!i.endState&&(delete i.startState,i.endState=!0),"string"==typeof s&&s?i.EXP_IF.test(s)?a.range?(s=s.split(" "+a.range+" "),i.startDate=i.startDate||i.systemDate(),i.endDate=i.endDate||i.systemDate(),a.dateTime=y.extend({},i.startDate),y.each([i.startDate,i.endDate],(function(e,t){c(t,s[e],e)}))):c(r,s):(i.hint("<br><br>"+(a.range?a.format+" "+a.range+" "+a.format:a.format)+"<br>"),n=!0):s&&s.constructor===Date?a.dateTime=i.systemDate(s):(a.dateTime=i.systemDate(),delete i.startState,delete i.endState,delete i.startDate,delete i.endDate,delete i.startTime,delete i.endTime),d(r),n&&s&&i.setValue(a.range?i.endDate?i.parse():"":i.parse()),e&&e(),i)},v.prototype.mark=function(e,t){var n,i=this.config;return y.each(i.mark,(function(e,i){var a=e.split("-");a[0]!=t[0]&&0!=a[0]||a[1]!=t[1]&&0!=a[1]||a[2]!=t[2]||(n=i||t[2])})),n&&e.html('<span class="laydate-day-mark">'+n+"</span>"),this},v.prototype.limit=function(e,t,n,i){var a,r=this,o=r.config,s={},l=o[n>41?"endDate":"dateTime"],d=y.extend({},l,t||{});return y.each({now:d,min:o.min,max:o.max},(function(e,t){var n;s[e]=r.newDate(y.extend({year:t.year,month:t.month,date:t.date},(n={},y.each(i,(function(e,i){n[i]=t[i]})),n))).getTime()})),a=s.now<s.min||s.now>s.max,e&&e[a?"addClass":"removeClass"](u),a},v.prototype.calendar=function(e){var t,n,i,a=this,r=a.config,o=e||r.dateTime,s=new Date,d=a.lang(),u="date"!==r.type&&"datetime"!==r.type,h=e?1:0,f=y(a.table[h]).find("td"),m=y(a.elemHeader[h][2]).find("span");if(o.year<p[0]&&(o.year=p[0],a.hint(""+p[0]+"")),o.year>p[1]&&(o.year=p[1],a.hint(""+p[1]+"")),a.firstDate||(a.firstDate=y.extend({},o)),s.setFullYear(o.year,o.month,1),t=s.getDay(),n=l.getEndDate(o.month||12,o.year),i=l.getEndDate(o.month+1,o.year),y.each(f,(function(e,s){var l=[o.year,o.month],d=0;(s=y(s)).removeAttr("class"),e<t?(d=n-t+e,s.addClass("laydate-day-prev"),l=a.getAsYM(o.year,o.month,"sub")):e>=t&&e<i+t?(d=e-t,r.range||d+1===o.date&&s.addClass(c)):(d=e-i-t,s.addClass("laydate-day-next"),l=a.getAsYM(o.year,o.month)),l[1]++,l[2]=d+1,s.attr("lay-ymd",l.join("-")).html(l[2]),a.mark(s,l).limit(s,{year:l[0],month:l[1]-1,date:l[2]},e)})),y(m[0]).attr("lay-ym",o.year+"-"+(o.month+1)),y(m[1]).attr("lay-ym",o.year+"-"+(o.month+1)),"cn"===r.lang?(y(m[0]).attr("lay-type","year").html(o.year+""),y(m[1]).attr("lay-type","month").html(o.month+1+"")):(y(m[0]).attr("lay-type","month").html(d.month[o.month]),y(m[1]).attr("lay-type","year").html(o.year)),u&&(r.range&&(e?a.endDate=a.endDate||{year:o.year+("year"===r.type?1:0),month:o.month+("month"===r.type?0:-1)}:a.startDate=a.startDate||{year:o.year,month:o.month},e&&(a.listYM=[[a.startDate.year,a.startDate.month+1],[a.endDate.year,a.endDate.month+1]],a.list(r.type,0).list(r.type,1),"time"===r.type?a.setBtnStatus("",y.extend({},a.systemDate(),a.startTime),y.extend({},a.systemDate(),a.endTime)):a.setBtnStatus(!0))),r.range||(a.listYM=[[o.year,o.month+1]],a.list(r.type,0))),r.range&&!e){var v=a.getAsYM(o.year,o.month);a.calendar(y.extend({},o,{year:v[0],month:v[1]}))}return r.range||a.limit(y(a.footer).find(g),null,0,["hours","minutes","seconds"]),r.range&&e&&!u&&a.stampRange(),a},v.prototype.list=function(e,t){var n=this,i=n.config,a=i.dateTime,r=n.lang(),o=i.range&&"date"!==i.type&&"datetime"!==i.type,s=y.elem("ul",{class:f+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[e]}),l=n.elemHeader[t],d=y(l[2]).find("span"),h=n.elemCont[t||0],p=y(h).find("."+f)[0],m="cn"===i.lang,v=m?"":"",b=n.listYM[t]||{},w=["hours","minutes","seconds"],C=["startTime","endTime"][t];if(b[0]<1&&(b[0]=1),"year"===e){var _,x=_=b[0]-7;x<1&&(x=_=1),y.each(new Array(15),(function(e){var a=y.elem("li",{"lay-ym":_}),r={year:_};_==b[0]&&y(a).addClass(c),a.innerHTML=_+v,s.appendChild(a),_<n.firstDate.year?(r.month=i.min.month,r.date=i.min.date):_>=n.firstDate.year&&(r.month=i.max.month,r.date=i.max.date),n.limit(y(a),r,t),_++})),y(d[m?0:1]).attr("lay-ym",_-8+"-"+b[1]).html(x+v+" - "+(_-1+v))}else if("month"===e)y.each(new Array(12),(function(e){var a=y.elem("li",{"lay-ym":e}),o={year:b[0],month:e};e+1==b[1]&&y(a).addClass(c),a.innerHTML=r.month[e]+(m?"":""),s.appendChild(a),b[0]<n.firstDate.year?o.date=i.min.date:b[0]>=n.firstDate.year&&(o.date=i.max.date),n.limit(y(a),o,t)})),y(d[m?0:1]).attr("lay-ym",b[0]+"-"+b[1]).html(b[0]+v);else if("time"===e){var T=function(){y(s).find("ol").each((function(e,i){y(i).find("li").each((function(i,a){n.limit(y(a),[{hours:i},{hours:n[C].hours,minutes:i},{hours:n[C].hours,minutes:n[C].minutes,seconds:i}][e],t,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][e])}))})),i.range||n.limit(y(n.footer).find(g),n[C],0,["hours","minutes","seconds"])};i.range?n[C]||(n[C]={hours:0,minutes:0,seconds:0}):n[C]=a,y.each([24,60,60],(function(e,t){var i=y.elem("li"),a=["<p>"+r.time[e]+"</p><ol>"];y.each(new Array(t),(function(t){a.push("<li"+(n[C][w[e]]===t?' class="'+c+'"':"")+">"+y.digit(t,2)+"</li>")})),i.innerHTML=a.join("")+"</ol>",s.appendChild(i)})),T()}if(p&&h.removeChild(p),h.appendChild(s),"year"===e||"month"===e)y(n.elemMain[t]).addClass("laydate-ym-show"),y(s).find("li").on("click",(function(){var r=0|y(this).attr("lay-ym");if(!y(this).hasClass(u)){if(0===t)a[e]=r,o&&(n.startDate[e]=r),n.limit(y(n.footer).find(g),null,0);else if(o)n.endDate[e]=r;else{var l="year"===e?n.getAsYM(r,b[1]-1,"sub"):n.getAsYM(b[0],r,"sub");y.extend(a,{year:l[0],month:l[1]})}"year"===i.type||"month"===i.type?(y(s).find("."+c).removeClass(c),y(this).addClass(c),"month"===i.type&&"year"===e&&(n.listYM[t][0]=r,o&&(n[["startDate","endDate"][t]].year=r),n.list("month",t))):(n.checkDate("limit").calendar(),n.closeList()),n.setBtnStatus(),i.range||n.done(null,"change"),y(n.footer).find(".laydate-btns-time").removeClass(u)}}));else{var S=y.elem("span",{class:"laydate-time-text"}),k=function(){y(s).find("ol").each((function(e){var t=this,i=y(t).find("li");t.scrollTop=30*(n[C][w[e]]-2),t.scrollTop<=0&&i.each((function(e,n){if(!y(this).hasClass(u))return t.scrollTop=30*(e-2),!0}))}))},E=y(l[2]).find(".laydate-time-text");k(),S.innerHTML=i.range?[r.startTime,r.endTime][t]:r.timeTips,y(n.elemMain[t]).addClass("laydate-time-show"),E[0]&&E.remove(),l[2].appendChild(S),y(s).find("ol").each((function(e){var t=this;y(t).find("li").on("click",(function(){var r=0|this.innerHTML;y(this).hasClass(u)||(i.range?n[C][w[e]]=r:a[w[e]]=r,y(t).find("."+c).removeClass(c),y(this).addClass(c),T(),k(),(n.endDate||"time"===i.type)&&n.done(null,"change"),n.setBtnStatus())}))}))}return n},v.prototype.listYM=[],v.prototype.closeList=function(){var e=this;e.config;y.each(e.elemCont,(function(t,n){y(this).find("."+f).remove(),y(e.elemMain[t]).removeClass("laydate-ym-show laydate-time-show")})),y(e.elem).find(".laydate-time-text").remove()},v.prototype.setBtnStatus=function(e,t,n){var i,a=this.config,r=y(this.footer).find(g);a.range&&"date"!==a.type&&"time"!==a.type&&(t=t||this.startDate,n=n||this.endDate,i=this.newDate(t).getTime()>this.newDate(n).getTime(),this.limit(null,t)||this.limit(null,n)?r.addClass(u):r[i?"addClass":"removeClass"](u),e&&i&&this.hint("string"==typeof e?h.replace(//g,e):h))},v.prototype.parse=function(e,t){var n=this.config,i=t||(e?y.extend({},this.endDate,this.endTime):n.range?y.extend({},this.startDate,this.startTime):n.dateTime),a=this.format.concat();return y.each(a,(function(e,t){/yyyy|y/.test(t)?a[e]=y.digit(i.year,t.length):/MM|M/.test(t)?a[e]=y.digit(i.month+1,t.length):/dd|d/.test(t)?a[e]=y.digit(i.date,t.length):/HH|H/.test(t)?a[e]=y.digit(i.hours,t.length):/mm|m/.test(t)?a[e]=y.digit(i.minutes,t.length):/ss|s/.test(t)&&(a[e]=y.digit(i.seconds,t.length))})),n.range&&!e?a.join("")+" "+n.range+" "+this.parse(1):a.join("")},v.prototype.newDate=function(e){return e=e||{},new Date(e.year||1,e.month||0,e.date||1,e.hours||0,e.minutes||0,e.seconds||0)},v.prototype.setValue=function(e){var t=this.config,n=this.bindElem||t.elem[0],i=this.isInput(n)?"val":"html";return"static"===t.position||y(n)[i](e||""),this},v.prototype.stampRange=function(){var e,t,n=this,i=n.config,a=y(n.elem).find("td");if(i.range&&!n.endDate&&y(n.footer).find(g).addClass(u),n.endDate){if(e=n.newDate({year:n.startDate.year,month:n.startDate.month,date:n.startDate.date}).getTime(),t=n.newDate({year:n.endDate.year,month:n.endDate.month,date:n.endDate.date}).getTime(),e>t)return n.hint(h);y.each(a,(function(i,a){var r=y(a).attr("lay-ymd").split("-"),o=n.newDate({year:r[0],month:r[1]-1,date:r[2]}).getTime();y(a).removeClass("laydate-selected "+c),o!==e&&o!==t||y(a).addClass(y(a).hasClass("laydate-day-prev")||y(a).hasClass("laydate-day-next")?"laydate-selected":c),o>e&&o<t&&y(a).addClass("laydate-selected")}))}},v.prototype.done=function(e,t){var n=this.config,i=y.extend({},this.startDate?y.extend(this.startDate,this.startTime):n.dateTime),a=y.extend({},y.extend(this.endDate,this.endTime));return y.each([i,a],(function(e,t){"month"in t&&y.extend(t,{month:t.month+1})})),e=e||[this.parse(),i,a],"function"==typeof n[t||"done"]&&n[t||"done"].apply(n,e),this},v.prototype.choose=function(e){var t=this,n=t.config,i=n.dateTime,a=y(t.elem).find("td"),r=e.attr("lay-ymd").split("-"),o=function(e){new Date;e&&y.extend(i,r),n.range&&(t.startDate?y.extend(t.startDate,r):t.startDate=y.extend({},r,t.startTime),t.startYMD=r)};if(r={year:0|r[0],month:(0|r[1])-1,date:0|r[2]},!e.hasClass(u))if(n.range){if(y.each(["startTime","endTime"],(function(e,n){t[n]=t[n]||{hours:0,minutes:0,seconds:0}})),t.endState)o(),delete t.endState,delete t.endDate,t.startState=!0,a.removeClass(c+" laydate-selected"),e.addClass(c);else if(t.startState){if(e.addClass(c),t.endDate?y.extend(t.endDate,r):t.endDate=y.extend({},r,t.endTime),t.newDate(r).getTime()<t.newDate(t.startYMD).getTime()){var s=y.extend({},t.endDate,{hours:t.startDate.hours,minutes:t.startDate.minutes,seconds:t.startDate.seconds});y.extend(t.endDate,t.startDate,{hours:t.endDate.hours,minutes:t.endDate.minutes,seconds:t.endDate.seconds}),t.startDate=s}n.showBottom||t.done(),t.stampRange(),t.endState=!0,t.done(null,"change")}else e.addClass(c),o(),t.startState=!0;y(t.footer).find(g)[t.endDate?"removeClass":"addClass"](u)}else"static"===n.position?(o(!0),t.calendar().done().done(null,"change")):"date"===n.type?(o(!0),t.setValue(t.parse()).remove().done()):"datetime"===n.type&&(o(!0),t.calendar().done(null,"change"))},v.prototype.tool=function(e,t){var n=this,i=n.config,a=i.dateTime,r="static"===i.position,o={datetime:function(){y(e).hasClass(u)||(n.list("time",0),i.range&&n.list("time",1),y(e).attr("lay-type","date").html(n.lang().dateTips))},date:function(){n.closeList(),y(e).attr("lay-type","datetime").html(n.lang().timeTips)},clear:function(){n.setValue("").remove(),r&&(y.extend(a,n.firstDate),n.calendar()),i.range&&(delete n.startState,delete n.endState,delete n.endDate,delete n.startTime,delete n.endTime),n.done(["",{},{}])},now:function(){var e=new Date;y.extend(a,n.systemDate(),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),n.setValue(n.parse()).remove(),r&&n.calendar(),n.done()},confirm:function(){if(i.range){if(!n.endDate)return n.hint("");if(y(e).hasClass(u))return n.hint("time"===i.type?h.replace(//g,""):h)}else if(y(e).hasClass(u))return n.hint("");n.done(),n.setValue(n.parse()).remove()}};o[t]&&o[t]()},v.prototype.change=function(e){var t=this,n=t.config,i=n.dateTime,a=n.range&&("year"===n.type||"month"===n.type),r=t.elemCont[e||0],o=t.listYM[e],s=function(s){var l=["startDate","endDate"][e],d=y(r).find(".laydate-year-list")[0],c=y(r).find(".laydate-month-list")[0];return d&&(o[0]=s?o[0]-15:o[0]+15,t.list("year",e)),c&&(s?o[0]--:o[0]++,t.list("month",e)),(d||c)&&(y.extend(i,{year:o[0]}),a&&(t[l].year=o[0]),n.range||t.done(null,"change"),t.setBtnStatus(),n.range||t.limit(y(t.footer).find(g),{year:o[0]})),d||c};return{prevYear:function(){s("sub")||(i.year--,t.checkDate("limit").calendar(),n.range||t.done(null,"change"))},prevMonth:function(){var e=t.getAsYM(i.year,i.month,"sub");y.extend(i,{year:e[0],month:e[1]}),t.checkDate("limit").calendar(),n.range||t.done(null,"change")},nextMonth:function(){var e=t.getAsYM(i.year,i.month);y.extend(i,{year:e[0],month:e[1]}),t.checkDate("limit").calendar(),n.range||t.done(null,"change")},nextYear:function(){s()||(i.year++,t.checkDate("limit").calendar(),n.range||t.done(null,"change"))}}},v.prototype.changeEvent=function(){var e=this;e.config;y(e.elem).on("click",(function(e){y.stope(e)})),y.each(e.elemHeader,(function(t,n){y(n[0]).on("click",(function(n){e.change(t).prevYear()})),y(n[1]).on("click",(function(n){e.change(t).prevMonth()})),y(n[2]).find("span").on("click",(function(n){var i=y(this),a=i.attr("lay-ym"),r=i.attr("lay-type");a&&(a=a.split("-"),e.listYM[t]=[0|a[0],0|a[1]],e.list(r,t),y(e.footer).find(".laydate-btns-time").addClass(u))})),y(n[3]).on("click",(function(n){e.change(t).nextMonth()})),y(n[4]).on("click",(function(n){e.change(t).nextYear()}))})),y.each(e.table,(function(t,n){y(n).find("td").on("click",(function(){e.choose(y(this))}))})),y(e.footer).find("span").on("click",(function(){var t=y(this).attr("lay-type");e.tool(this,t)}))},v.prototype.isInput=function(e){return/input|textarea/.test(e.tagName.toLocaleLowerCase())},v.prototype.events=function(){var e=this,t=e.config,n=function(n,i){n.on(t.trigger,(function(){i&&(e.bindElem=this),e.render()}))};t.elem[0]&&!t.elem[0].eventHandler&&(n(t.elem,"bind"),n(t.eventElem),y(document).on("click",(function(n){n.target!==t.elem[0]&&n.target!==t.eventElem[0]&&n.target!==y(t.closeStop)[0]&&e.remove()})).on("keydown",(function(t){13===t.keyCode&&y("#"+e.elemID)[0]&&e.elemID===v.thisElem&&(t.preventDefault(),y(e.footer).find(g)[0].click())})),y(window).on("resize",(function(){if(!e.elem||!y(".layui-laydate")[0])return!1;e.position()})),t.elem[0].eventHandler=!0)},l.render=function(e){var t=new v(e);return d.call(t)},l.getEndDate=function(e,t){var n=new Date;return n.setFullYear(t||n.getFullYear(),e||n.getMonth()+1,1),new Date(n.getTime()-864e5).getDate()},window.lay=window.lay||y,o?(l.ready(),layui.define((function(e){l.path=layui.cache.dir,e("laydate",l)}))):void 0===(i=function(){return window.laydate=l,l}.call(t,n,t,e))||(e.exports=i)}()},function(e,t){!function(e,t){jQuery.fn.divSlide=function(e){var n=t(this),i=0,a=0,r=0,o=0,s={type:"Horizontal",content:t(".lkyw-filter-lists",n),arrow:t(".lkyw-arrow")},l=t.extend({},s,e),d={init:function(){0==rate?l.arrow.addClass("hide"):rate>0&&l.arrow.eq(0).addClass("hide")},slide:function(){a="vertical"==l.type?n.height():n.width(),o="vertical"==l.type?l.content.height():l.content.width();var e=Math.floor(o/a),s=o%a,c=t(this).data("value");"left"!=c&&"up"!=c||(i>0?i--:i=0),"right"!=c&&"down"!=c||(i<e?i++:i=e),r=i<e?i*a:(i-1)*a+s,(i>0||i<e)&&d._cssObj(l.content,r)},_cssObj:function(e,t){"Horizontal"==l.type?e.css({"-webkit-transform":"translateX(-"+t+"px)",transform:"translateX(-"+t+"px)","-webkit-transition":"translateX(-"+t+"px)",transition:"transform .3s"}):"vertical"==l.type&&e.css({"-webkit-transform":"translateY(-"+t+"px)",transform:"translateY(-"+t+"px)","-webkit-transition":"translateY(-"+t+"px)",transition:"transform .3s"})}};t((function(){l.arrow.on("click",d.slide)}))}}(window,$)},function(module,exports){!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),data.nodeChildren(e,t,[]),t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,(function(t,n,i){tools.apply(e.callback.onNodeCreated,[t,n,i])})),t.bind(n.CLICK,(function(t,n,i,a,r){tools.apply(e.callback.onClick,[n,i,a,r])})),t.bind(n.EXPAND,(function(t,n,i){tools.apply(e.callback.onExpand,[t,n,i])})),t.bind(n.COLLAPSE,(function(t,n,i){tools.apply(e.callback.onCollapse,[t,n,i])})),t.bind(n.ASYNC_SUCCESS,(function(t,n,i,a){tools.apply(e.callback.onAsyncSuccess,[t,n,i,a])})),t.bind(n.ASYNC_ERROR,(function(t,n,i,a,r,o){tools.apply(e.callback.onAsyncError,[t,n,i,a,r,o])})),t.bind(n.REMOVE,(function(t,n,i){tools.apply(e.callback.onRemove,[t,n,i])})),t.bind(n.SELECTED,(function(t,n,i){tools.apply(e.callback.onSelected,[n,i])})),t.bind(n.UNSELECTED,(function(t,n,i){tools.apply(e.callback.onUnSelected,[n,i])}))},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),i="",a=null,r="",o="",s=null,l=null,d=null;if(tools.eqs(e.type,"mousedown")?o="mousedown":tools.eqs(e.type,"mouseup")?o="mouseup":tools.eqs(e.type,"contextmenu")?o="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(i=tools.getNodeMainDom(t).id,r="switchNode"):(d=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(d).id,r="clickNode"):tools.eqs(e.type,"dblclick")&&(o="dblclick",(d=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(d).id,r="switchNode")),o.length>0&&0==i.length&&(d=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(i=tools.getNodeMainDom(d).id),i.length>0)switch(a=data.getNodeCache(n,i),r){case"switchNode":data.nodeIsParent(n,a)&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,a],n.view.dblClickExpand))?s=handler.onSwitchNode:r="";break;case"clickNode":s=handler.onClickNode}switch(o){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}return{stop:!1,node:a,nodeEventType:r,nodeEventCallback:s,treeEventType:o,treeEventCallback:l}},_initNode=function(e,t,n,i,a,r,o){if(n){var s=data.getRoot(e),l=data.nodeChildren(e,n);n.level=t,n.tId=e.treeId+"_"+ ++s.zId,n.parentTId=i?i.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;var d=data.nodeIsParent(e,n);tools.isArray(l)&&!(!1===d||"string"==typeof d&&tools.eqs(d,"false"))?(data.nodeIsParent(e,n,!0),n.zAsync=!0):(d=data.nodeIsParent(e,n,!!d),n.open=!(!d||e.async.enable)&&n.open,n.zAsync=!d),n.isFirstNode=a,n.isLastNode=r,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,i){var a,r=data.nodeChildren(e,t);r?n>=r.length&&(n=-1):(r=data.nodeChildren(e,t,[]),n=-1),r.length>0&&0===n?(r[0].isFirstNode=!1,view.setNodeLineIcos(e,r[0])):r.length>0&&n<0&&(r[r.length-1].isLastNode=!1,view.setNodeLineIcos(e,r[r.length-1])),data.nodeIsParent(e,t,!0),n<0?data.nodeChildren(e,t,r.concat(i)):(a=[n,0].concat(i),r.splice.apply(r,a))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&data.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var i=0,a=_init.afterA.length;i<a;i++)_init.afterA[i].apply(this,arguments)},getBeforeA:function(e,t,n){for(var i=0,a=_init.beforeA.length;i<a;i++)_init.beforeA[i].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var i=0,a=_init.innerAfterA.length;i<a;i++)_init.innerAfterA[i].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var i=0,a=_init.innerBeforeA.length;i<a;i++)_init.innerBeforeA[i].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length-1;a<=r;a++)if(i[a]===t)return a;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length-1;a<=r;a++)if(i[a]===t)return a==r?null:i[a+1];return null},getNodeByParam:function(e,t,n,i){if(!t||!n)return null;for(var a=0,r=t.length;a<r;a++){var o=t[a];if(o[n]==i)return t[a];var s=data.nodeChildren(e,o),l=data.getNodeByParam(e,s,n,i);if(l)return l}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getNodePath:function(e,t){return t?((n=t.parentTId?t.getParentNode().getPath():[])&&n.push(t),n):null;var n},getNodes:function(e){return data.nodeChildren(e,data.getRoot(e))},getNodesByParam:function(e,t,n,i){if(!t||!n)return[];for(var a=[],r=0,o=t.length;r<o;r++){var s=t[r];s[n]==i&&a.push(s);var l=data.nodeChildren(e,s);a=a.concat(data.getNodesByParam(e,l,n,i))}return a},getNodesByParamFuzzy:function(e,t,n,i){if(!t||!n)return[];var a=[];i=i.toLowerCase();for(var r=0,o=t.length;r<o;r++){var s=t[r];"string"==typeof s[n]&&t[r][n].toLowerCase().indexOf(i)>-1&&a.push(s);var l=data.nodeChildren(e,s);a=a.concat(data.getNodesByParamFuzzy(e,l,n,i))}return a},getNodesByFilter:function(e,t,n,i,a){if(!t)return i?null:[];for(var r=i?null:[],o=0,s=t.length;o<s;o++){var l=t[o];if(tools.apply(n,[l,a],!1)){if(i)return l;r.push(l)}var d=data.nodeChildren(e,l),c=data.getNodesByFilter(e,d,n,i,a);if(i&&c)return c;r=i?c:r.concat(c)}return r},getPreNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),i=data.nodeChildren(e,n),a=0,r=i.length;a<r;a++)if(i[a]===t)return 0==a?null:i[a-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,i,a,r){for(var o=0,s=_init.nodes.length;o<s;o++)_init.nodes[o].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)if(t===n.curSelectedList[i])return!0;return!1},nodeChildren:function(e,t,n){if(!t)return null;var i=e.data.key.children;return void 0!==n&&(t[i]=n),t[i]},nodeIsParent:function(e,t,n){if(!t)return!1;var i=e.data.key.isParent;return void 0!==n&&("string"==typeof n&&(n=tools.eqs(n,"true")),n=!!n,t[i]=n),t[i]},nodeName:function(e,t,n){var i=e.data.key.name;return void 0!==n&&(t[i]=n),""+t[i]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(e,t){var n=data.nodeChildren(e,t);if(n)for(var i=0,a=n.length;i<a;i++)data.removeNodeCache(e,n[i]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),i=0,a=n.curSelectedList.length;i<a;i++)t!==n.curSelectedList[i]&&data.getNodeCache(e,n.curSelectedList[i].tId)||(n.curSelectedList.splice(i,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),i--,a--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,i=_init.zTreeTools.length;n<i;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var n=[];if(tools.isArray(t))for(var i=0,a=t.length;i<a;i++){r(t[i])}else r(t);return n;function r(t){n.push(t);var i=data.nodeChildren(e,t);i&&(n=n.concat(data.transformToArrayFormat(e,i)))}},transformTozTreeFormat:function(e,t){var n,i,a=e.data.simpleData.idKey,r=e.data.simpleData.pIdKey;if(!a||""==a||!t)return[];if(tools.isArray(t)){var o=[],s={};for(n=0,i=t.length;n<i;n++)s[t[n][a]]=t[n];for(n=0,i=t.length;n<i;n++){var l=s[t[n][r]];if(l&&t[n][a]!=t[n][r]){var d=data.nodeChildren(e,l);d||(d=data.nodeChildren(e,l,[])),d.push(t[n])}else o.push(t[n])}return o}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,i=_init.proxys.length;n<i;n++){var a=_init.proxys[n].apply(this,arguments);if(t.push(a),a.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),i=!0,a=0,r=n.length;a<r;a++){var o=n[a];o.nodeEventCallback&&(!0,i=o.nodeEventCallback.apply(o,[e,o.node])&&i),o.treeEventCallback&&(!0,i=o.treeEventCallback.apply(o,[e,o.node])&&i)}return i}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),i=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,i],!0)||(0===i?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===i),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,i])),!0},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=data.nodeChildren(e,t),i=data.nodeIsParent(e,t);return e.async.enable&&t&&i&&!(t.zAsync||n&&n.length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var i=0,a=n.length;t.tagName&&i<a;i++)if(tools.eqs(t.tagName,n[i].tagName)&&null!==t.getAttribute(n[i].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,i,a){var r=data.nodeIsParent(e,t);if(!e.data.keep.leaf||!t||r)if(tools.isArray(i)||(i=[i]),e.data.simpleData.enable&&(i=data.transformTozTreeFormat(e,i)),t){var o=$$(t,consts.id.SWITCH,e),s=$$(t,consts.id.ICON,e),l=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,o,consts.folder.CLOSE),view.replaceIcoClass(t,s,consts.folder.CLOSE),t.open=!1,l.css({display:"none"})),data.addNodesData(e,t,n,i),view.createNodes(e,t.level+1,i,t,n),a||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,i),view.createNodes(e,0,i,null,n)},appendNodes:function(e,t,n,i,a,r,o){if(!n)return[];var s,l,d=[],c=i||data.getRoot(e),u=data.nodeChildren(e,c);(!u||a>=u.length-n.length)&&(a=-1);for(var h=0,p=n.length;h<p;h++){var f=n[h];r&&(s=(0===a||u.length==n.length)&&0==h,l=a<0&&h==n.length-1,data.initNode(e,t,f,i,s,l,o),data.addNodeCache(e,f));var m=data.nodeIsParent(e,f),g=[],v=data.nodeChildren(e,f);v&&v.length>0&&(g=view.appendNodes(e,t+1,v,f,-1,r,o&&f.open)),o&&(view.makeDOMNodeMainBefore(d,e,f),view.makeDOMNodeLine(d,e,f),data.getBeforeA(e,f,d),view.makeDOMNodeNameBefore(d,e,f),data.getInnerBeforeA(e,f,d),view.makeDOMNodeIcon(d,e,f),data.getInnerAfterA(e,f,d),view.makeDOMNodeNameAfter(d,e,f),data.getAfterA(e,f,d),m&&f.open&&view.makeUlHtml(e,f,d,g.join("")),view.makeDOMNodeMainAfter(d,e,f),data.addCreatedNode(e,f))}return d},appendParentULDom:function(e,t){var n=[],i=$$(t,e);!i.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),i=$$(t,e));var a=$$(t,consts.id.UL,e);a.get(0)&&a.remove();var r=data.nodeChildren(e,t),o=view.appendNodes(e,t.level+1,r,t,-1,!1,!0);view.makeUlHtml(e,t,n,o.join("")),i.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,isParent=data.nodeIsParent(setting,node);if(node&&!isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={},autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam))for(i=0,l=otherParam.length;i<l;i+=2)tmpParam[otherParam[i]]=otherParam[i+1];else for(var p in otherParam)tmpParam[p]=otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,complete:function(e){e.responseText.indexOf('<form id="loginForm')>0&&window.location.replace("/clbs/login?type=expired")},success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var i,a,r=data.getRoot(e).curSelectedList;for(i=r.length-1;i>=0;i--)if(t===(a=r[i])||!t&&(!n||n!==a)){if($$(a,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}r.splice(i,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,a])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,i,a){if(n&&0!=n.length){var r=data.getRoot(e),o=!i||i.open||!!$$(data.nodeChildren(e,i)[0],e).get(0);r.createdNodes=[];var s,l,d=view.appendNodes(e,t,n,i,a,!0,o);if(i){var c=$$(i,consts.id.UL,e);c.get(0)&&(s=c)}else s=e.treeObj;s&&(a>=0&&(l=s.children()[a]),a>=0&&l?$(l).before(d.join("")):s.append(d.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,i,a){var r,o=data.getRoot(e);if(t){var s=data.nodeChildren(e,t),l=data.nodeIsParent(e,t);if(o.expandTriggerFlag&&(r=a,a=function(){r&&r(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o.expandTriggerFlag=!1),!t.open&&l&&(!$$(t,consts.id.UL,e).get(0)||s&&s.length>0&&!$$(s[0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open!=n){var d=$$(t,consts.id.UL,e),c=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e);l?(t.open=!t.open,t.iconOpen&&t.iconClose&&u.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,c,consts.folder.OPEN),view.replaceIcoClass(t,u,consts.folder.OPEN),0==i||""==e.view.expandSpeed?(d.show(),tools.apply(a,[])):s&&s.length>0?d.slideDown(e.view.expandSpeed,a):(d.show(),tools.apply(a,[]))):(view.replaceSwitchClass(t,c,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),0!=i&&""!=e.view.expandSpeed&&s&&s.length>0?d.slideUp(e.view.expandSpeed,a):(d.hide(),tools.apply(a,[])))):tools.apply(a,[])}else tools.apply(a,[])}else tools.apply(a,[])},expandCollapseParentNode:function(e,t,n,i,a){t&&(t.parentTId?(view.expandCollapseNode(e,t,n,i),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,i,a)):view.expandCollapseNode(e,t,n,i,a))},expandCollapseSonNode:function(e,t,n,i,a){var r=data.getRoot(e),o=t?data.nodeChildren(e,t):data.nodeChildren(e,r),s=!t&&i,l=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,o)for(var d=0,c=o.length;d<c;d++)o[d]&&view.expandCollapseSonNode(e,o[d],n,s);data.getRoot(e).expandTriggerFlag=l,view.expandCollapseNode(e,t,n,i,a)},isSelectedNode:function(e,t){if(!t)return!1;var n,i=data.getRoot(e).curSelectedList;for(n=i.length-1;n>=0;n--)if(t===i[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var i=data.nodeName(t,n),a=t.view.nameIsHTML?i:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",a,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var i=data.nodeTitle(t,n),a=view.makeNodeUrl(t,n),r=view.makeNodeFontCss(t,n),o=[];for(var s in r)o.push(s,":",r[s],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,"' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",view.makeNodeTarget(n),"' style='",o.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&i&&e.push("title='",i.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeIcoClass:function(e,t){var n=["ico"];if(!t.isAjaxing){var i=data.nodeIsParent(e,t);n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],i?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var i=data.nodeIsParent(e,t)&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];i&&n.push("background:url(",i,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),data.nodeIsParent(e,t)?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,i){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(i),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=data.nodeChildren(e,t);if(n){for(var i=0,a=n.length;i<a;i++)data.removeNodeCache(e,n[i]);if(data.removeSelectedNode(e),delete t[e.data.key.children],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{data.nodeIsParent(e,t,!1),t.open=!1;var r=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,r,consts.folder.DOCU),view.replaceIcoClass(t,o,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e,t){var n=window.navigator.userAgent.toLowerCase(),i=n.indexOf("firefox"),a=n.indexOf("msie");if(!(i>-1)&&!(a>-1)&&t)if("undefined"!=typeof Element)Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){"use strict";function t(e,t){return{start:e,length:t,end:e+t}}function n(t,n){return!1===e||n.start<t.end&&t.start<n.end?Math.max(t.end-n.length,Math.min(n.start,t.start)):(t.start+t.end-n.length)/2}function i(e,t){return{x:e,y:t,translate:function(n,a){return i(e+n,t+a)}}}function a(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var r,o=a(this,i(0,0)),s=i(this.offsetWidth,this.offsetHeight),l=this.parentNode;l instanceof HTMLElement;)r=a(l,i(l.clientLeft,l.clientTop)),l.scrollLeft=n(t(o.x-r.x,s.x),t(l.scrollLeft,l.clientWidth)),l.scrollTop=n(t(o.y-r.y,s.y),t(l.scrollTop,l.clientHeight)),o=o.translate(-l.scrollLeft,-l.scrollTop),l=l.parentNode}),t.scrollIntoViewIfNeeded();else{var r=e.treeObj.get(0).getBoundingClientRect(),o=t.getBoundingClientRect();(o.top<r.top||o.bottom>r.bottom||o.right>r.right||o.left<r.left)&&t.scrollIntoView()}},setFirstNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[0].isFirstNode=!0)},setLastNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[n.length-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),i=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var a=data.nodeChildren(e,i),r=0,o=a.length;r<o;r++)if(a[r].tId==t.tId){a.splice(r,1);break}view.setFirstNode(e,i),view.setLastNode(e,i);var s,l,d,c=a.length;if(e.data.keep.parent||0!=c){if(e.view.showLine&&c>0){var u=a[c-1];if(s=$$(u,consts.id.UL,e),l=$$(u,consts.id.SWITCH,e),d=$$(u,consts.id.ICON,e),i==n)if(1==a.length)view.replaceSwitchClass(u,l,consts.line.ROOT);else{var h=$$(a[0],consts.id.SWITCH,e);view.replaceSwitchClass(a[0],h,consts.line.ROOTS),view.replaceSwitchClass(u,l,consts.line.BOTTOM)}else view.replaceSwitchClass(u,l,consts.line.BOTTOM);s.removeClass(consts.line.LINE)}}else data.nodeIsParent(e,i,!1),i.open=!1,delete i[e.data.key.children],s=$$(i,consts.id.UL,e),l=$$(i,consts.id.SWITCH,e),d=$$(i,consts.id.ICON,e),view.replaceSwitchClass(i,l,consts.folder.DOCU),view.replaceIcoClass(i,d,consts.folder.DOCU),s.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var i=t.attr("class");if(null!=i){var a=i.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[a.length-1]=n}t.attr("class",a.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var i=t.attr("class");if(null!=i){var a=i.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:a[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:a[1]=n}t.attr("class",a.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),i=view.makeNodeFontCss(e,t);i&&n.css(i)},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),i=$$(t,consts.id.UL,e),a=$$(t,consts.id.ICON,e),r=view.makeUlLineClass(e,t);0==r.length?i.removeClass(consts.line.LINE):i.addClass(r),n.attr("class",view.makeNodeLineClass(e,t)),data.nodeIsParent(e,t)?n.removeAttr("disabled"):n.attr("disabled","disabled"),a.removeAttr("style"),a.attr("style",view.makeNodeIcoStyle(e,t)),a.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.nodeTitle(e,t),i=$$(t,consts.id.SPAN,e);(i.empty(),e.view.nameIsHTML?i.html(data.nodeName(e,t)):i.text(data.nodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle))&&$$(t,consts.id.A,e).attr("title",n||"")},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),i=view.makeNodeUrl(e,t);null==i||0==i.length?n.removeAttr("href"):n.attr("href",i)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var i=tools.clone(_setting);$.extend(!0,i,t),i.treeId=e.attr("id"),i.treeObj=e,i.treeObj.empty(),settings[i.treeId]=i,void 0===document.body.style.maxHeight&&(i.view.expandSpeed=""),data.initRoot(i);var a=data.getRoot(i);n=n?tools.clone(tools.isArray(n)?n:[n]):[],i.data.simpleData.enable?data.nodeChildren(i,a,data.transformTozTreeFormat(i,n)):data.nodeChildren(i,a,n),data.initCache(i),event.unbindTree(i),event.bindTree(i),event.unbindEvent(i),event.bindEvent(i);var r={setting:i,addNodes:function(e,t,n,a){e||(e=null);var r=data.nodeIsParent(i,e);if(e&&!r&&i.data.keep.leaf)return null;var o=parseInt(t,10);if(isNaN(o)?(a=!!n,n=t,t=-1):t=o,!n)return null;var s=tools.clone(tools.isArray(n)?n:[n]);function l(){view.addNodes(i,e,t,s,1==a)}return tools.canAsync(i,e)?view.asyncNode(i,e,a,l):l(),s},cancelSelectedNode:function(e){view.cancelPreSelectedNode(i,e)},destroy:function(){view.destroy(i)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(i,null,e,!0),e},expandNode:function(e,t,n,a,r){return e&&data.nodeIsParent(i,e)?(!0!==t&&!1!==t&&(t=!e.open),(r=!!r)&&t&&0==tools.apply(i.callback.beforeExpand,[i.treeId,e],!0)||r&&!t&&0==tools.apply(i.callback.beforeCollapse,[i.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(i,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(i).expandTriggerFlag=r,!tools.canAsync(i,e)&&n?view.expandCollapseSonNode(i,e,t,!0,o):(e.open=!t,view.switchNode(this.setting,e),o()),t):null)):null;function o(){var t=$$(e,i).get(0);t&&!1!==a&&view.scrollIntoView(i,t)}},getNodes:function(){return data.getNodes(i)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodeByTId:function(e){return data.getNodeCache(i,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t):null},getNodesByFilter:function(e,t,n,a){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(i,n?data.nodeChildren(i,n):data.getNodes(i),e,t,a):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=e.parentTId?e.getParentNode():data.getRoot(i),n=data.nodeChildren(i,t),a=0,r=n.length;a<r;a++)if(n[a]==e)return a;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(i).curSelectedList,n=0,a=t.length;n<a;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(i,e)},reAsyncChildNodesPromise:function(e,t,n){return new Promise((function(i,a){try{r.reAsyncChildNodes(e,t,n,(function(){i(e)}))}catch(e){a(e)}}))},reAsyncChildNodes:function(e,t,n,a){if(this.setting.async.enable){var r=!e;if(r&&(e=data.getRoot(i)),"refresh"==t){for(var o=data.nodeChildren(i,e),s=0,l=o?o.length:0;s<l;s++)data.removeNodeCache(i,o[s]);if(data.removeSelectedNode(i),data.nodeChildren(i,e,[]),r)this.setting.treeObj.empty();else $$(e,consts.id.UL,i).empty()}view.asyncNode(this.setting,r?null:e,!!n,a)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(i),t=data.nodeChildren(i,e);data.initRoot(i),data.nodeChildren(i,e,t),data.initCache(i),view.createNodes(i,0,data.nodeChildren(i,e),null,-1)},removeChildNodes:function(e){if(!e)return null;var t=data.nodeChildren(i,e);return view.removeChildNodes(i,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(i.callback.beforeRemove,[i.treeId,e],!0)||(view.removeNode(i,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[i.treeId,e])))},selectNode:function(e,t,n){if(e&&tools.uCanDo(i)){if(t=i.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(i,e.getParentNode(),!0,!1,(function(){if(n)return;var t=$$(e,i).get(0);view.scrollIntoView(i,t)}));else if(!n)try{$$(e,i).focus().blur()}catch(e){}view.selectNode(i,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(i,e)},transformToArray:function(e){return data.transformToArrayFormat(i,e)},updateNode:function(e,t){e&&($$(e,i).get(0)&&tools.uCanDo(i)&&(view.setNodeName(i,e),view.setNodeTarget(i,e),view.setNodeUrl(i,e),view.setNodeLineIcos(i,e),view.setNodeFontCss(i,e)))}};a.treeTools=r,data.setZTreeTools(i,r);var o=data.nodeChildren(i,a);return o&&o.length>0?view.createNodes(i,0,o,null,-1):i.async.enable&&i.async.url&&""!==i.async.url&&view.asyncNode(i),r}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery)},function(e,t){!function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},i={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=d.getSetting(e.data.treeId);if(0==o.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;var i=d.nodeChecked(n,t);d.nodeChecked(n,t,!i),l.checkNodeRelation(n,t);var a=c(t,s.id.CHECK,n);return l.setChkClass(n,a,t),l.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(s.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=d.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!0,l.setChkClass(n,i,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=d.getSetting(e.data.treeId),i=c(t,s.id.CHECK,n);return t.check_Focus=!1,l.setChkClass(n,i,t),!0}},a={tools:{},view:{checkNodeRelation:function(e,t){var n,i,a,r=s.radio,o=d.nodeChecked(e,t);if(e.check.chkStyle==r.STYLE){var u=d.getRadioCheckedList(e);if(o)if(e.check.radioType==r.TYPE_ALL){for(i=u.length-1;i>=0;i--){n=u[i],d.nodeChecked(e,n)&&n!=t&&(d.nodeChecked(e,n,!1),u.splice(i,1),l.setChkClass(e,c(n,s.id.CHECK,e),n),n.parentTId!=t.parentTId&&l.repairParentChkClassWithSelf(e,n))}u.push(t)}else{var h=t.parentTId?t.getParentNode():d.getRoot(e);for(i=0,a=(p=d.nodeChildren(e,h)).length;i<a;i++){n=p[i],d.nodeChecked(e,n)&&n!=t&&(d.nodeChecked(e,n,!1),l.setChkClass(e,c(n,s.id.CHECK,e),n))}}else if(e.check.radioType==r.TYPE_ALL)for(i=0,a=u.length;i<a;i++)if(t==u[i]){u.splice(i,1);break}}else{var p=d.nodeChildren(e,t);o&&(!p||0==p.length||e.check.chkboxType.Y.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!0),o||p&&0!=p.length&&!(e.check.chkboxType.N.indexOf("s")>-1)||l.setSonNodeCheckBox(e,t,!1),o&&e.check.chkboxType.Y.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!0),!o&&e.check.chkboxType.N.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!1)}},makeChkClass:function(e,t){var n=s.checkbox,i=s.radio,a="",r=d.nodeChecked(e,t);a=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==i.STYLE?t.check_Child_State<1?n.FULL:n.PART:r?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var o=e.check.chkStyle+"_"+(r?n.TRUE:n.FALSE)+"_"+a;return o=t.check_Focus&&!0!==t.chkDisabled?o+"_"+n.FOCUS:o,s.className.BUTTON+" "+n.DEFAULT+" "+o},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===s.checkbox.STYLE)for(var n=d.getRoot(e),i=d.nodeChildren(e,n),a=0,r=i.length;a<r;a++){var o=i[a];!0!==o.nocheck&&!0!==o.chkDisabled&&d.nodeChecked(e,o,t),l.setSonNodeCheckBox(e,o,t)}},repairChkClass:function(e,t){if(t&&(d.makeChkFlag(e,t),!0!==t.nocheck)){var n=c(t,s.id.CHECK,e);l.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();l.repairChkClass(e,n),l.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=d.nodeChildren(e,t);n&&n.length>0?l.repairParentChkClass(e,n[0]):l.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,i){if(t){t.chkDisabled!=n&&(t.chkDisabled=n),l.repairChkClass(e,t);var a=d.nodeChildren(e,t);if(a&&i)for(var r=0,o=a.length;r<o;r++){var s=a[r];l.repairSonChkDisabled(e,s,n,i)}}},repairParentChkDisabled:function(e,t,n,i){t&&(t.chkDisabled!=n&&i&&(t.chkDisabled=n),l.repairChkClass(e,t),l.repairParentChkDisabled(e,t.getParentNode(),n,i))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",l.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,i){var a=c(t,s.id.CHECK,e);if(i||(i=t),d.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(d.nodeChecked(e,t,n),l.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t])),t.parentTId){var r=!0;if(!n)for(var o=d.nodeChildren(e,t.getParentNode()),u=0,h=o.length;u<h;u++){var p=o[u],f=d.nodeChecked(e,p);if(!0!==p.nocheck&&!0!==p.chkDisabled&&f||(!0===p.nocheck||!0===p.chkDisabled)&&p.check_Child_State>0){r=!1;break}}r&&l.setParentNodeCheckBox(e,t.getParentNode(),n,i)}},setSonNodeCheckBox:function(e,t,n,i){if(t){var a=c(t,s.id.CHECK,e);i||(i=t);var r=!1,o=d.nodeChildren(e,t);if(o)for(var u=0,h=o.length;u<h;u++){var p=o[u];l.setSonNodeCheckBox(e,p,n,i),!0===p.chkDisabled&&(r=!0)}t!=d.getRoot(e)&&!0!==t.chkDisabled&&(r&&!0!==t.nocheck&&d.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(d.nodeChecked(e,t,n),r||(t.check_Child_State=o&&o.length>0?n?2:0:-1)):t.check_Child_State=-1,l.setChkClass(e,a,t),e.check.autoCheckTrigger&&t!=i&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(s.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=d.getRoot(e).radioCheckedList,n=0,i=t.length;n<i;n++)d.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,i--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=d.nodeChecked(e,t);return{checked:n,half:t.halfCheck?t.halfCheck:e.check.chkStyle==s.radio.STYLE?2===t.check_Child_State:n?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,i){if(!t)return[];var a=n&&e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL;i=i||[];for(var r=0,o=t.length;r<o;r++){var l=t[r],c=d.nodeChildren(e,l),u=d.nodeChecked(e,l);if(!0!==l.nocheck&&!0!==l.chkDisabled&&u==n&&(i.push(l),a))break;if(d.getTreeCheckedNodes(e,c,n,i),a&&i.length>0)break}return i},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];n=n||[];for(var i=0,a=t.length;i<a;i++){var r=t[i],o=d.nodeChildren(e,r),s=d.nodeChecked(e,r);!0!==r.nocheck&&!0!==r.chkDisabled&&s!=r.checkedOld&&n.push(r),d.getTreeChangeCheckedNodes(e,o,n)}return n},makeChkFlag:function(e,t){if(t){var n=-1,i=d.nodeChildren(e,t);if(i)for(var a=0,r=i.length;a<r;a++){var o=i[a],l=d.nodeChecked(e,o),c=-1;if(e.check.chkStyle==s.radio.STYLE){if(2==(c=!0===o.nocheck||!0===o.chkDisabled?o.check_Child_State:!0===o.halfCheck||l||o.check_Child_State>0?2:0)){n=2;break}0==c&&(n=0)}else if(e.check.chkStyle==s.checkbox.STYLE){if(1===(c=!0===o.nocheck||!0===o.chkDisabled?o.check_Child_State:!0===o.halfCheck?1:l?-1===o.check_Child_State||2===o.check_Child_State?2:1:o.check_Child_State>0?1:0)){n=1;break}if(2===c&&n>-1&&a>0&&c!==n){n=1;break}if(2===n&&c>-1&&c<2){n=1;break}c>-1&&(n=c)}}t.check_Child_State=n}}}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,a);var r=e.fn.zTree,o=r._z.tools,s=r.consts,l=r._z.view,d=r._z.data,c=(r._z.event,o.$);d.nodeChecked=function(e,t,n){if(!t)return!1;var i=e.data.key.checked;return void 0!==n&&("string"==typeof n&&(n=o.eqs(n,"true")),n=!!n,t[i]=n),t[i]},d.exSetting(n),d.addInitBind((function(e){var t=e.treeObj,n=s.event;t.bind(n.CHECK,(function(t,n,i,a){t.srcEvent=n,o.apply(e.callback.onCheck,[t,i,a])}))})),d.addInitUnBind((function(e){var t=e.treeObj,n=s.event;t.unbind(n.CHECK)})),d.addInitCache((function(e){})),d.addInitNode((function(e,t,n,i,a,r,l){if(n){var c=d.nodeChecked(e,n);if(c=!!c,c=d.nodeChecked(e,n,c),n.checkedOld=c,"string"==typeof n.nocheck&&(n.nocheck=o.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&i&&!!i.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=o.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&i&&!!i.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=o.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return d.getCheckStatus(e,n)},e.check.chkStyle==s.radio.STYLE&&e.check.radioType==s.radio.TYPE_ALL&&c)d.getRoot(e).radioCheckedList.push(n)}})),d.addInitProxy((function(e){var t=e.target,n=d.getSetting(e.data.treeId),a="",r=null,l="",c=null;if(o.eqs(e.type,"mouseover")?n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="mouseoverCheck"):o.eqs(e.type,"mouseout")?n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="mouseoutCheck"):o.eqs(e.type,"click")&&n.check.enable&&o.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+s.id.CHECK)&&(a=o.getNodeMainDom(t).id,l="checkNode"),a.length>0)switch(r=d.getNodeCache(n,a),l){case"checkNode":c=i.onCheckNode;break;case"mouseoverCheck":c=i.onMouseoverCheck;break;case"mouseoutCheck":c=i.onMouseoutCheck}return{stop:"checkNode"===l,node:r,nodeEventType:l,nodeEventCallback:c,treeEventType:"",treeEventCallback:null}}),!0),d.addInitRoot((function(e){d.getRoot(e).radioCheckedList=[]})),d.addBeforeA((function(e,t,n){e.check.enable&&(d.makeChkFlag(e,t),n.push("<span ID='",t.tId,s.id.CHECK,"' class='",l.makeChkClass(e,t),"' treeNode",s.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))})),d.addZTreeTools((function(e,t){t.checkNode=function(t,n,i,a){var r=d.nodeChecked(e,t);if(!0!==t.chkDisabled&&(!0!==n&&!1!==n&&(n=!r),a=!!a,(r!==n||i)&&(!a||0!=o.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&o.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){d.nodeChecked(e,t,n);var u=c(t,s.id.CHECK,this.setting);(i||this.setting.check.chkStyle===s.radio.STYLE)&&l.checkNodeRelation(this.setting,t),l.setChkClass(this.setting,u,t),l.repairParentChkClassWithSelf(this.setting,t),a&&this.setting.treeObj.trigger(s.event.CHECK,[null,this.setting.treeId,t])}},t.checkAllNodes=function(e){l.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var n=d.nodeChildren(e,d.getRoot(this.setting));return d.getTreeCheckedNodes(this.setting,n,t)},t.getChangeCheckedNodes=function(){var t=d.nodeChildren(e,d.getRoot(this.setting));return d.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,n,i){t=!!t,n=!!n,i=!!i,l.repairSonChkDisabled(this.setting,e,t,i),l.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,i){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){var a=c(e,this.setting);if(a.get(0)&&o.uCanDo(this.setting)){var r=c(e,s.id.CHECK,this.setting);1!=i&&this.setting.check.chkStyle!==s.radio.STYLE||l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,r,e),l.repairParentChkClassWithSelf(this.setting,e)}}}}));var u=l.createNodes;l.createNodes=function(e,t,n,i,a){u&&u.apply(l,arguments),n&&l.repairParentChkClassWithSelf(e,i)};var h=l.removeNode;l.removeNode=function(e,t){var n=t.getParentNode();h&&h.apply(l,arguments),t&&n&&(l.repairChkClass(e,n),l.repairParentChkClass(e,n))};var p=l.appendNodes;l.appendNodes=function(e,t,n,i,a,r,o){var s="";return p&&(s=p.apply(l,arguments)),i&&d.makeChkFlag(e,i),s}}(jQuery)},function(e,t){!function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={onHoverOverNode:function(e,t){var i=l.getSetting(e.data.treeId),a=l.getRoot(i);a.curHoverNode!=t&&n.onHoverOutNode(e),a.curHoverNode=t,s.addHoverDom(i,t)},onHoverOutNode:function(e,t){var n=l.getSetting(e.data.treeId),i=l.getRoot(n);i.curHoverNode&&!l.isSelectedNode(n,i.curHoverNode)&&(s.removeTreeDom(n,i.curHoverNode),i.curHoverNode=null)},onMousedownNode:function(n,i){var a,c,u=l.getSetting(n.data.treeId),h=l.getRoot(u),p=l.getRoots();if(2==n.button||!u.edit.enable||!u.edit.drag.isCopy&&!u.edit.drag.isMove)return!0;var f=n.target,m=l.getRoot(u).curSelectedList,g=[];if(l.isSelectedNode(u,i))for(a=0,c=m.length;a<c;a++){if(m[a].editNameFlag&&r.eqs(f.tagName,"input")&&null!==f.getAttribute("treeNode"+o.id.INPUT))return!0;if(g.push(m[a]),g[0].parentTId!==m[a].parentTId){g=[i];break}}else g=[i];s.editNodeBlur=!0,s.cancelCurEditNode(u);var v,y,b,w,C,_=e(u.treeObj.get(0).ownerDocument),x=e(u.treeObj.get(0).ownerDocument.body),T=!1,S=u,k=u,E=null,D=null,A=null,I=o.move.TYPE_INNER,N=n.clientX,P=n.clientY,R=(new Date).getTime();function $(n){if(0==h.dragFlag&&Math.abs(N-n.clientX)<u.edit.drag.minMoveSize&&Math.abs(P-n.clientY)<u.edit.drag.minMoveSize)return!0;var i,a,c,f,m;if(x.css("cursor","pointer"),0==h.dragFlag){if(0==r.apply(u.callback.beforeDrag,[u.treeId,g],!0))return L(n),!0;for(i=0,a=g.length;i<a;i++)0==i&&(h.dragNodeShowBefore=[]),c=g[i],l.nodeIsParent(u,c)&&c.open?(s.expandCollapseNode(u,c,!c.open),h.dragNodeShowBefore[c.tId]=!0):h.dragNodeShowBefore[c.tId]=!1;h.dragFlag=1,p.showHoverDom=!1,r.showIfameMask(u,!0);var k=!0,$=-1;if(g.length>1){var M=g[0].parentTId?l.nodeChildren(u,g[0].getParentNode()):l.getNodes(u);for(m=[],i=0,a=M.length;i<a;i++)if(void 0!==h.dragNodeShowBefore[M[i].tId]&&(k&&$>-1&&$+1!==i&&(k=!1),m.push(M[i]),$=i),g.length===m.length){g=m;break}}for(k&&(w=g[0].getPreNode(),C=g[g.length-1].getNextNode()),v=d("<ul class='zTreeDragUL'></ul>",u),i=0,a=g.length;i<a;i++)(c=g[i]).editNameFlag=!1,s.selectNode(u,c,i>0),s.removeTreeDom(u,c),i>u.edit.drag.maxShowNodeNum-1||((f=d("<li id='"+c.tId+"_tmp'></li>",u)).append(d(c,o.id.A,u).clone()),f.css("padding","0"),f.children("#"+c.tId+o.id.A).removeClass(o.node.CURSELECTED),v.append(f),i==u.edit.drag.maxShowNodeNum-1&&(f=d("<li id='"+c.tId+"_moretmp'><a>  ...  </a></li>",u),v.append(f)));v.attr("id",g[0].tId+o.id.UL+"_tmp"),v.addClass(u.treeObj.attr("class")),v.appendTo(x),(y=d("<span class='tmpzTreeMove_arrow'></span>",u)).attr("id","zTreeMove_arrow_tmp"),y.appendTo(x),u.treeObj.trigger(o.event.DRAG,[n,u.treeId,g])}if(1==h.dragFlag){if(b&&y.attr("id")==n.target.id&&A&&n.clientX+_.scrollLeft()+2>e("#"+A+o.id.A,b).offset().left){var O=e("#"+A+o.id.A,b);n.target=O.length>0?O.get(0):n.target}else b&&(b.removeClass(o.node.TMPTARGET_TREE),A&&e("#"+A+o.id.A,b).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));b=null,A=null,T=!1,S=u;var j=l.getSettings();for(var F in j)j[F].treeId&&j[F].edit.enable&&j[F].treeId!=u.treeId&&(n.target.id==j[F].treeId||e(n.target).parents("#"+j[F].treeId).length>0)&&(T=!0,S=j[F]);var B=_.scrollTop(),U=_.scrollLeft(),H=S.treeObj.offset(),W=S.treeObj.get(0).scrollHeight,z=S.treeObj.get(0).scrollWidth,Y=n.clientY+B-H.top,V=S.treeObj.height()+H.top-n.clientY-B,G=n.clientX+U-H.left,J=S.treeObj.width()+H.left-n.clientX-U,q=Y<u.edit.drag.borderMax&&Y>u.edit.drag.borderMin,Q=V<u.edit.drag.borderMax&&V>u.edit.drag.borderMin,X=G<u.edit.drag.borderMax&&G>u.edit.drag.borderMin,K=J<u.edit.drag.borderMax&&J>u.edit.drag.borderMin,Z=Y>u.edit.drag.borderMin&&V>u.edit.drag.borderMin&&G>u.edit.drag.borderMin&&J>u.edit.drag.borderMin,ee=q&&S.treeObj.scrollTop()<=0,te=Q&&S.treeObj.scrollTop()+S.treeObj.height()+10>=W,ne=X&&S.treeObj.scrollLeft()<=0,ie=K&&S.treeObj.scrollLeft()+S.treeObj.width()+10>=z;if(n.target&&r.isChildOrSelf(n.target,S.treeId)){for(var ae=n.target;ae&&ae.tagName&&!r.eqs(ae.tagName,"li")&&ae.id!=S.treeId;)ae=ae.parentNode;var re=!0;for(i=0,a=g.length;i<a;i++){if(c=g[i],ae.id===c.tId){re=!1;break}if(d(c,u).find("#"+ae.id).length>0){re=!1;break}}re&&n.target&&r.isChildOrSelf(n.target,ae.id+o.id.A)&&(b=e(ae),A=ae.id)}c=g[0],Z&&r.isChildOrSelf(n.target,S.treeId)&&(!b&&(n.target.id==S.treeId||ee||te||ne||ie)&&(T||!T&&c.parentTId)&&(b=S.treeObj),q?S.treeObj.scrollTop(S.treeObj.scrollTop()-10):Q&&S.treeObj.scrollTop(S.treeObj.scrollTop()+10),X?S.treeObj.scrollLeft(S.treeObj.scrollLeft()-10):K&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+10),b&&b!=S.treeObj&&b.offset().left<S.treeObj.offset().left&&S.treeObj.scrollLeft(S.treeObj.scrollLeft()+b.offset().left-S.treeObj.offset().left)),v.css({top:n.clientY+B+3+"px",left:n.clientX+U+3+"px"});var oe=0,se=0;if(b&&b.attr("id")!=S.treeId){var le=null==A?null:l.getNodeCache(S,A),de=(n.ctrlKey||n.metaKey)&&u.edit.drag.isMove&&u.edit.drag.isCopy||!u.edit.drag.isMove&&u.edit.drag.isCopy,ce=!(!w||A!==w.tId),ue=!(!C||A!==C.tId),he=c.parentTId&&c.parentTId==A,pe=(de||!ue)&&r.apply(S.edit.drag.prev,[S.treeId,g,le],!!S.edit.drag.prev),fe=(de||!ce)&&r.apply(S.edit.drag.next,[S.treeId,g,le],!!S.edit.drag.next),me=(de||!he)&&!(S.data.keep.leaf&&!l.nodeIsParent(u,le))&&r.apply(S.edit.drag.inner,[S.treeId,g,le],!!S.edit.drag.inner);function ge(){b=null,A="",I=o.move.TYPE_INNER,y.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(pe||fe||me){var ve=e("#"+A+o.id.A,b),ye=le.isLastNode?null:e("#"+le.getNextNode().tId+o.id.A,b.next()),be=ve.offset().top,we=ve.offset().left,Ce=pe?me?.25:fe?.5:1:-1,_e=fe?me?.75:pe?.5:0:-1,xe=(n.clientY+B-be)/ve.height();if((1==Ce||xe<=Ce&&xe>=-.2)&&pe?(oe=1-y.width(),se=be-y.height()/2,I=o.move.TYPE_PREV):(0==_e||xe>=_e&&xe<=1.2)&&fe?(oe=1-y.width(),se=null==ye||l.nodeIsParent(u,le)&&le.open?be+ve.height()-y.height()/2:ye.offset().top-y.height()/2,I=o.move.TYPE_NEXT):me?(oe=5-y.width(),se=be,I=o.move.TYPE_INNER):ge(),b&&(y.css({display:"block",top:se+"px",left:we+oe+"px"}),ve.addClass(o.node.TMPTARGET_NODE+"_"+I),E==A&&D==I||(R=(new Date).getTime()),le&&l.nodeIsParent(u,le)&&I==o.move.TYPE_INNER)){var Te=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==le.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===le.tId&&(Te=!1),Te&&(window.zTreeMoveTimer=setTimeout((function(){I==o.move.TYPE_INNER&&le&&l.nodeIsParent(u,le)&&!le.open&&(new Date).getTime()-R>S.edit.drag.autoOpenTime&&r.apply(S.callback.beforeDragOpen,[S.treeId,le],!0)&&(s.switchNode(S,le),S.edit.drag.autoExpandTrigger&&S.treeObj.trigger(o.event.EXPAND,[S.treeId,le]))}),S.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=le.tId)}}else ge()}else I=o.move.TYPE_INNER,b&&r.apply(S.edit.drag.inner,[S.treeId,g,null],!!S.edit.drag.inner)?b.addClass(o.node.TMPTARGET_TREE):b=null,y.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);E=A,D=I,u.treeObj.trigger(o.event.DRAGMOVE,[n,u.treeId,g])}return!1}function L(n){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),E=null,D=null,_.unbind("mousemove",$),_.unbind("mouseup",L),_.unbind("selectstart",M),x.css("cursor",""),b&&(b.removeClass(o.node.TMPTARGET_TREE),A&&e("#"+A+o.id.A,b).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),r.showIfameMask(u,!1),p.showHoverDom=!0,0!=h.dragFlag){var i,a,c;for(h.dragFlag=0,i=0,a=g.length;i<a;i++)c=g[i],l.nodeIsParent(u,c)&&h.dragNodeShowBefore[c.tId]&&!c.open&&(s.expandCollapseNode(u,c,!c.open),delete h.dragNodeShowBefore[c.tId]);v&&v.remove(),y&&y.remove();var f=(n.ctrlKey||n.metaKey)&&u.edit.drag.isMove&&u.edit.drag.isCopy||!u.edit.drag.isMove&&u.edit.drag.isCopy;if(!f&&b&&A&&g[0].parentTId&&A==g[0].parentTId&&I==o.move.TYPE_INNER&&(b=null),b){var m=null==A?null:l.getNodeCache(S,A);if(0==r.apply(u.callback.beforeDrop,[S.treeId,g,m,I,f],!0))return void s.selectNodes(k,g);var w=f?r.clone(g):g;function C(){if(T){if(!f)for(var e=0,t=g.length;e<t;e++)s.removeNode(u,g[e]);I==o.move.TYPE_INNER?s.addNodes(S,m,-1,w):s.addNodes(S,m.getParentNode(),I==o.move.TYPE_PREV?m.getIndex():m.getIndex()+1,w)}else if(f&&I==o.move.TYPE_INNER)s.addNodes(S,m,-1,w);else if(f)s.addNodes(S,m.getParentNode(),I==o.move.TYPE_PREV?m.getIndex():m.getIndex()+1,w);else if(I!=o.move.TYPE_NEXT)for(e=0,t=w.length;e<t;e++)s.moveNode(S,m,w[e],I,!1);else for(e=-1,t=w.length-1;e<t;t--)s.moveNode(S,m,w[t],I,!1);s.selectNodes(S,w);var i=d(w[0],u).get(0);s.scrollIntoView(u,i),u.treeObj.trigger(o.event.DROP,[n,S.treeId,w,m,I,f])}I==o.move.TYPE_INNER&&r.canAsync(S,m)?s.asyncNode(S,m,!1,C):C()}else s.selectNodes(k,g),u.treeObj.trigger(o.event.DROP,[n,u.treeId,g,null,null,null])}}function M(){return!1}return r.uCanDo(u)&&_.bind("mousemove",$),_.bind("mouseup",L),_.bind("selectstart",M),!0}},i={tools:{getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,i=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+i,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),r.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=l.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var i=d("iframe",e),a=0,o=i.length;a<o;a++){var s=i.get(a),c=r.getAbs(s),u=d("<div id='zTreeMask_"+a+"' class='zTreeMask' style='top:"+c[1]+"px; left:"+c[0]+"px; width:"+s.offsetWidth+"px; height:"+s.offsetHeight+"px;'></div>",e);u.appendTo(d("body",e)),n.dragMaskList.push(u)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||d(t,o.id.EDIT,e).length>0)&&r.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=d(t,o.id.A,e),i="<span class='"+o.className.BUTTON+" edit' id='"+t.tId+o.id.EDIT+"' title='"+r.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+o.id.EDIT+" style='display:none;'></span>";n.append(i),d(t,o.id.EDIT,e).bind("click",(function(){return!(!r.uCanDo(e)||0==r.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(s.editNode(e,t),!1)})).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||d(t,o.id.REMOVE,e).length>0)&&r.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=d(t,o.id.A,e),i="<span class='"+o.className.BUTTON+" remove' id='"+t.tId+o.id.REMOVE+"' title='"+r.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+o.id.REMOVE+" style='display:none;'></span>";n.append(i),d(t,o.id.REMOVE,e).bind("click",(function(){return!(!r.uCanDo(e)||0==r.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(s.removeNode(e,t),e.treeObj.trigger(o.event.REMOVE,[e.treeId,t]),!1)})).bind("mousedown",(function(e){return!0})).show()}},addHoverDom:function(e,t){l.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(s.addEditBtn(e,t),s.addRemoveBtn(e,t)),r.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var i=l.getRoot(e),a=i.curEditNode;if(a){var c=i.curEditInput,u=t||(n?l.nodeName(e,a):c.val());if(!1===r.apply(e.callback.beforeRename,[e.treeId,a,u,n],!0))return!1;l.nodeName(e,a,u),d(a,o.id.A,e).removeClass(o.node.CURSELECTED_EDIT),c.unbind(),s.setNodeName(e,a),a.editNameFlag=!1,i.curEditNode=null,i.curEditInput=null,s.selectNode(e,a,!1),e.treeObj.trigger(o.event.RENAME,[e.treeId,a,n])}return i.noSelection=!0,!0},editNode:function(e,t){var n=l.getRoot(e);if(s.editNodeBlur=!1,l.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)setTimeout((function(){r.inputFocus(n.curEditInput)}),0);else{t.editNameFlag=!0,s.removeTreeDom(e,t),s.cancelCurEditNode(e),s.selectNode(e,t,!1),d(t,o.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+o.id.INPUT+"' treeNode"+o.id.INPUT+" >");var i=d(t,o.id.INPUT,e);i.attr("value",l.nodeName(e,t)),e.edit.editNameSelectAll?r.inputSelect(i):r.inputFocus(i),i.bind("blur",(function(t){s.editNodeBlur||s.cancelCurEditNode(e)})).bind("keydown",(function(t){"13"==t.keyCode?(s.editNodeBlur=!0,s.cancelCurEditNode(e)):"27"==t.keyCode&&s.cancelCurEditNode(e,null,!0)})).bind("click",(function(e){return!1})).bind("dblclick",(function(e){return!1})),d(t,o.id.A,e).addClass(o.node.CURSELECTED_EDIT),n.curEditInput=i,n.noSelection=!1,n.curEditNode=t}},moveNode:function(e,t,n,i,a,r){var c=l.getRoot(e);if(t!=n&&(!e.data.keep.leaf||!t||l.nodeIsParent(e,t)||i!=o.move.TYPE_INNER)){var u=n.parentTId?n.getParentNode():c,h=null===t||t==c;h&&null===t&&(t=c),h&&(i=o.move.TYPE_INNER);var p,f,m=t.parentTId?t.getParentNode():c;if(i!=o.move.TYPE_PREV&&i!=o.move.TYPE_NEXT&&(i=o.move.TYPE_INNER),i==o.move.TYPE_INNER&&(h?n.parentTId=null:(l.nodeIsParent(e,t)||(l.nodeIsParent(e,t,!0),t.open=!!t.open,s.setNodeLineIcos(e,t)),n.parentTId=t.tId)),h)f=p=e.treeObj;else{if(r||i!=o.move.TYPE_INNER?r||s.expandCollapseNode(e,t.getParentNode(),!0,!1):s.expandCollapseNode(e,t,!0,!1),p=d(t,e),f=d(t,o.id.UL,e),p.get(0)&&!f.get(0)){var g=[];s.makeUlHtml(e,t,g,""),p.append(g.join(""))}f=d(t,o.id.UL,e)}var v=d(n,e);v.get(0)?p.get(0)||v.remove():v=s.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),f.get(0)&&i==o.move.TYPE_INNER?f.append(v):p.get(0)&&i==o.move.TYPE_PREV?p.before(v):p.get(0)&&i==o.move.TYPE_NEXT&&p.after(v);var y,b,w=-1,C=0,_=null,x=null,T=n.level,S=l.nodeChildren(e,u),k=l.nodeChildren(e,m),E=l.nodeChildren(e,t);if(n.isFirstNode)w=0,S.length>1&&((_=S[1]).isFirstNode=!0);else if(n.isLastNode)(_=S[(w=S.length-1)-1]).isLastNode=!0;else for(y=0,b=S.length;y<b;y++)if(S[y].tId==n.tId){w=y;break}if(w>=0&&S.splice(w,1),i!=o.move.TYPE_INNER)for(y=0,b=k.length;y<b;y++)k[y].tId==t.tId&&(C=y);if(i==o.move.TYPE_INNER?(E||(E=l.nodeChildren(e,t,[])),E.length>0&&((x=E[E.length-1]).isLastNode=!1),E.splice(E.length,0,n),n.isLastNode=!0,n.isFirstNode=1==E.length):t.isFirstNode&&i==o.move.TYPE_PREV?(k.splice(C,0,n),(x=t).isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&i==o.move.TYPE_NEXT?(k.splice(C+1,0,n),(x=t).isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(i==o.move.TYPE_PREV?k.splice(C,0,n):k.splice(C+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),l.fixPIdKeyValue(e,n),l.setSonNodeLevel(e,n.getParentNode(),n),s.setNodeLineIcos(e,n),s.repairNodeLevelClass(e,n,T),!e.data.keep.parent&&S.length<1){l.nodeIsParent(e,u,!1),u.open=!1;var D=d(u,o.id.UL,e),A=d(u,o.id.SWITCH,e),I=d(u,o.id.ICON,e);s.replaceSwitchClass(u,A,o.folder.DOCU),s.replaceIcoClass(u,I,o.folder.DOCU),D.css("display","none")}else _&&s.setNodeLineIcos(e,_);x&&s.setNodeLineIcos(e,x),e.check&&e.check.enable&&s.repairChkClass&&(s.repairChkClass(e,u),s.repairParentChkClassWithSelf(e,u),u!=n.parent&&s.repairParentChkClassWithSelf(e,n)),r||s.expandCollapseParentNode(e,n.getParentNode(),!0,a)}},removeEditBtn:function(e,t){d(t,o.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){d(t,o.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,s.removeEditBtn(e,t),s.removeRemoveBtn(e,t),r.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var i=d(t,e),a=d(t,o.id.A,e),r=d(t,o.id.UL,e),s=o.className.LEVEL+n,l=o.className.LEVEL+t.level;i.removeClass(s),i.addClass(l),a.removeClass(s),a.addClass(l),r.removeClass(s),r.addClass(l)}},selectNodes:function(e,t){for(var n=0,i=t.length;n<i;n++)s.selectNode(e,t[n],n>0)}},event:{},data:{setSonNodeLevel:function(e,t,n){if(n){var i=l.nodeChildren(e,n);if(n.level=t?t.level+1:0,i)for(var a=0,r=i.length;a<r;a++)i[a]&&l.setSonNodeLevel(e,n,i[a])}}}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,i);var a=e.fn.zTree,r=a._z.tools,o=a.consts,s=a._z.view,l=a._z.data,d=(a._z.event,r.$);l.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),l.addInitBind((function(e){var t=e.treeObj,n=o.event;t.bind(n.RENAME,(function(t,n,i,a){r.apply(e.callback.onRename,[t,n,i,a])})),t.bind(n.DRAG,(function(t,n,i,a){r.apply(e.callback.onDrag,[n,i,a])})),t.bind(n.DRAGMOVE,(function(t,n,i,a){r.apply(e.callback.onDragMove,[n,i,a])})),t.bind(n.DROP,(function(t,n,i,a,o,s,l){r.apply(e.callback.onDrop,[n,i,a,o,s,l])}))})),l.addInitUnBind((function(e){var t=e.treeObj,n=o.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)})),l.addInitCache((function(e){})),l.addInitNode((function(e,t,n,i,a,r,o){n&&(n.isHover=!1,n.editNameFlag=!1)})),l.addInitProxy((function(e){var t=e.target,i=l.getSetting(e.data.treeId),a=e.relatedTarget,s="",d=null,c="",u=null,h=null;if(r.eqs(e.type,"mouseover")?(h=r.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(s=r.getNodeMainDom(h).id,c="hoverOverNode"):r.eqs(e.type,"mouseout")?(h=r.getMDom(i,a,[{tagName:"a",attrName:"treeNode"+o.id.A}]))||(s="remove",c="hoverOutNode"):r.eqs(e.type,"mousedown")&&(h=r.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(s=r.getNodeMainDom(h).id,c="mousedownNode"),s.length>0)switch(d=l.getNodeCache(i,s),c){case"mousedownNode":u=n.onMousedownNode;break;case"hoverOverNode":u=n.onHoverOverNode;break;case"hoverOutNode":u=n.onHoverOutNode}return{stop:!1,node:d,nodeEventType:c,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}})),l.addInitRoot((function(e){var t=l.getRoot(e),n=l.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0})),l.addZTreeTools((function(e,t){t.cancelEditName=function(e){l.getRoot(this.setting).curEditNode&&s.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,n,i,a){if(!n)return null;var d=l.nodeIsParent(e,t);if(t&&!d&&this.setting.data.keep.leaf&&i===o.move.TYPE_INNER)return null;var c=this,u=r.clone(n);if(t||(t=null,i=o.move.TYPE_INNER),i==o.move.TYPE_INNER){function h(){s.addNodes(c.setting,t,-1,[u],a)}r.canAsync(this.setting,t)?s.asyncNode(this.setting,t,a,h):h()}else s.addNodes(this.setting,t.parentNode,-1,[u],a),s.moveNode(this.setting,t,u,i,!1,a);return u},t.editName=function(e){e&&e.tId&&e===l.getNodeCache(this.setting,e.tId)&&(e.parentTId&&s.expandCollapseParentNode(this.setting,e.getParentNode(),!0),s.editNode(this.setting,e))},t.moveNode=function(t,n,i,a){if(!n)return n;var c=l.nodeIsParent(e,t);if(t&&!c&&this.setting.data.keep.leaf&&i===o.move.TYPE_INNER)return null;if(t&&(n.parentTId==t.tId&&i==o.move.TYPE_INNER||d(n,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var u=this;function h(){s.moveNode(u.setting,t,n,i,!1,a)}return r.canAsync(this.setting,t)&&i===o.move.TYPE_INNER?s.asyncNode(this.setting,t,a,h):h(),n},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}}));var c=s.cancelPreSelectedNode;s.cancelPreSelectedNode=function(e,t){for(var n=l.getRoot(e).curSelectedList,i=0,a=n.length;i<a&&(t&&t!==n[i]||(s.removeTreeDom(e,n[i]),!t));i++);c&&c.apply(s,arguments)};var u=s.createNodes;s.createNodes=function(e,t,n,i,a){u&&u.apply(s,arguments),n&&s.repairParentChkClassWithSelf&&s.repairParentChkClassWithSelf(e,i)};var h=s.makeNodeUrl;s.makeNodeUrl=function(e,t){return e.edit.enable?null:h.apply(s,arguments)};var p=s.removeNode;s.removeNode=function(e,t){var n=l.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),p&&p.apply(s,arguments)};var f=s.selectNode;s.selectNode=function(e,t,n){var i=l.getRoot(e);return(!l.isSelectedNode(e,t)||i.curEditNode!=t||!t.editNameFlag)&&(f&&f.apply(s,arguments),s.addHoverDom(e,t),!0)};var m=r.uCanDo;r.uCanDo=function(e,t){var n=l.getRoot(e);return!(!t||!(r.eqs(t.type,"mouseover")||r.eqs(t.type,"mouseout")||r.eqs(t.type,"mousedown")||r.eqs(t.type,"mouseup")))||(n.curEditNode&&(s.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!m||m.apply(s,arguments)))}}(jQuery)},function(e,t){!function(e){var t={view:{clearOldFirstNode:function(e,t){for(var n=t.getNextNode();n;){if(n.isFirstNode){n.isFirstNode=!1,r.setNodeLineIcos(e,n);break}if(n.isLastNode)break;n=n.getNextNode()}},clearOldLastNode:function(e,t,n){for(var i=t.getPreNode();i;){if(i.isLastNode){i.isLastNode=!1,n&&r.setNodeLineIcos(e,i);break}if(i.isFirstNode)break;i=i.getPreNode()}},makeDOMNodeMainBefore:function(e,t,n){var i=o.isHidden(t,n);e.push("<li ",i?"style='display:none;' ":"","id='",n.tId,"' class='",a.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(e,t,n){o.isHidden(e,t,!1),o.initShowForExCheck(e,t),s(t,e).show()},showNodes:function(e,t,n){if(t&&0!=t.length){var i,a,s={};for(i=0,a=t.length;i<a;i++){var l=t[i];if(!s[l.parentTId]){var d=l.getParentNode();s[l.parentTId]=null===d?o.getRoot(e):l.getParentNode()}r.showNode(e,l,n)}for(var c in s){var u=o.nodeChildren(e,s[c]);r.setFirstNodeForShow(e,u),r.setLastNodeForShow(e,u)}}},hideNode:function(e,t,n){o.isHidden(e,t,!0),t.isFirstNode=!1,t.isLastNode=!1,o.initHideForExCheck(e,t),r.cancelPreSelectedNode(e,t),s(t,e).hide()},hideNodes:function(e,t,n){if(t&&0!=t.length){var i,a,s={};for(i=0,a=t.length;i<a;i++){var l=t[i];if((l.isFirstNode||l.isLastNode)&&!s[l.parentTId]){var d=l.getParentNode();s[l.parentTId]=null===d?o.getRoot(e):l.getParentNode()}r.hideNode(e,l,n)}for(var c in s){var u=o.nodeChildren(e,s[c]);r.setFirstNodeForHide(e,u),r.setLastNodeForHide(e,u)}}},setFirstNode:function(e,t){var n=o.nodeChildren(e,t),i=o.isHidden(e,n[0],!1);n.length>0&&!i?n[0].isFirstNode=!0:n.length>0&&r.setFirstNodeForHide(e,n)},setLastNode:function(e,t){var n=o.nodeChildren(e,t),i=o.isHidden(e,n[0]);n.length>0&&!i?n[n.length-1].isLastNode=!0:n.length>0&&r.setLastNodeForHide(e,n)},setFirstNodeForHide:function(e,t){var n,i,a;for(i=0,a=t.length;i<a&&!(n=t[i]).isFirstNode;i++){if(!o.isHidden(e,n)&&!n.isFirstNode){n.isFirstNode=!0,r.setNodeLineIcos(e,n);break}n=null}return n},setFirstNodeForShow:function(e,t){var n,i,a,s,l;for(i=0,a=t.length;i<a;i++){n=t[i];var d=o.isHidden(e,n);if(!s&&!d&&n.isFirstNode){s=n;break}if(s||d||n.isFirstNode){if(s&&n.isFirstNode){n.isFirstNode=!1,l=n,r.setNodeLineIcos(e,n);break}n=null}else n.isFirstNode=!0,s=n,r.setNodeLineIcos(e,n)}return{new:s,old:l}},setLastNodeForHide:function(e,t){var n,i;for(i=t.length-1;i>=0&&!(n=t[i]).isLastNode;i--){if(!o.isHidden(e,n)&&!n.isLastNode){n.isLastNode=!0,r.setNodeLineIcos(e,n);break}n=null}return n},setLastNodeForShow:function(e,t){var n,i,a,s;for(i=t.length-1;i>=0;i--){n=t[i];var l=o.isHidden(e,n);if(!a&&!l&&n.isLastNode){a=n;break}if(a||l||n.isLastNode){if(a&&n.isLastNode){n.isLastNode=!1,s=n,r.setNodeLineIcos(e,n);break}n=null}else n.isLastNode=!0,a=n,r.setNodeLineIcos(e,n)}return{new:a,old:s}}},data:{initHideForExCheck:function(e,t){o.isHidden(e,t)&&e.check&&e.check.enable&&(void 0===t._nocheck&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,r.repairParentChkClassWithSelf&&r.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(e,t){if(!o.isHidden(e,t)&&e.check&&e.check.enable){if(void 0!==t._nocheck&&(t.nocheck=t._nocheck,delete t._nocheck),r.setChkClass){var n=s(t,a.id.CHECK,e);r.setChkClass(e,n,t)}r.repairParentChkClassWithSelf&&r.repairParentChkClassWithSelf(e,t)}}}};e.extend(!0,e.fn.zTree._z,t);var n=e.fn.zTree,i=n._z.tools,a=n.consts,r=n._z.view,o=n._z.data,s=(n._z.event,i.$);o.isHidden=function(e,t,n){if(!t)return!1;var a=e.data.key.isHidden;return void 0!==n&&("string"==typeof n&&(n=i.eqs(checked,"true")),n=!!n,t[a]=n),t[a]},o.exSetting({data:{key:{isHidden:"isHidden"}}}),o.addInitNode((function(e,t,n,i,a,r,s){var l=o.isHidden(e,n);l=!!l,o.isHidden(e,n,l),o.initHideForExCheck(e,n)})),o.addBeforeA((function(e,t,n){})),o.addZTreeTools((function(e,t){t.showNodes=function(t,n){r.showNodes(e,t,n)},t.showNode=function(t,n){t&&r.showNodes(e,[t],n)},t.hideNodes=function(t,n){r.hideNodes(e,t,n)},t.hideNode=function(t,n){t&&r.hideNodes(e,[t],n)};var n=t.checkNode;n&&(t.checkNode=function(i,a,r,s){i&&o.isHidden(e,i)||n.apply(t,arguments)})}));var l=o.initNode;o.initNode=function(e,t,n,i,a,s,d){var c=i||o.getRoot(e),u=c[e.data.key.children];o.tmpHideFirstNode=r.setFirstNodeForHide(e,u),o.tmpHideLastNode=r.setLastNodeForHide(e,u),d&&(r.setNodeLineIcos(e,o.tmpHideFirstNode),r.setNodeLineIcos(e,o.tmpHideLastNode)),a=o.tmpHideFirstNode===n,s=o.tmpHideLastNode===n,l&&l.apply(o,arguments),d&&s&&r.clearOldLastNode(e,n,d)};var d=o.makeChkFlag;d&&(o.makeChkFlag=function(e,t){t&&o.isHidden(e,t)||d.apply(o,arguments)});var c=o.getTreeCheckedNodes;c&&(o.getTreeCheckedNodes=function(e,t,n,i){if(t&&t.length>0){var a=t[0].getParentNode();if(a&&o.isHidden(e,a))return[]}return c.apply(o,arguments)});var u=o.getTreeChangeCheckedNodes;u&&(o.getTreeChangeCheckedNodes=function(e,t,n){if(t&&t.length>0){var i=t[0].getParentNode();if(i&&o.isHidden(e,i))return[]}return u.apply(o,arguments)});var h=r.expandCollapseSonNode;h&&(r.expandCollapseSonNode=function(e,t,n,i,a){t&&o.isHidden(e,t)||h.apply(r,arguments)});var p=r.setSonNodeCheckBox;p&&(r.setSonNodeCheckBox=function(e,t,n,i){t&&o.isHidden(e,t)||p.apply(r,arguments)});var f=r.repairParentChkClassWithSelf;f&&(r.repairParentChkClassWithSelf=function(e,t){t&&o.isHidden(e,t)||f.apply(r,arguments)})}(jQuery)},function(e,t){!function(e){var t={view:{setNodeNameCount:function(e,t){var n=o.nodeTitle(e,t),r=s(t,a.id.SPAN,e),l=s(t,a.id.COUNT,e);if(r.empty(),e.view.nameIsHTML?r.html(o.nodeName(e,t)):r.text(o.nodeName(e,t)),l){l.empty();var d=o.nodeChildren(e,t);if(!d)return;e.view.countIsHTML?l.html("("+d.length+")"):l.text("("+d.length+")")}i.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&s(t,a.id.A,e).attr("title",n||"")},setNodeNameAliases:function(e,t){var n=o.nodeTitle(e,t),r=s(t,a.id.SPAN,e),l=s(t,a.id.ALIASES,e);(r.empty(),e.view.nameIsHTML?r.html(o.nodeName(e,t)):r.text(o.nodeName(e,t)),l&&(l.empty(),l.html("("+t.aliases+")"),l.attr("class",e.view.aliasesClass)),i.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle))&&s(t,a.id.A,e).attr("title",n||"")}},data:{getNodeCount:function(e,t){return""+t[e.data.key.count]},getNodeAliases:function(e,t){return""+t[e.data.key.aliases]}}};e.extend(!0,e.fn.zTree.consts,{id:{COUNT:"_count",ALIASES:"_aliases"}}),e.extend(!0,e.fn.zTree._z,t);var n=e.fn.zTree,i=n._z.tools,a=n.consts,r=n._z.view,o=n._z.data,s=i.$;o.exSetting({view:{countClass:"",countIsHTML:!1,aliasesClass:"aliasesStyle",aliasesIsHTML:!1},data:{key:{icon:"icon",count:"count",aliases:"aliases"}}}),o.addZTreeTools((function(e,t){t.updateNodeCount=function(t){t&&(s(t,e).get(0)&&i.uCanDo(e)&&(r.setNodeNameCount(e,t),r.setNodeTarget(e,t),r.setNodeUrl(e,t),r.setNodeLineIcos(e,t),r.setNodeFontCss(e,t)))},t.updateNodeAliases=function(t){t&&(s(t,e).get(0)&&i.uCanDo(e)&&(r.setNodeNameAliases(e,t),r.setNodeTarget(e,t),r.setNodeUrl(e,t),r.setNodeLineIcos(e,t),r.setNodeFontCss(e,t)))},t.updateNodeIconSkin=function(t){t&&(s(t,e).get(0)&&i.uCanDo(e)&&s(t,a.id.ICON,e).attr("class",r.makeNodeIcoClass(e,t)))}}));var l=r.makeDOMNodeIcon;r.makeDOMNodeIcon=function(e,t,n){l&&l.apply(r,arguments);var i=o.getNodeCount(t,n),s=t.view.countIsHTML?i:i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");"undefined"!==s&&e.push("<span id='",n.tId,a.id.COUNT,"' class='",t.view.countClass,"'>(",s,")</span>");var d=o.getNodeAliases(t,n),c=t.view.aliasesIsHTML?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");"undefined"!==c&&""!==c&&e.push("<span id='",n.tId,a.id.ALIASES,"' class='",t.view.aliasesClass,"'>(",c,")</span>")};var d=r.makeNodeLineClass;d&&(r.makeNodeLineClass=function(e,t){return"vehicle"===t.type||"thing"===t.type||"people"===t.type?"vehicle "+d.apply(r,arguments):d.apply(r,arguments)})}(jQuery)},function(e,t){var n="",i="";function a(e,t,i,a,r){var s=null!=r?r:$("#"+t).val(),l=[],d=[],c=[],h=$.fn.zTree.getZTreeObj(e);if(n=s,"vehicle"==a)l=h.getNodesByFilter(o),c=h.transformToArray(h.getNodes()),d=l;else{l=h.getNodesByParamFuzzy("name",s,null),c=h.getNodesByParam("type",a,null),"assignment"==a&&(c=c.concat(h.getNodesByParam("type","group",null)));for(var p=0,f=l.length;p<f;p++)l[p].type==a&&d.push(l[p])}if(""!=s)if(n=s,"group"==a||"assignment"==a){var m=[];if(null!=d){for(p=0;p<d.length;p++)u(e,d[p],m);h.hideNodes(c),h.showNodes(m),h.expandAll(!0)}}else{m=[];if(null!=d){for(p=0;p<d.length;p++)u(e,d[p],m);h.hideNodes(c),h.showNodes(m),h.expandAll(!0)}}else h.showNodes(c),h.expandAll(!0)}function r(e){return"vehicle"==e.type&&e.name.indexOf(n)>-1||"people"==e.type&&e.name.indexOf(n)>-1||"thing"==e.type&&e.name.indexOf(n)>-1||null!=e.professional&&null!=e.professional&&e.professional.indexOf(n)>-1||null!=e.simcardNumber&&null!=e.simcardNumber&&e.simcardNumber.indexOf(n)>-1||null!=e.assignName&&null!=e.assignName&&e.assignName.indexOf(n)>-1||null!=e.deviceNumber&&null!=e.deviceNumber&&e.deviceNumber.indexOf(n)>-1}function o(e){return"vehicle"==e.type&&e.name.indexOf(n)>-1||"people"==e.type&&e.name.indexOf(n)>-1||"thing"==e.type&&e.name.indexOf(n)>-1}function s(e){return"assignment"==e.type&&null!=e.children&&e.children.length>0&&0==e.children[0].open}function l(e,t){var n=t[e.pId];t[e.id].checkdStatus="checked",t[e.pId].checkdStatus="checked",n&&t[n.pId]&&"checked"!==t[n.pId].checkdStatus&&l(n,t)}function d(e){return"vehicle"===e||"people"===e||"thing"===e}function c(e,t){return null!==t?c(e,t.getParentNode()):t}function u(e,t,n){return null!==t?(n.push(t),u(e,t.getParentNode(),n)):t}window.expand_ztree=function(e){$.fn.zTree.getZTreeObj(e).expandAll(!0)},window.close_ztree=function(e){for(var t=$.fn.zTree.getZTreeObj(e),n=t.transformToArray(t.getNodes()),i=n.length,a=0;a<i;a++)"0"==n[a].id?t.expandNode(n[a],!0,!0,!1):t.expandNode(n[a],!1,!0,!1)},window.search_ztree=function(e,t,n,i){a(e,t,"",n,i)},window.searchByFlag_ztree=a,window.realTimeMonitoringFilter=r,window.monitorFilter=function(e){return"vehicle"==e.type||"people"==e.type||"thing"==e.type},window.monitorParamFuzzyFilter=o,window.assignmentNotExpandFilter=s,window.moniterFilter=function(e){return("vehicle"==e.type||"people"==e.type||"thing"==e.type)&&!1===e.isHidden},window.high_search_ztree=function(e,t,i){var a=$("#"+t).val(),o=[],s=$.fn.zTree.getZTreeObj(e);n=a,o=s.getNodesByFilter(r);var l=s.transformToArray(s.getNodes());if(""!=a){var d=[];if(null!=o){for(var c=0;c<o.length;c++)-1==i.indexOf(o[c].getParentNode().id)&&(i.push(o[c].getParentNode().id),s.expandNode(o[c].getParentNode(),!0,!0,!1,!0)),u(e,o[c],d);s.hideNodes(l),s.showNodes(d)}}else s.showNodes(l),s.expandAll(!0)},window.searchTypeFilter=function(e){var t=e[""+i];return("vehicle"==e.type||"people"==e.type||"thing"==e.type)&&null!=t&&null!=t&&t.indexOf(n)>-1},window.search_ztree_by_search_type=function(e,t,a,r){var o=$("#"+t).val(),s=$.fn.zTree.getZTreeObj(e);n=o,i=a;var l=s.transformToArray(s.getNodes());if(""!=o){var d=[];if(null!=l){for(var c=0;c<l.length;c++){var h=l[c],p=h[""+a];("vehicle"==h.type||"people"==h.type||"thing"==h.type)&&null!=p&&null!=p&&p.indexOf(n)>-1&&(-1==r.indexOf(h.getParentNode().id)&&(r.push(h.getParentNode().id),s.expandNode(h.getParentNode(),!0,!0,!1,!0)),u(e,h,d))}s.hideNodes(l),s.showNodes(d)}}else s.showNodes(l),s.expandAll(!0)},window.showSearchNodes=function(e,t){var n=$.fn.zTree.getZTreeObj(e),i=n.transformToArray(n.getNodes()),a=[],r=[];if(null!==i){for(var o=0;o<i.length;o++){var s=i[o];if("vehicle"===s.type||"people"===s.type||"thing"===s.type){if(null!=t&&t.length>0&&-1!==t.indexOf(s.id)&&n.checkNode(s,!0,!0),r.indexOf(s.pId)>=0){a.push(s);continue}r.push(s.pId),n.expandNode(s.getParentNode(),!0,!0,!1,!0),u(e,s,a)}}n.hideNodes(i),n.showNodes(a)}},window.filterQueryResult=function(e,t,n){if(null!==e){null==t&&(t=[]);for(var i={},a=0;a<e.length;a++)i[e[a].id]=e[a];for(a=0;a<t.length;a++){var r=i[t[a]];null!=r&&null!=r&&(i[t[a]].checked=!0)}for(a=0;a<e.length;a++)(n&&e[a].type===n||d(e[a].type))&&l(e[a],i);var o=[];for(a=0;a<e.length;a++){var s=e[a].id;i[s]&&"checked"===i[s].checkdStatus&&(i[s].checked&&(e[a].checked=!0),o.push(e[a]))}return o}},window.getAllAvailableNodes=l,window.isMonitorType=d,window.zTreeScroll=function(e,t){var n=0,i=t.scrollTop;if(n<=i){var a=e.getNodesByFilter(s);if(void 0!==a&&a.length>0)for(var r=0;r<a.length;r++){var o=a[r],l=o.tId+"_a",d=t.offsetTop,c=$("#"+l).offset().top;if(c-d>696)break;c-d>0&&c-d<696&&(e.expandNode(o,!0,!0,!1,!0),o.children[0].open=!0)}}setTimeout((function(){n=i}),0)},window.highlightAndExpand_ztree=function(e,t,n){for(var i=$.fn.zTree.getZTreeObj(e),a=i.transformToArray(i.getNodes()),r=0;r<a.length;r++)a[r].highlight=!1,i.updateNode(a[r]);if(null!=t)for(r=0;r<t.length;r++)if(null!=n&&""!=n){if(t[r].flag==n){t[r].highlight=!0,i.updateNode(t[r]);var o=c(e,s=t[r].getParentNode());i.expandNode(o,!0,!1,!0),i.expandNode(s,!0,!1,!0)}}else{t[r].highlight=!0,i.updateNode(t[r]);var s;o=c(e,s=t[r].getParentNode());i.expandNode(o,!0,!1,!0),i.expandNode(s,!0,!1,!0)}},window.getParentNodes_ztree=c,window.getParentShowNodes_ztree=u,window.setFontCss_ztree=function(e,t){return 0==t.id?{color:"#333","font-weight":"bold"}:"out"==t.vehicleType?t.highlight?{color:"#6dcff6","font-weight":"bold"}:{color:"red"}:t.highlight?{color:"#6dcff6","font-weight":"bold"}:{color:"#333","font-weight":"normal"}},window.setFontCss_sphf_ztree=function(e,t){return 0==t.id?{color:"#333","font-weight":"bold"}:"out"==t.vehicleType?t.highlight?{color:"#6dcff6","font-weight":"bold"}:{color:"red"}:t.status&&3!=t.status?{color:"#45a541"}:t.highlight?{color:"#6dcff6","font-weight":"bold"}:{color:"#333","font-weight":"normal"}}},function(e,t){!function(e){function t(e,t){this.elem=e,this.set=t}t.prototype={addAnimation:function(){switch(this.set.animation){case"none":break;case"fadeIn":this.obj.addClass("animated fadeIn");break;case"flipIn":switch(this.set.gravity){case"top":this.obj.addClass("animated flipInTop");break;case"bottom":this.obj.addClass("animated flipInBottom");break;case"left":this.obj.addClass("animated flipInLeft");break;case"right":this.obj.addClass("animated flipInRight")}break;case"moveInLeft":this.obj.addClass("animated moveLeft");break;case"moveInTop":this.obj.addClass("animated moveTop");break;case"moveInBottom":this.obj.addClass("animated moveBottom");break;case"moveInRight":this.obj.addClass("animated moveRight")}},close:function(){this.obj.remove(),this.set.onRemove&&this.set.onRemove.call(this)},setPosition:function(){var t={},n={x:this.elem.offset().left,y:this.elem.offset().top},i=this.elem.outerWidth(),a=this.elem.outerHeight(),r=n.x+i/2+this.obj.outerWidth()/2,o=n.x+i/2-this.obj.outerWidth()/2;switch(this.set.gravity){case"top":r>e(window).width()?(t={x:n.x+i-this.obj.outerWidth(),y:n.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i/2+"px")):o<0?(t={x:n.x,y:n.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i/2+"px")):t={x:n.x-(this.obj.outerWidth()-i)/2,y:n.y-this.obj.outerHeight()-this.set.distance};break;case"bottom":r>e(window).width()?(t={x:n.x+i-this.obj.outerWidth(),y:n.y+a+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i/2+"px")):o<0?(t={x:n.x,y:n.y+a+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i/2+"px")):t={x:n.x-(this.obj.outerWidth()-i)/2,y:n.y+a+this.set.distance};break;case"left":t={x:n.x-this.obj.outerWidth()-this.set.distance,y:n.y-(this.obj.outerHeight()-a)/2};break;case"right":t={x:n.x+i+this.set.distance,y:n.y-(this.obj.outerHeight()-a)/2}}this.obj.css({left:t.x+"px",top:t.y+"px"})},setEvent:function(){var t=this;"click"!=t.set.events&&"onclick"!=t.set.events||(t.obj.on("click",(function(e){e.stopPropagation()})),e(document).click((function(){t.close()}))),"mouseover"!=t.set.events&&"onmouseover"!=t.set.events&&"mouseenter"!=t.set.events||this.elem.on("mouseout, mouseleave",(function(){t.close()}))},setConfirmEvents:function(){var e=this,t=this.obj.find(".just-yes"),n=this.obj.find(".just-no");t.click((function(){1==e.set.onYes(e)&&e.close()})),n.click((function(){e.close(),e.set.onNo(e)}))},addConfirm:function(){this.obj.append("<div class='just-confirm'><button type='button' class='just-yes'>"+this.set.yes+"</button><button type='button' class='just-no'>"+this.set.no+"</button></div>"),this.setConfirmEvents()},setContent:function(){this.obj=e("<div id="+this.set.id+" class='just-tooltip "+this.set.theme+"'style='width:"+this.set.width+"'><div class='just-con'>"+this.set.contents+"</div><span class='just-"+this.set.gravity+"'></span></div>"),e("body").append(this.obj),this.setEvent(),this.addAnimation(),1==this.set.confirm&&this.addConfirm()},init:function(){var t=e(".just-tooltip");(t&&t.remove(),window.event)&&e.event.fix(event||window.event).stopPropagation();this.setContent(),this.setPosition();var n=this;e(window).resize((function(){n.setPosition()}))}},e.fn.justToolsTip=function(n){var i={height:"auto",width:"auto",contents:"",gravity:"top",theme:"",distance:10,events:"mouseover",animation:"none",confirm:!1,yes:"",no:"",onYes:function(){},onNo:function(){},onRemove:null};this.each((function(){(n=e.extend(i,n)).id=(new Date).getTime(),new t(e(this),n).init()}))}}(jQuery)},function(e,t,n){},function(e,t,n){var i,a,r;a=[n(13)],void 0===(r="function"==typeof(i=function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,a;return!n.settings.submitHandler||(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),a=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),void 0!==a&&a)}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)}))),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,n,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,n=e(this[0].form).validate(),this.each((function(){(t=n.element(this)&&t)||(i=i.concat(n.errorList))})),n.errorList=i),t},rules:function(t,n){var i,a,r,o,s,l,d=this[0];if(null!=d&&null!=d.form){if(t)switch(a=(i=e.data(d.form,"validator").settings).rules,r=e.validator.staticRules(d),t){case"add":e.extend(r,e.validator.normalizeRule(n)),delete r.messages,a[d.name]=r,n.messages&&(i.messages[d.name]=e.extend(i.messages[d.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),(function(t,n){l[n]=r[n],delete r[n],"required"===n&&e(d).removeAttr("aria-required")})),l):(delete a[d.name],r)}return(o=e.validator.normalizeRules(e.extend({},e.validator.classRules(d),e.validator.attributeRules(d),e.validator.dataRules(d),e.validator.staticRules(d)),d)).required&&(s=o.required,delete o.required,o=e.extend({required:s},o),e(d).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=e.extend(o,{remote:s})),o}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var n=e(t).val();return null!==n&&!!e.trim(""+n)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(void 0===n||(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,(function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return n}))}))),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,n=this.groups={};function i(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]);var n=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),a=n.settings;a[i]&&!e(this).is(a.ignore)&&a[i].call(n,this,t)}e.each(this.settings.groups,(function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,(function(e,i){n[i]=t}))})),t=this.settings.rules,e.each(t,(function(n,i){t[n]=e.validator.normalizeRule(i)})),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",i).on("click.validate","select, option, [type='radio'], [type='checkbox']",i),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,i,a=this.clean(t),r=this.validationTargetFor(a),o=this,s=!0;return void 0===r?delete this.invalid[a.name]:(this.prepareElement(r),this.currentElements=e(r),(i=this.groups[r.name])&&e.each(this.groups,(function(e,t){t===i&&e!==r.name&&(a=o.validationTargetFor(o.clean(o.findByName(e))))&&a.name in o.invalid&&(o.currentElements.push(a),s=o.check(a)&&s)})),n=!1!==this.check(r),s=s&&n,this.invalid[r.name]=!n,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),s},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,(function(e,t){return{message:e,element:n.findByName(t)[0]}})),this.successList=e.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||e(this).attr("name");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),null!=i&&(n[i]=!0,!0)}))},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(t){this.successList=[],"pending"!=t&&(this.errorList=[]),this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i,a=e(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":a.val():(n=t.hasAttribute("contenteditable")?a.text():a.val(),"file"===r?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(i=n.lastIndexOf("/"))>=0||(i=n.lastIndexOf("\\"))>=0?n.substr(i+1):n:"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,a,r=e(t).rules(),o=e.map(r,(function(e,t){return t})).length,s=!1,l=this.elementValue(t);if("function"==typeof r.normalizer){if("string"!=typeof(l=r.normalizer.call(t,l)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(i in r){a={method:i,parameters:r[i]};try{if("dependency-mismatch"===(n=e.validator.methods[i].call(this,l,t,a.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){"string"==typeof n&&(n={method:n});var i=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,n.parameters,t):a.test(i)&&(i=e.validator.format(i.replace(a,"{$1}"),n.parameters)),i},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map((function(){return this.element}))},showLabel:function(t,n){var i,a,r,o,s=this.errorsFor(t),l=this.idOrName(t),d=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(i=s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=s.attr("id"),d?d.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(d+=" "+r):d=r,e(t).attr("aria-describedby",d),(a=this.groups[t.name])&&(o=this,e.each(o.groups,(function(t,n){n===a&&e("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",s.attr("id"))}))))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),a="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(a=a+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,n){return!!e(t,n.form).length},function:function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return n="string"==typeof n&&n||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),(function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])})),n},normalizeAttributeRule:function(e,t,n,i){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[n]=i:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(t){var n,i,a={},r=e(t),o=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(""===(i=t.getAttribute(n))&&(i=!0),i=!!i):i=r.attr(n),this.normalizeAttributeRule(a,o,n,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var n,i,a={},r=e(t),o=t.getAttribute("type");for(n in e.validator.methods)i=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(a,o,n,i);return a},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,(function(i,a){if(!1!==a){if(a.param||a.depends){var r=!0;switch(typeof a.depends){case"string":r=!!e(a.depends,n.form).length;break;case"function":r=a.depends.call(n,n)}r?t[i]=void 0===a.param||a.param:(e.data(n.form,"validator").resetElements(e(n)),delete t[i])}}else delete t[i]})),e.each(t,(function(i,a){t[i]=e.isFunction(a)&&"normalizer"!==i?a(n):a})),e.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),e.each(["rangelength","range"],(function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))})),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),(function(){n[this]=!0})),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var a=e(n).val();return a&&a.length>0}return this.checkable(n)?this.getLength(t,n)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a>=i},maxlength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a<=i},rangelength:function(t,n,i){var a=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||a>=i[0]&&a<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,i){var a,r=e(n).attr("type"),o="Step attribute on input type "+r+" is not supported.",s=new RegExp("\\b"+r+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},d=function(e){return Math.round(e*Math.pow(10,a))},c=!0;if(r&&!s.test(["text","number","range"].join()))throw new Error(o);return a=l(i),(l(t)>a||d(t)%d(i)!=0)&&(c=!1),this.optional(n)||c},equalTo:function(t,n,i){var a=e(i);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){e(n).valid()})),t===a.val()},remote:function(t,n,i,a){if(this.optional(n))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var r,o,s,l=this.previousValue(n,a);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][a],this.settings.messages[n.name][a]=l.message,i="string"==typeof i&&{url:i}||i,s=e.param(e.extend({data:t},i.data)),l.old===s?l.valid:(l.old=s,r=this,this.startRequest(n),(o={})[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:r.currentForm,success:function(e){console.log(e);var i,o,s,d=!0===e||"true"===e;r.settings.messages[n.name][a]=l.originalMessage,d?(s=r.formSubmitted,r.resetInternals("pending"),r.toHide=r.errorsFor(n),r.formSubmitted=s,r.successList.push(n),r.invalid[n.name]=!1,r.showErrors()):(i={},o=e||r.defaultMessage(n,{method:a,parameters:t}),i[n.name]=l.message=o,r.invalid[n.name]=!0,r.showErrors(i)),l.valid=d,r.stopRequest(n,d)}},i)),"pending")}}});var t,n={};return e.ajaxPrefilter?e.ajaxPrefilter((function(e,t,i){var a=e.port;"abort"===e.mode&&(n[a]&&n[a].abort(),n[a]=i)})):(t=e.ajax,e.ajax=function(i){var a=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===a?(n[r]&&n[r].abort(),n[r]=t.apply(this,arguments),n[r]):t.apply(this,arguments)}),e})?i.apply(t,a):i)||(e.exports=r)},function(e,t){function n(e,t,n){return!!a(e)||!!new RegExp("^[0-9a-zA-Z--]{"+(null==t?2:t)+","+(null==n?20:n)+"}$").test(e.trim())}function a(e){return null==e||null==e||""==e}$((function(){jQuery.validator.addMethod("email",(function(e,t){return this.optional(t)||/^\s*$|^[\w.]+@\w+\.[a-z]+(\.[a-z]+)?/.test(e)}),""),jQuery.validator.addMethod("isIntEqZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||0==e)}),"0"),jQuery.validator.addMethod("isIntGtZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>0)}),"0"),jQuery.validator.addMethod("doubles",(function(e,t){if(9==e.length){var n=/^[0-9]/;return this.optional(t)||n.test(e)}if(18==e.length){n=/^[A-Z\d]{18}$/;return this.optional(t)||n.test(e)}return 0==e.length}),"(9)18()"),jQuery.validator.addMethod("isRegisterNumber",(function(e,t){return this.optional(t)||/^[a-zA-Z0-9-]{13}-[a-zA-Z0-9]/.test(e)}),""),jQuery.validator.addMethod("isABCNumber",(function(e,t){return""==e||/^[a-zA-Z0-9]/.test(e)}),""),jQuery.validator.addMethod("isMacAddress",(function(e,t){return""==e||/^([0-9a-fA-F]{2})(([/\s-][0-9a-fA-F]{2}){5})$/.test(e)}),"(0-9)(A-Fa-f)'-'1709-af-EA-AE-3C-AF"),jQuery.validator.addMethod("isRightNumber",(function(e,t){return this.optional(t)||/^[1-9]([0-9]*)$|^[0-9]$/.test(e)}),""),jQuery.validator.addMethod("isIntGteZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=0)}),"0"),jQuery.validator.addMethod("isInt1to120",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=1&&e<=120)}),"1120"),jQuery.validator.addMethod("isInt1to400",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=1&&e<=400)}),"1400"),jQuery.validator.addMethod("isInt1tov",(function(e,t,n){return/^[-\+]?\d+$/.test(e)?(e=parseInt(e),this.optional(t)||e>=1&&e<=n):null==e||""==e}),"1"),jQuery.validator.addMethod("isInt1to60",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=1&&e<=60)}),"160"),jQuery.validator.addMethod("isInt10to100",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=10&&e<=100)}),"10100"),jQuery.validator.addMethod("isInt1to10",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e>=1&&e<=10)}),"110"),jQuery.validator.addMethod("isInt1to24",(function(e,t){return!!/^[-\+]?\d/.test(e)&&(e=parseInt(e),this.optional(t)||e>=1&&e<=24)}),"124"),jQuery.validator.addMethod("isInt1to59",(function(e,t){return!!/^[-\+]?\d/.test(e)&&(e=parseInt(e),this.optional(t)||e>=0&&e<=59)}),"059"),jQuery.validator.addMethod("isIntNEqZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||0!=e)}),"0"),jQuery.validator.addMethod("isIntLtZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e<0)}),"0"),jQuery.validator.addMethod("isIntLteZero",(function(e,t){return!!/^[-\+]?\d+$/.test(e)&&(e=parseInt(e),this.optional(t)||e<=0)}),"0"),jQuery.validator.addMethod("isFloatEqZero",(function(e,t){return e=parseFloat(e),this.optional(t)||0==e}),"0"),jQuery.validator.addMethod("isFloatGtZero",(function(e,t){return e=parseFloat(e),this.optional(t)||e>0}),"0"),jQuery.validator.addMethod("isFloatGteZero",(function(e,t){return e=parseFloat(e),this.optional(t)||e>=0}),"0"),jQuery.validator.addMethod("isFloatNEqZero",(function(e,t){return e=parseFloat(e),this.optional(t)||0!=e}),"0"),jQuery.validator.addMethod("isFloatLtZero",(function(e,t){return e=parseFloat(e),this.optional(t)||e<0}),"0"),jQuery.validator.addMethod("isFloatLteZero",(function(e,t){return e=parseFloat(e),this.optional(t)||e<=0}),"0"),jQuery.validator.addMethod("isFloat",(function(e,t){return this.optional(t)||/^[-\+]?\d+(\.\d+)?$/.test(e)}),""),jQuery.validator.addMethod("isDecimal",(function(e,t){return this.optional(t)||/^0\.\d+$/.test(e)}),"0-1"),jQuery.validator.addMethod("isInteger",(function(e,t){return this.optional(t)||/^[-\+]?\d+$/.test(e)&&parseInt(e)>=0}),"integer"),jQuery.validator.addMethod("isNumber",(function(e,t){return this.optional(t)||/^[-\+]?\d+$/.test(e)||/^[-\+]?\d+(\.\d+)?$/.test(e)}),""),jQuery.validator.addMethod("isDigits",(function(e,t){return this.optional(t)||/^\d+$/.test(e)}),"0-9"),jQuery.validator.addMethod("isChinese",(function(e,t){return this.optional(t)||/^[\u0391-\uFFE5]+$/.test(e)}),""),jQuery.validator.addMethod("isEnglish",(function(e,t){return this.optional(t)||/^[A-Za-z]+$/.test(e)}),""),jQuery.validator.addMethod("isMobile",(function(e,t){var n=e.length;return this.optional(t)||11==n&&/^((13[0-9]{1})|(14[5,7,9]{1})|(15[^4]{1})|(166)|(18[0-9]{1})|(19[8-9]{1})|(17[0,1,3,5,6,7,8]{1}))+\d{8}$/.test(e)}),""),jQuery.validator.addMethod("isPhone",(function(e,t){return this.optional(t)||/^(\d{3,4}-?)?\d{7,9}$/g.test(e)}),""),jQuery.validator.addMethod("mobilePhone",(function(e,t){var n=e.length;return this.optional(t)||11==n&&/^((13[0-9]{1})|(14[5,7,9]{1})|(15[^4]{1})|(166)|(18[0-9]{1})|(19[8-9]{1})|(17[0,1,3,5,6,7,8]{1}))+\d{8}$/.test(e)}),""),jQuery.validator.addMethod("isTel",(function(e,t){var n=e.length;return this.optional(t)||/^(\d{3}-\d{8}|\d{4}-\d{7,8}|\d{7,13})?$/.test(e)||11==n&&/^((13[0-9]{1})|(14[5,7,9]{1})|(15[^4]{1})|(166)|(18[0-9]{1})|(19[8-9]{1})|(17[0,1,3,5,6,7,8]{1}))+\d{8}$/.test(e)}),""),jQuery.validator.addMethod("isNewTel",(function(e,t){var n=e.length;return this.optional(t)||/^(\d{3}-\d{8}|\d{4}-\d{7,8}|\d{7,20})?$/.test(e)||11==n&&/^((13[0-9]{1})|(14[5,7,9]{1})|(15[^4]{1})|(166)|(18[0-9]{1})|(19[8-9]{1})|(17[0,1,3,5,6,7,8]{1}))+\d{8}$/.test(e)}),"7-20"),jQuery.validator.addMethod("isSim",(function(e,t){e.length;return this.optional(t)||/^\d{7,20}$/g.test(e)}),"7~20"),jQuery.validator.addMethod("isNewSim",(function(e,t){return this.optional(t)||/^\d{7,20}$/g.test(e)}),"7~20"),jQuery.validator.addMethod("isIntercomSim",(function(e,t){return!(e.length>0&&"0"==e.substr(0,1))}),"SIM0"),jQuery.validator.addMethod("isQq",(function(e,t){return this.optional(t)||/^[1-9]\d{4,12}$/}),"QQ"),jQuery.validator.addMethod("isZipCode",(function(e,t){return this.optional(t)||/^[0-9]{6}$/.test(e)}),""),jQuery.validator.addMethod("isPwd",(function(e,t){return this.optional(t)||/^[a-zA-Z]\\w{6,12}$/.test(e)}),"6-12"),jQuery.validator.addMethod("isIdCardNo",(function(e,t){return this.optional(t)||(15===(n=e).length||18===n.length)&&new RegExp(/(^\d{6}(18|19|20)\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|[xX])$)|(^\d{8}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}$)/).test(n);var n}),""),jQuery.validator.addMethod("ip",(function(e,t){return this.optional(t)||/^(([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/.test(e)}),"IP"),jQuery.validator.addMethod("batchIp",(function(e,t){for(var n=e.split("#"),i=/^(([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.)(([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))\.){2}([0-9]|([1-9]\d)|(1\d\d)|(2([0-4]\d|5[0-5])))$/,a=0;a<n.length;a++)if(!i.test(n[a]))return!1;return!0}),""),jQuery.validator.addMethod("stringCheck",(function(e,t){return this.optional(t)||/^[a-zA-Z0-9\u4e00-\u9fa5-_]+$/.test(e)}),""),jQuery.validator.addMethod("fuelType",(function(e,t){return this.optional(t)||/^[a-zA-Z0-9\u4e00-\u9fa5-#~]+$/.test(e)}),"#~"),jQuery.validator.addMethod("zysCheck",(function(e,t){return this.optional(t)||/^[a-zA-Z0-9\u4e00-\u9fa5]+$/.test(e)}),""),jQuery.validator.addMethod("isCE",(function(e,t){return this.optional(t)||/^[a-zA-Z\u4e00-\u9fa5]$/.test(e)}),""),jQuery.validator.addMethod("isEnglish",(function(e,t){return this.optional(t)||/^[A-Za-z]+$/.test(e)}),"english"),jQuery.validator.addMethod("isChinese",(function(e,t){return this.optional(t)||/^[\u4e00-\u9fa5]+$/.test(e)}),""),jQuery.validator.addMethod("isChineseChar",(function(e,t){return this.optional(t)||/^[\u0391-\uFFE5]+$/.test(e)}),"() "),jQuery.validator.addMethod("isRightfulString",(function(e,t){return this.optional(t)||/^[A-Za-z0-9_-]+$/.test(e)}),"(a-zA-Z0-9-_)"),jQuery.validator.addMethod("isRightfulString_oilBoxType",(function(e,t){return this.optional(t)||/^[A-Za-z0-9_.\(\)\\\*\u4e00-\u9fa5\-]+$/.test(e)}),"(-_*)"),jQuery.validator.addMethod("isRightSensorModel",(function(e,t){return this.optional(t)||/^[A-Za-z0-9_#\*\u4e00-\u9fa5\-]+$/.test(e)}),"*-_#"),jQuery.validator.addMethod("isRightfulString_workhourSensorType",(function(e,t){return this.optional(t)||/^[A-Za-z0-9-+]+$/.test(e)}),"(-+)"),jQuery.validator.addMethod("isRightfulStr",(function(e,t){return this.optional(t)||/^[A-Za-z0-9]+$/.test(e)}),""),jQuery.validator.addMethod("devicePwd",(function(e,t){return this.optional(t)||/^[A-Za-z0-9]{8}$/.test(e)}),",8"),jQuery.validator.addMethod("isContainsSpecialChar",(function(e,t){var n=RegExp(/[(\ )(\`)(\~)(\!)(\@)(\#)(\$)(\%)(\^)(\&)(\*)(\()(\))(\+)(\=)(\|)(\{)(\})(\')(\:)(\;)(\')(',)(\[)(\])(\.)(\<)(\>)(\/)(\?)(\~)(\)(\@)(\#)(\)(\%)(\)(\&)(\*)(\)(\)(\)(\+)(\|)(\{)(\})(\)(\)(\)(\)(\)(\)(\)(\)(\)(\)(\)(\)]+/);return this.optional(t)||!n.test(e)}),""),jQuery.validator.addMethod("speedLimitCompare",(function(e,t){var n=$(t).closest(".tab-pane").find(".speedLimit").val();return""==n&&""==e||""!=n&&""!=e&&!(Number(n)>=Number(e))}),"")})),jQuery.validator.addMethod("compareDate",(function(e,t,n){var i=e,a=jQuery(n).val(),r=new RegExp("-","g");return i=i.replace(r,"/"),a=a.replace(r,"/"),i=new Date(parseInt(Date.parse(i),10)),!((a=new Date(parseInt(Date.parse(a),10)))>i)}),"<font color='#E47068'></font>"),jQuery.validator.addMethod("compareDateCanNull",(function(e,t,n){var i=e,r=jQuery(n).val();if(a(i)||a(r))return!0;var o=new RegExp("-","g");return i=i.replace(o,"/"),r=r.replace(o,"/"),i=new Date(parseInt(Date.parse(i),10)),!((r=new Date(parseInt(Date.parse(r),10)))>i)}),"<font color='#E47068'></font>"),jQuery.validator.addMethod("compareTime",(function(e,t,n){var i="2016-01-01 "+e,a="2016-01-01 "+jQuery(n).val(),r=new RegExp("-","g");return i=i.replace(r,"/"),a=a.replace(r,"/"),i=new Date(parseInt(Date.parse(i),10)),!((a=new Date(parseInt(Date.parse(a),10)))>i)}),"<font color='#E47068'></font>"),jQuery.validator.addMethod("compareDateDiff",(function(e,t,n){var i,a,r,o,s=e,l=jQuery(n).val();return i=s.substring(0,10),a=l.substring(0,10),r=new Date(i),o=new Date(a),!(parseInt(Math.abs(r-o)/1e3/60/60/24)>=7)}),"<font color='#E47068'></font>"),jQuery.validator.addMethod("isContainsNumberAndPoint",(function(e,t,n){return this.optional(t)||/^[0-9.]+$/.test(e)}),"."),jQuery.validator.addMethod("selectDate",(function(e,t){return this.optional(t)||function(e){var t=e,n=(new Date).toLocaleDateString(),i=new RegExp(/[-\u4E00-\u9FA5\uF900-\uFA2D]/g),a=t.replace(i,"/"),r=new Date(n.replace(i,"/")),o=new Date(a),s=r.getTime();return o.getTime()-s>=0}(e)}),""),jQuery.validator.addMethod("selectRegDate",(function(e,t){return this.optional(t)||function(e){var t=e,n=(new Date).toLocaleDateString(),i=new RegExp(/[-\u4E00-\u9FA5\uF900-\uFA2D]/g),a=t.replace(i,"/"),r=new Date(n.replace(i,"/")),o=new Date(a),s=r.getTime(),l=o.getTime();return s-l>=0}(e)}),"/"),jQuery.validator.addMethod("decimalTwo",(function(e,t){return this.optional(t)||/^[0-9]+([.]{1}[0-9]{1,2})?$/.test(e)}),"0.01"),jQuery.validator.addMethod("decimalOne",(function(e,t){return this.optional(t)||/^(?:0\.\d|[1-9][0-9]{0,9}|[1-9][0-9]{0,7}\.\d)$/.test(e)}),"0.1"),jQuery.validator.addMethod("decimalOneMore",(function(e,t){return this.optional(t)||/^(?:0\.\d|[1-9][0-9]*|[1-9][0-9]*\.\d)$/.test(e)}),"0.1"),jQuery.validator.addMethod("decimalFour",(function(e,t){return this.optional(t)||/^(?:0\.\d|\d[0-9]{0,3}|[1-9][0-9]{0,3}\.\d)$/.test(e)}),"0.1"),jQuery.validator.addMethod("decimalThree",(function(e,t){return this.optional(t)||/^(?:0\.\d|\d[0-9]{0,2}|[1-9][0-9]{0,2}\.\d)$/.test(e)}),"0.1"),jQuery.validator.addMethod("decimalSeven",(function(e,t){return this.optional(t)||/^(?:0\.\d|\d[0-9]{0,6}|[1-9][0-9]{0,6}\.\d)$/.test(e)}),"0.1"),jQuery.validator.addMethod("isLandline",(function(e,t){return this.optional(t)||/^(\d{3}-\d{8}|\d{4}-\d{7,8}|\d{7,13})?$/.test(e)}),""),jQuery.validator.addMethod("isBrand",(function(e,t){return function(e){if(/^[0-9a-zA-Z\u4e00-\u9fa5-]{2,20}$/.test(e.trim()))return!0;return!1}(e)}),"2-20"),jQuery.validator.addMethod("isBrandCanNull",(function(e,t){return n(e)}),"2-20"),jQuery.validator.addMethod("isJobNameCanNull",(function(e,t){return n(e,1,20)}),"1-20"),jQuery.validator.addMethod("isfenceName",(function(e,t){return!!/^[0-9a-zA-Z\u4e00-\u9fa5-]{1,20}$/.test(e.trim())}),"1-20"),jQuery.validator.addMethod("isGroupRequired",(function(e,t,n){return"true"!=n||!!e}),"<font color='#E47068'></font>"),jQuery.validator.addMethod("isFloatAndGtZero",(function(e,t){return this.optional(t)||/^(?:[1-9]\d*|0)(?:\.\d+)?$/.test(e)&&e>0}),""),jQuery.validator.addMethod("minSize",(function(e,t,n){var i=!0;return t.value.replace(/[\u4E00-\u9FA5]/g,"aa").length<n&&(i=!1),i}),""),jQuery.validator.addMethod("maxSize",(function(e,t,n){var i=!0;return t.value.replace(/[\u4E00-\u9FA5]/g,"aa").length>n&&(i=!1),i}),""),jQuery.validator.addMethod("assignmentLimit100",(function(e,t,n){var i=!1;return json_ajax("POST","/clbs/m/basicinfo/enterprise/assignment/assignCountLimit",null,!1,{group:$(n).val()},(function(e){null!=e&&null!=e&&""!=e&&(i="true"===e)})),i}),""),jQuery.validator.addMethod("zTreeChecked",(function(e,t,n){for(var i=$.fn.zTree.getZTreeObj(n).getCheckedNodes(!0),a="",r=0,o=i.length;r<o;r++)"vehicle"!=i[r].type&&"people"!=i[r].type&&"thing"!=i[r].type||(a+=i[r].name+",");return!!a}),""),jQuery.validator.addMethod("zTreeCheckGroup",(function(e,t,n){for(var i=$.fn.zTree.getZTreeObj(n).getCheckedNodes(!0),a=!1,r=0,o=i.length;r<o;r++)if("group"==i[r].type){a=!0;break}return a}),""),jQuery.validator.addMethod("zTreePeopleChecked",(function(e,t,n){for(var i=$.fn.zTree.getZTreeObj(n).getCheckedNodes(!0),a="",r=0,o=i.length;r<o;r++)"user"==i[r].type&&(a+=i[r].name+",");return!!a}),""),jQuery.validator.addMethod("timeNotNull",(function(e,t,n){return null==$(n).val()||""==$(n).val()||null!=e&&""!=e}),""),jQuery.validator.addMethod("checkDeviceNumber",(function(e,t,n){return this.optional(t)||/^[0-9a-zA-Z]{7,30}$/.test(e)}),""),jQuery.validator.addMethod("checkNewDeviceNumber",(function(e,t,n){return this.optional(t)||/^[0-9a-zA-Z]{7,30}$/.test(e)}),""),jQuery.validator.addMethod("checkPeopleName",(function(e,t,n){return!!/^[A-Za-z\u4e00-\u9fa5]{0,8}$/.test(e)}),"8"),jQuery.validator.addMethod("checkRightPeopleNumber",(function(e,t,n){return!!/^[A-Za-z0-9\u4e00-\u9fa5_-]+$/.test(e)}),""),jQuery.validator.addMethod("isLngLat",(function(e,t,n){var i=e;if(-1!=i.indexOf(",")){var a=i.split(",");return Number(a[0])>73.66&&Number(a[0])<135.05&&Number(a[1])>3.86&&Number(a[1])<53.55}return!1}),""),jQuery.validator.addMethod("isLng",(function(e,t,n){var i=e;return""!=i&&(Number(i)>73.66&&Number(i)<135.05)}),""),jQuery.validator.addMethod("isLat",(function(e,t,n){var i=e;return""!=i&&(Number(i)>3.86&&Number(i)<53.55)}),""),jQuery.validator.addMethod("isCN",(function(e,t){return this.optional(t)||/^[a-zA-Z\u4e00-\u9fa5]+$/.test(e)}),""),jQuery.validator.addMethod("checkRequiteTime",(function(e,t,n){return 9==n||null!=e&&""!=e}),""),jQuery.validator.addMethod("checkLocationTimes",(function(e,t,n){var a=document.getElementsByName("locationTimes");for(i=0;i<a.length;i++)if(a[i].value)return!0;return!1}),""),jQuery.validator.addMethod("isCheckedRequested",(function(e,t,n){return!$(n).is(":checked")||null!=e&&null!=e&&""!=e}),""),jQuery.validator.addMethod("isCheckedNumber",(function(e,t,n){var i=n.split(",");if($(i[0]).is(":checked")){if(!/^[0-9]+$/.test(e)||Number(e)>Number(i[2])||Number(e)<Number(i[1]))return!1}return!0}),""),jQuery.validator.addMethod("isCheckedNumber2",(function(e,t,n){var i=n.split(",");if($(i[0]).is(":checked")){return Number(e)<=Number(i[2])&&Number(e)>=Number(i[1])}return!0}),""),jQuery.validator.addMethod("isCheckedRequested2",(function(e,t,n){var i=n.split(","),a=$(i[0]).is(":checked"),r=$(i[1]).val();return!a||"1"!=r||null!=e&&null!=e&&""!=e}),""),jQuery.validator.addMethod("isCheckedtime",(function(e,t,n){var i=n.split(","),a=$(i[0]).is(":checked"),r=$(i[1]).val(),o=$(i[2]).val(),s=$(i[3]).val();return!a||"1"!=r||!function(e,t){var n=e.split(":"),i=3600*parseInt(n[0])+60*parseInt(n[1]),a=t.split(":"),r=3600*parseInt(a[0])+60*parseInt(a[1]);return i-r>=0}(o,s)}),""),jQuery.validator.addMethod("checkCAENumber",(function(e,t,n){var i,a=n.split(","),r=a[0],o=a[1],s=a[2];switch(r){case"1":i="[a-zA-Z0-9-]";break;case"2":i="[a-zA-Z-]";break;case"3":i="[0-9-]";break;case"4":i="[a-zA-Z0-9]";break;case"5":i="[-]";break;case"6":i="[a-zA-Z]";break;case"7":i="[0-9]";break;case"8":i="[a-zA-Z0-9.]";break;default:return!1}return!!new RegExp("^"+i+"{"+o+","+s+"}$").test(e)}),""),jQuery.validator.addMethod("checkVersion",(function(e,t,n){return!!/^(25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9])(\.(25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9])){0,2}$/.test(e)}),""),jQuery.validator.addMethod("checkICCID",(function(e,t,n){return!(!/^[A-Z0-9]{20}$/.test(e)&&""!=e)}),"20"),jQuery.validator.addMethod("intercomTerminalNo",(function(e,t,n){return/^[A-Z0-9]{7}$/.test(e)}),"7"),jQuery.validator.addMethod("check16",(function(e,t,n){var i=parseInt(e,16);return!(isNaN(i)||!/^0x[A-F0-9]{8}$/.test(e))&&(i>=parseInt("0x00000000",16)&&i<=parseInt("0xFFFFFFFF",16))}),"100x00000000~0xFFFFFFFF"),jQuery.validator.addMethod("equalToDefault",(function(e,t,n){return""!=e}),"(IC)"),jQuery.validator.addMethod("repeatEndCheck",(function(e,t,n){for(var i=!0,a=$(".startTime").length,r=t.id,o=parseInt(r.substr(r.length-1),10),s=$("#endTime"+o).val(),l=0;l<a;l++)if(l<o){var d=$(".endTime").eq(l).val(),c=$(".startTime").eq(l).val();if(!d||!c||$(".startTime").eq(l).attr("id")==t.id)continue;if(!(e>=d||s<=c)){i=!1;break}i=!0}return i}),","),jQuery.validator.addMethod("compareDates",(function(e,t,n){var i=t.id,a=parseInt(i.substr(i.length-1),10);return e>$("#startTime"+a).val()}),""),jQuery.validator.addMethod("monitorForDispatch",(function(e,t){return this.optional(t)||/^[a-zA-Z\u4e00-\u9fa50-9\-]{2,20}$/.test(e)})," 2-20 "),jQuery.validator.addMethod("originalModelId",(function(e,t){var n=$(t).parent().find("#index").val();return n||$(t).val(""),!!n})," 2-20 "),jQuery.validator.addMethod("isRange24",(function(e,t){var n=e.split("--"),i=new Date(n[0]).getTime(),a=new Date(n[1]).getTime();return Math.abs(a-i)/3600/1e3<=24}),"24"),jQuery.validator.addMethod("isDateTimeCompare",(function(e,t){var n=e.split("--");return new Date(n[0]).getTime()<new Date(n[1]).getTime()}),"")},function(e,t){(function(){$.fn.dateRangePicker=function(e){return function(e,t){var n,i,a,r,o,s,l,d,c,u,h,p,f,m=!1,g=new Date,v=new Date,y=!1,b={start_date:"",end_date:"",startdate:"",enddate:"",start_time:"00:00:00",end_time:"23:59:59",isShowHMS:!0,type:"before",timeSelect:"1",isTimeLineClick:!1,element:"#inquireClick",imgsrc:"",imgsrchover:"",blTimeUpdate:!1,brTimeUpdate:!1};return n=jQuery,u=["7","30","90","180","360",""],h=["30","60","1","2","3",""],a=["","","","","","",""],o=["01","02","03","04","05","06","07","08","09","10","11","12"],'<div class="drp-popup">\n  <div class="drp-timeline">\n    <ul class="drp-timeline-presets"></ul>\n    <div class="drp-timeline-bar"></div>\n  </div>\n  <div class="drp-calendars">\n    <div class="drp-calendar drp-calendar-start">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'> <div class=" col-md-5 drp-calendar-date-text">:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'> \n   </div>\n </div>\n    <div class="drp-calendar-separator"></div>\n    <div class="drp-calendar drp-calendar-end">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n     <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'><div class=\'col-md-5 drp-calendar-date-text\'>:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'>\n  </div>\n  </div>\n  </div>\n  <div class="drp-tip">\n</div><div id=\'timepikerdiv\' style=\'height:40px;position: relative;top: 37px;border-top:1px solid #e0e0e0;padding-top:10px\' class=\'col-md-12\'><div id=\'timepiker\'  type=\'button\' class=\'col-md-offset-9 col-md-1\'></div><button type=\'button\' class=\'col-md-1\' id=\'savebutton\' value=\'\' style=\'margin-left:20px\' ></button></div>','<div class="drp-popup">\n  <div class="drp-timeline">\n    <ul class="drp-timeline-presets"></ul>\n    <div class="drp-timeline-bar"></div>\n  </div>\n  <div class="drp-calendars">\n    <div class="drp-calendar drp-calendar-start">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'> <div class=" col-md-5 drp-calendar-date-text">:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'> \n   </div>\n </div>\n    <div class="drp-calendar-separator"></div>\n    <div class="drp-calendar drp-calendar-end">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n     <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'><div class=\'col-md-5 drp-calendar-date-text\'>:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'>\n  </div>\n  </div>\n  </div>\n  <div class="drp-tip">\n</div><div id=\'timepikerdiv\' style=\'height:40px;position: relative;top: 37px;border-top:1px solid #e0e0e0;padding-top:10px\' class=\'col-md-12\'><button type=\'button\' class=\'col-md-offset-10 col-md-1\' id=\'savebutton\' value=\'\'></button></div>',r=function(){function e(e,t){b=n.extend({},b,t),this.$select=e,b.isShowHMS?this.$dateRangePicker=n('<div class="drp-popup">\n  <div class="drp-timeline">\n    <ul class="drp-timeline-presets"></ul>\n    <div class="drp-timeline-bar"></div>\n  </div>\n  <div class="drp-calendars">\n    <div class="drp-calendar drp-calendar-start">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'> <div class=" col-md-5 drp-calendar-date-text">:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'> \n   </div>\n </div>\n    <div class="drp-calendar-separator"></div>\n    <div class="drp-calendar drp-calendar-end">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n     <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'><div class=\'col-md-5 drp-calendar-date-text\'>:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'>\n  </div>\n  </div>\n  </div>\n  <div class="drp-tip">\n</div><div id=\'timepikerdiv\' style=\'height:40px;position: relative;top: 37px;border-top:1px solid #e0e0e0;padding-top:10px\' class=\'col-md-12\'><div id=\'timepiker\'  type=\'button\' class=\'col-md-offset-9 col-md-1\'></div><button type=\'button\' class=\'col-md-1\' id=\'savebutton\' value=\'\' style=\'margin-left:20px\' ></button></div>'):this.$dateRangePicker=n('<div class="drp-popup">\n  <div class="drp-timeline">\n    <ul class="drp-timeline-presets"></ul>\n    <div class="drp-timeline-bar"></div>\n  </div>\n  <div class="drp-calendars">\n    <div class="drp-calendar drp-calendar-start">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'> <div class=" col-md-5 drp-calendar-date-text">:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'> \n   </div>\n </div>\n    <div class="drp-calendar-separator"></div>\n    <div class="drp-calendar drp-calendar-end">\n      <div class="drp-month-picker">\n        <div class="drp-arrow"><</div>\n        <div class="drp-month-title"></div>\n        <div class="drp-arrow drp-arrow-right">></div>\n      </div>\n      <ul class="drp-day-headers"></ul>\n      <ul class="drp-days"></ul>\n     <div class=\'col-md-12\' style=\'top:41px;height: 18px;line-height: 18px;\'><div class=\'col-md-5 drp-calendar-date-text\'>:</div> <input class="drp-calendar-date col-md-7" style=\'border: none;background-color: #fff;box-shadow: none;padding-left:0px;\'>\n  </div>\n  </div>\n  </div>\n  <div class="drp-tip">\n</div><div id=\'timepikerdiv\' style=\'height:40px;position: relative;top: 37px;border-top:1px solid #e0e0e0;padding-top:10px\' class=\'col-md-12\'><button type=\'button\' class=\'col-md-offset-10 col-md-1\' id=\'savebutton\' value=\'\'></button></div>'),n("body").after(this.$dateRangePicker),this.isHidden=!0,this.customOptionIndex=this.$select[0].length-1,this.initBindings(),this.setRange(b.timeSelect,"init"),null==b.imgsrc||""==b.imgsrc||(this.$dateRangePicker.find("#savebutton").css("background-image",b.imgsrc),this.$dateRangePicker.find("#savebutton").on("mouseover",(function(){n(this).css("background-image",b.imgsrc)})))}return e.prototype.initBindings=function(){var e,t;e=this,this.$select.on("focus mousedown",(function(e){})),this.$dateRangePicker.click((function(e){return e.stopPropagation()})),n("body").click((function(i){if(i.target===e.$select[0]&&e.isHidden){var a=i.target.value.split("--"),r=a[0].split(" "),o=a[1].split(" ");b.start_time=r[1],b.end_time=o[1],b.start_date=r[0],b.end_date=o[0];var s=new Date(a[0].replace(/\-/g,"/")).getTime(),l=new Date(a[1].replace(/\-/g,"/")).getTime(),d=Math.ceil((l-s)/1e3/24/60/60);e.setRange(d),e.show();var c=/^(?:19|20)[0-9][0-9]-(?:(?:0[1-9])|(?:1[0-2]))-(?:(?:[0-2][1-9])|(?:[1-3][0-1])) (?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;t=new f(e),e.$dateRangePicker.find(".drp-calendar-date").on("focus",(function(){n(this).attr("time",n(this).val())})),e.$dateRangePicker.find("#timepiker").on("click",(function(){n(this).parent().before(t.element),t.show(this,e),t.hidden=!1,t.element.find("layui-laydate").css({position:"relative",top:"100px"})})),e.$dateRangePicker.find(".drp-calendar-date").each((function(){n(this).on("change",(function(){var t=c.test(n(this).val()),i=e.$dateRangePicker.find(".drp-calendar-date").eq(0).val(),a=e.$dateRangePicker.find(".drp-calendar-date").eq(1).val();if(i=new Date(i),a=new Date(a),i.getTime()>a.getTime())return n(this).val(n(this).attr("time")),void layer.msg("");if(t){if(b.dateLimit&&e.datedifference(i,a)>b.dateLimit)return n(this).val(n(this).attr("time")),layer.msg(""+b.dateLimit+""),!1;if(b.isOffLineReportFlag){var r=b.nowDate+" 23:59:59";if(r=new Date(r),i.getTime()>r.getTime()||a.getTime()>r.getTime())return n(this).val(n(this).attr("time")),!1}e.$select.val(e.$dateRangePicker.find(".drp-calendar-date").eq(0).val()+"--"+e.$dateRangePicker.find(".drp-calendar-date").eq(1).val());var o=e.$select.val().split("--"),s=o[0].split(" "),l=o[1].split(" ");b.start_time=s[1],b.end_time=l[1],b.start_date=s[0],b.end_date=l[0],g=new Date(o[0].replace(/-/g,"/")),v=new Date(o[1].replace(/-/g,"/"));var d=new Date(o[0].replace(/\-/g,"/")).getTime(),u=new Date(o[1].replace(/\-/g,"/")).getTime(),h=Math.ceil((u-d)/1e3/24/60/60);e.setRange(h),e.showCustomDate()}else n(this).val(n(this).attr("time"))}))})),e.$dateRangePicker.children().find("#savebutton").unbind().on("click",(function(){if(b.dateLimit){var i=e.$select.val().split("--"),a=i[0],r=i[1];if(e.datedifference(a,r)>b.dateLimit)return void layer.msg(""+b.dateLimit+"")}return e.hide(),b.inquireBtn?n(b.inquireBtn).trigger("click"):"#inquireClick"==b.element?n("#inquireClick").trigger("click"):"#trackPlayQuery"==b.element?n("#trackPlayQuery").trigger("click"):n(b.element).trigger("click"),t.element.remove(),t=new f(e)}))}else if(!e.isHidden){if("layui-layer-content"==i.target.className)return;return t.element&&t.element.remove(),e.hide()}}));var i,a=b.timeSelect,r=b.type;"before"==r?i=u:"after"==r&&(i=h),-1==i.indexOf(a)&&(a="");for(var o=0;o<i.length;o++)e.$dateRangePicker.find(".drp-timeline-presets").append(n("<li class='"+(-1!=i[o].indexOf(a)?"drp-selected":"")+"'>"+i[o]+"<div class='drp-button'></div></li>"));return this.$dateRangePicker.find(".drp-timeline-presets li").click((function(t){var i;if(b.start_date="",b.end_date="",b.isTimeLineClick=!0,!(b.dateLimit&&b.dateLimit<e.number(n(this).index())))return n(this).addClass("drp-selected").siblings().removeClass("drp-selected"),i=n(this).index(),e.$select[0].selectedIndex=i,e.setRange(e.number(i)),i===e.customOptionIndex?e.showCustomDate():void 0;layer.msg(""+b.dateLimit+"")}))},e.prototype.number=function(e){var t;return"before"===b.type?(0==e&&(t=7),1==e&&(t=30),2==e&&(t=90),3==e&&(t=180),4==e&&(t=360)):"after"===b.type&&(0==e&&(t=30),1==e&&(t=60),2==e&&(t=365),3==e&&(t=730),4==e&&(t=1095)),t},e.prototype.hide=function(){return this.isHidden=!0,this.$dateRangePicker.hide()},e.prototype.show=function(){return this.isHidden=!1,this.$dateRangePicker.show()},e.prototype.showCustomDate=function(){var e;return this.$dateRangePicker.find(".drp-timeline-presets li:last-child").addClass("drp-selected").siblings().removeClass("drp-selected"),e=this.formatDate(this.startDate())+" - "+this.formatDate(this.endDate()),this.$select.find("option:last-child").text(e),this.$select[0].selectedIndex=this.customOptionIndex},e.prototype.formatDate=function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear().toString().substr(2,2)},e.prototype.setRange=function(e,t){var n,a;if(isNaN(e))return!1;var r=b.type;return""==b.start_date&&""==b.end_date?(e-=1,b.nowDate?(n=new Date(b.nowDate),a=new Date(b.nowDate)):(n=new Date,a=new Date),"before"==r?a.setDate(n.getDate()-e):"after"==r&&n.setDate(n.getDate()+e)):(e-=1,n=new Date(b.end_date.replace(/\-/g,"/")),a=new Date(b.start_date.replace(/\-/g,"/"))),b.nowDate&&"init"===t&&(a=new Date(b.nowDate),n=new Date(b.nowDate)),this.startCalendar=new i(this,this.$dateRangePicker.find(".drp-calendar:first-child"),a,!0),this.endCalendar=new i(this,this.$dateRangePicker.find(".drp-calendar:last-child"),n,!1),this.draw()},e.prototype.endDate=function(){return this.endCalendar.date},e.prototype.startDate=function(){return this.startCalendar.date},e.prototype.draw=function(){return this.startCalendar.draw(),this.endCalendar.draw()},e.prototype.setMaxSelectedDate=function(e,t,n){b.maxSelectedDate=n,this.$dateRangePicker.find(".drp-calendar-start .drp-calendar-date").val(e),this.$dateRangePicker.find(".drp-calendar-end .drp-calendar-date").val(t),this.setRange()},e.prototype.setMinSelectedDate=function(e,t,n){b.minSelectedDate=n,this.$dateRangePicker.find(".drp-calendar-start .drp-calendar-date").val(e),this.$dateRangePicker.find(".drp-calendar-end .drp-calendar-date").val(t),this.setRange()},e.prototype.datedifference=function(e,t){var n;return e=Date.parse(e),n=(t=Date.parse(t))-e,n=Math.abs(n),Math.floor(n/864e5)+1},e}(),i=function(){function e(e,t,i,a){var r;this.dateRangePicker=e,this.$calendar=t,this.date=i,this.isStartCalendar=a,r=this,this.date.setHours(0,0,0,0),this._visibleMonth=this.month(),this._visibleYear=this.year(),this.$title=this.$calendar.find(".drp-month-title"),this.$dayHeaders=this.$calendar.find(".drp-day-headers"),this.$days=this.$calendar.find(".drp-days"),this.$dateDisplay=this.$calendar.find(".drp-calendar-date"),t.find(".drp-arrow").click((function(e){return n(this).hasClass("drp-arrow-right")?r.showNextMonth():r.showPreviousMonth(),!1}))}return e.prototype.showPreviousMonth=function(){return 1===this._visibleMonth?(this._visibleMonth=12,this._visibleYear-=1):this._visibleMonth-=1,this.draw(!0)},e.prototype.showNextMonth=function(){return 12===this._visibleMonth?(this._visibleMonth=1,this._visibleYear+=1):this._visibleMonth+=1,this.draw(!0)},e.prototype.setDay=function(e){return this.setDate(this.visibleYear(),this.visibleMonth(),e),this.dateRangePicker.showCustomDate()},e.prototype.setDate=function(e,t,n){return this.date=new Date(e,t-1,n),this.$dateDisplay.parent().parent().hasClass("drp-calendar-start")?this.date&&(g=this.date):this.$dateDisplay.parent().parent().hasClass("drp-calendar-end")&&(this_time=b.end_time,this.date&&(v=this.date)),this.dateRangePicker.draw()},e.prototype.draw=function(e){var t,i,r;for(this.$dayHeaders.empty(),this.$title.text(this.nameOfMonth(this.visibleMonth())+" "+this.visibleYear()),i=0,r=a.length;i<r;i++)t=a[i],this.$dayHeaders.append(n("<li>"+t.substr(0,2)+"</li>"));!e&&this.drawDateDisplay();var o=this.dateRangePicker.$dateRangePicker.find(".drp-calendar-start .drp-calendar-date").val(),s=this.dateRangePicker.$dateRangePicker.find(".drp-calendar-end .drp-calendar-date").val();(b.dateLimit||this.dateRangePicker.$select.val(o+"--"+s),b.dateLimit&&y)&&(this.differentDaysByMillisecond(g,v)>b.dateLimit-1?(layer.msg(""+b.dateLimit+""),this.dateRangePicker.$dateRangePicker.find("#savebutton").attr("disabled",!0)):(this.dateRangePicker.$select.val(o+"--"+s),this.dateRangePicker.$dateRangePicker.find("#savebutton").attr("disabled",!1)));this.drawDays()},e.prototype.dateIsSelected=function(e){return e.getTime()===this.date.getTime()},e.prototype.dateIsSame=function(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return new Date(n+"/"+i+"/"+a).getTime()===e.getTime()},e.prototype.dateIsInRange=function(e){return e>=this.dateRangePicker.startDate()&&e<=this.dateRangePicker.endDate()},e.prototype.dayClass=function(e,t,n){var i,a;return a=new Date(this.visibleYear(),this.visibleMonth()-1,e),i="",this.dateIsSelected(a)?i+=" drp-day-selected":this.dateIsInRange(a)?(i+=" drp-day-in-range",a.getTime()===this.dateRangePicker.endDate().getTime()&&(i+=" drp-day-last-in-range")):this.isStartCalendar?a>this.dateRangePicker.endDate()&&(i+=" drp-day-disabled"):a<this.dateRangePicker.startDate()&&(i+=" drp-day-disabled"),b.isOffLineReportFlag&&(b.greater&&(b.nowDate=new Date),a>new Date(b.nowDate)&&(i+=" drp-day-disabled")),(e+t-1)%7!=0&&e!==n||(i+=" drp-day-last-in-row"),this.dateIsSame(a)&&(i+=" drp-day-highLight"),i},e.prototype.drawDays=function(){var e,t,i,a,r,o,u;for(a=this,this.$days.empty(),e=this.firstDayOfMonth(this.visibleMonth(),this.visibleYear()),i=this.daysInMonth(this.visibleMonth(),this.visibleYear()),t=r=1,u=e-1;r<=u;t=r+=1)this.$days.append(n("<li class='drp-day drp-day-empty'></li>"));for(t=o=1;o<=i;t=o+=1)this.$days.append(n("<li class='drp-day "+this.dayClass(t,e,i)+"'>"+t+"</li>"));this.$calendar.find(".drp-day").mousedown((function(e){b.isTimeLineClick=!1;var t=n(this);if(t.hasClass("drp-day-empty"))return!1;if(b.isShowHMS&&!t.hasClass("drp-day-disabled")){var i;p=parseInt(n(this).text(),10),m=!0,t.css("overflow","visible").append('<div class="at12"><div class="pointer"></div></div>'),d=t.find(".pointer"),s=e.pageX,l=e.pageY,t.parent().parent().hasClass("drp-calendar-start")?(i=b.start_time,c=0):t.parent().parent().hasClass("drp-calendar-end")&&(i=b.end_time,c=1),d.parent("div").parent("li").attr("data-settime",i);var a=i.split(":"),r=360/23*parseInt(a[0]);d.css({transform:"rotate("+(r-90)+"deg)"})}})).mouseup((function(e){var t;return m=!1,!n(this).hasClass("drp-day-disabled")&&(t=parseInt(n(this).text(),10),!isNaN(t)&&a.setDay(t))})),n(document).mousemove((function(e){if(m){var t=parseInt((e.pageY-l)/10),n=parseInt((e.pageX-s)/10);if(Math.abs(t)>1||Math.abs(n)>1){var i,a=e.pageX-s,r=l-e.pageY,o=90/Math.atan(1/0),u=Math.atan(a/r)*o;r<0&&a>0&&(u=180+u),r<0&&a<=0&&(u=180+u),r>=0&&a<0&&(u=360+u),0==c?i=b.start_time:1==c&&(i=b.end_time);for(var h,p,f,g=i.split(":"),v=0;v<g.length;v++)g[v]=parseInt(g[v]);Math.abs(t)>11||Math.abs(n)>11?(d.parent("div").attr("class","at36"),f=Math.round(59*u/360),g[2]=f):Math.abs(t)>5&&Math.abs(t)<12||Math.abs(n)>5&&Math.abs(n)<12?(d.parent("div").attr("class","at24"),p=Math.round(59*u/360),g[1]=p):(d.parent("div").attr("class","at12"),h=Math.round(23*u/360),g[0]=h);var y=(g[0]<10?"0"+g[0]:g[0])+":"+(g[1]<10?"0"+g[1]:g[1])+":"+(g[2]<10?"0"+g[2]:g[2]);0==c?b.start_time=y:1==c&&(b.end_time=y),d.parent("div").parent("li").attr("data-settime",y),d.css({transform:"rotate("+(u-90)+"deg)"})}}})).mouseup((function(){if(m)return m=!1,a.setDay(p)}))},e.prototype.differentDaysByMillisecond=function(e,t){return days=(t.getTime()-e.getTime())/864e5,Math.floor(days)},e.prototype.drawDateDisplay=function(){var e="";if(b.isShowHMS){if(this.$dateDisplay.parent().parent().hasClass("drp-calendar-start")){if(e=b.start_time,y=!1,this.dateRangePicker.formatDate(g).substring(0,11)==this.dateRangePicker.formatDate(v).substring(0,11)){if(this.changetime(b.start_time)>this.changetime(b.end_time)){layer.msg("");var t=new Date(this.$dateDisplay.val().replace(/-/g,"/"));return g=new Date(t),!1}var i=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e;t=new Date(i.replace(/-/g,"/"));return g=new Date(t),b.blTimeUpdate=!0,this.$dateDisplay.val([this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e)}var a=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e,r=n(".drp-calendar-end .drp-calendar-date").val();this.dateRangePicker.$dateRangePicker.find(".drp-calendar-start .drp-calendar-date").val(),this.dateRangePicker.$dateRangePicker.find(".drp-calendar-end .drp-calendar-date").val();if(this.changetime(a)>this.changetime(r))return layer.msg(""),!1;t=new Date(a.replace(/-/g,"/"));return g=new Date(t),b.blTimeUpdate=!0,this.$dateDisplay.val(a)}if(this.$dateDisplay.parent().parent().hasClass("drp-calendar-end")){if(e=b.end_time,y=!0,this.dateRangePicker.formatDate(g).substring(0,11)==this.dateRangePicker.formatDate(v).substring(0,11)){if(this.changetime(b.start_time)>this.changetime(b.end_time)){layer.msg("");t=new Date(this.$dateDisplay.val().replace(/-/g,"/"));return v=new Date(t),!1}var o=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e;t=new Date(o.replace(/-/g,"/"));return v=new Date(t),b.brTimeUpdate=!0,this.$dateDisplay.val([this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e)}a=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-")+" "+e,n(".drp-calendar-start .drp-calendar-date").val(),t=new Date(a.replace(/-/g,"/"));return v=new Date(t),b.brTimeUpdate=!0,this.$dateDisplay.val(a)}}else{if(this.$dateDisplay.parent().parent().hasClass("drp-calendar-start")){if(y=!1,this.dateRangePicker.formatDate(g).substring(0,11)==this.dateRangePicker.formatDate(v).substring(0,11)){i=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"),t=new Date(i.replace(/-/g,"/"));return g=new Date(t),b.blTimeUpdate=!0,this.$dateDisplay.val([this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"))}a=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"),r=n(".drp-calendar-end .drp-calendar-date").val(),this.dateRangePicker.$dateRangePicker.find(".drp-calendar-start .drp-calendar-date").val(),this.dateRangePicker.$dateRangePicker.find(".drp-calendar-end .drp-calendar-date").val();if(this.changetime(a)>this.changetime(r))return layer.msg(""),!1;t=new Date(a.replace(/-/g,"/"));return g=new Date(t),b.blTimeUpdate=!0,this.$dateDisplay.val(a)}if(this.$dateDisplay.parent().parent().hasClass("drp-calendar-end")){if(y=!0,this.dateRangePicker.formatDate(g).substring(0,11)==this.dateRangePicker.formatDate(v).substring(0,11)){o=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"),t=new Date(o.replace(/-/g,"/"));return v=new Date(t),b.brTimeUpdate=!0,this.$dateDisplay.val([this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"))}a=[this.year()<10?"0"+this.year():this.year(),this.month()<10?"0"+this.month():this.month(),this.day()<10?"0"+this.day():this.day()].join("-"),n(".drp-calendar-start .drp-calendar-date").val(),t=new Date(a.replace(/-/g,"/"));return v=new Date(t),b.brTimeUpdate=!0,this.$dateDisplay.val(a)}}},e.prototype.month=function(){return this.date.getMonth()+1},e.prototype.day=function(){return this.date.getDate()},e.prototype.dayOfWeek=function(){return this.date.getDay()+1},e.prototype.year=function(){return this.date.getFullYear()},e.prototype.visibleMonth=function(){return this._visibleMonth},e.prototype.visibleYear=function(){return this._visibleYear},e.prototype.nameOfMonth=function(e){return o[e-1]},e.prototype.firstDayOfMonth=function(e,t){return new Date(t,e-1,1).getDay()+1},e.prototype.daysInMonth=function(e,t){return e||(e=this.visibleMonth()),t||(t=this.visibleYear()),new Date(t,e,0).getDate()},e.prototype.changetime=function(e){if(-1!=e.indexOf("-"))return(e=new Date(e.replace("-","/"))).getTime();e=e.split(":");return 3600*parseInt(e[0])+60*parseInt(e[1])+parseInt(e[2])},e.prototype.datedifference=function(e,t){var n;return e=Date.parse(e),!((n=(t=Date.parse(t))-e)<0)&&Math.floor(n/864e5)+1},e}(),f=function(){function e(e){var t=this;function i(e,t,n){this.h=e,this.m=t,this.s=n}this.element=n('<div class=\'ui-laydate ui-laydate-range date-theme-molv\' style=\'border:1px solid #d2d2d2;height:325px\'><div class=\'ui-laydate-main date-main-list-0 date-time-show\' style=\'float:left\'><div class=\'ui-laydate-header\'><div class=\'date-set-ym\'><span class=\'date-time-text\'></span></div></div><div class=\'ui-laydate-content\' style=\'background-color:#fff;height:232px\'><ul class="ui-laydate-list date-time-list" style="padding:10px" ><li class="timepicker-hour"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li></ol></li><li class="timepicker-minite"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li><li class="">24</li><li class="">25</li><li class="">26</li><li class="">27</li><li class="">28</li><li class="">29</li><li class="">30</li><li class="">31</li><li class="">32</li><li class="">33</li><li class="">34</li><li class="">35</li><li class="">36</li><li class="">37</li><li class="">38</li><li class="">39</li><li class="">40</li><li class="">41</li><li class="">42</li><li class="">43</li><li class="">44</li><li class="">45</li><li class="">46</li><li class="">47</li><li class="">48</li><li class="">49</li><li class="">50</li><li class="">51</li><li class="">52</li><li class="">53</li><li class="">54</li><li class="">55</li><li class="">56</li><li class="">57</li><li class="">58</li><li class="">59</li></ol></li><li class="timepicker-seconds"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li><li class="">24</li><li class="">25</li><li class="">26</li><li class="">27</li><li class="">28</li><li class="">29</li><li class="">30</li><li class="">31</li><li class="">32</li><li class="">33</li><li class="">34</li><li class="">35</li><li class="">36</li><li class="">37</li><li class="">38</li><li class="">39</li><li class="">40</li><li class="">41</li><li class="">42</li><li class="">43</li><li class="">44</li><li class="">45</li><li class="">46</li><li class="">47</li><li class="">48</li><li class="">49</li><li class="">50</li><li class="">51</li><li class="">52</li><li class="">53</li><li class="">54</li><li class="">55</li><li class="">56</li><li class="">57</li><li class="">58</li><li class="">59</li></ol></li></ul></div></div><div class=\'ui-laydate-main date-main-list-1 date-time-show\' style=\'float:left\'><div class=\'ui-laydate-header\'><div class=\'date-set-ym\'><span class=\'date-time-text\'></span></div></div><div class=\'ui-laydate-content\' style=\'background-color:#fff;height:232px\'><ul class="ui-laydate-list date-time-list" style="padding:10px"><li class="timepicker-hour2"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li></ol></li><li class="timepicker-minite2"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li><li class="">24</li><li class="">25</li><li class="">26</li><li class="">27</li><li class="">28</li><li class="">29</li><li class="">30</li><li class="">31</li><li class="">32</li><li class="">33</li><li class="">34</li><li class="">35</li><li class="">36</li><li class="">37</li><li class="">38</li><li class="">39</li><li class="">40</li><li class="">41</li><li class="">42</li><li class="">43</li><li class="">44</li><li class="">45</li><li class="">46</li><li class="">47</li><li class="">48</li><li class="">49</li><li class="">50</li><li class="">51</li><li class="">52</li><li class="">53</li><li class="">54</li><li class="">55</li><li class="">56</li><li class="">57</li><li class="">58</li><li class="">59</li></ol></li><li class="timepicker-seconds2"><p></p><ol><li class="ui-this">00</li><li class="">01</li><li class="">02</li><li class="">03</li><li class="">04</li><li class="">05</li><li class="">06</li><li class="">07</li><li class="">08</li><li class="">09</li><li class="">10</li><li class="">11</li><li class="">12</li><li class="">13</li><li class="">14</li><li class="">15</li><li class="">16</li><li class="">17</li><li class="">18</li><li class="">19</li><li class="">20</li><li class="">21</li><li class="">22</li><li class="">23</li><li class="">24</li><li class="">25</li><li class="">26</li><li class="">27</li><li class="">28</li><li class="">29</li><li class="">30</li><li class="">31</li><li class="">32</li><li class="">33</li><li class="">34</li><li class="">35</li><li class="">36</li><li class="">37</li><li class="">38</li><li class="">39</li><li class="">40</li><li class="">41</li><li class="">42</li><li class="">43</li><li class="">44</li><li class="">45</li><li class="">46</li><li class="">47</li><li class="">48</li><li class="">49</li><li class="">50</li><li class="">51</li><li class="">52</li><li class="">53</li><li class="">54</li><li class="">55</li><li class="">56</li><li class="">57</li><li class="">58</li><li class="">59</li></ol></li></ul></div></div><div class="ui-laydate-footer"><span lay-type="datetime" class="date-btns-time"></span><div class="date-footer-btns"><span lay-type="confirm" class="date-btns-cancel"></span><span lay-type="confirm" class="date-btns-confirm"></span></div></div></div>'),this.element.click((function(e){return e.stopPropagation()})),this.hidden=!0;var a=new i("00","00","00"),r=new i("00","00","00");t.startime=a.h+":"+a.m+":"+a.s,t.endtime=r.h+":"+r.m+":"+r.s,this.element.click((function(e){return e.stopPropagation()})),this.element.unbind().on("click",(function(i){if("date-btns-confirm"===i.target.className)t.confirm(t,e);else if("li"==i.target.localName){n(i.target).parent().parent().parent().hasClass("ui-laydate-list")&&(n(i.target).siblings().removeClass("ui-this"),n(i.target).addClass("ui-this"))}else"date-btns-cancel"===i.target.className&&t.hide(t,e)}))}return e.prototype.confirm=function(e,t){var i=[];n(".ui-this").each((function(){i.push(n(this).text())})),b.start_time=i[0]+":"+i[1]+":"+i[2],b.end_time=i[3]+":"+i[4]+":"+i[5];var a=t.$dateRangePicker.find(".drp-calendar-date").eq(0).val().substring(0,11),r=t.$dateRangePicker.find(".drp-calendar-date").eq(1).val().substring(0,11),o=a+""+i[0]+":"+i[1]+":"+i[2],s=r+""+i[3]+":"+i[4]+":"+i[5];if(o>s)layer.msg("");else{var l=o.split(" ")[0].replace(/-/g,"/"),d=s.split(" ")[0].replace(/-/g,"/");this.datedifference(l,d)>b.dateLimit?layer.msg(""+b.dateLimit+""):(b.startdate=o,b.enddate=s,t.$dateRangePicker.find(".drp-calendar-date").eq(0).val(o),t.$dateRangePicker.find(".drp-calendar-date").eq(1).val(s),t.$select.val(b.startdate+"--"+b.enddate),this.hide())}},e.prototype.datedifference=function(e,t){var n;return e=Date.parse(e),n=(t=Date.parse(t))-e,n=Math.abs(n),Math.floor(n/864e5)+1},e.prototype.hide=function(e,t){this.element.hide()},e.prototype.show=function(e,t){for(var i=t.$select.val().split("--"),a=i[0].split(" ")[1].split(":"),r=i[1].split(" ")[1].split(":"),o=a.concat(r),s=[t.$dateRangePicker.find(".timepicker-hour"),t.$dateRangePicker.find(".timepicker-minite"),t.$dateRangePicker.find(".timepicker-seconds"),t.$dateRangePicker.find(".timepicker-hour2"),t.$dateRangePicker.find(".timepicker-minite2"),t.$dateRangePicker.find(".timepicker-seconds2")],l=0;l<s.length;l++)s[l].find("li").removeClass("ui-this").each((function(e,t){var i=n(t);if(i.html()==o[l])return i.addClass("ui-this"),s[l].find("ol").animate({scrollTop:30*e}),!1}));this.element.show()},e}(),new r(e,t)}(this,e)}}).call(this)},function(e,t){Array.prototype.isHas=function(e){if(0===this.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return!0},Array.prototype.each=function(e){e=e||Function.K;for(var t=[],n=Array.prototype.slice.call(arguments,1),i=0,a=this.length;i<a;i++){var r=e.apply(this,[this[i],i].concat(n));null!=r&&t.push(r)}return t},Array.prototype.contains=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return!0;return!1},Array.intersect=function(e,t){return e.each((function(e){return t.contains(e)?e:null}))},Array.minus=function(e,t){return e.each((function(e){return t.contains(e)?null:e}))},Array.subtract=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},Array.prototype.remove=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(!isNaN(e)&&e.length<4&&(n=t),n==e){for(var i=t;i<this.length;i++)this[i]=this[i+1];this.length=this.length-1}}},Array.prototype.removeObj=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){for(var n=t;n<this.length;n++)this[n]=this[n+1];this.length=this.length-1}}},Array.prototype.unique=function(e){for(var t,n=[],i={},a=0;null!=(t=e[a]);a++)i[t]||(n.push(t),i[t]=!0);return n},Array.prototype.unique2=function(){for(var e=[this[0]],t=1,n=this.length;t<n;t++){for(var i=!1,a=0,r=e.length;a<r;a++)if(this[t].id==e[a].id){i=!0;break}i||e.push(this[t])}return e},Array.prototype.unique3=function(){for(var e=[],t={},n=0,i=this.length;n<i;n++)t[this[n]]||(e.push(this[n]),t[this[n]]=1);return e},Array.prototype.popToLast=function(e){var t=this.splice(e,1);this.push(t[0])}},function(e,t,n){var i,a,r;r=function(e){e.fn.calendar=function(t,n){t=t||{};var i=e.extend({},{prefix:"widget",isRange:!1,limitRange:[],highlightRange:[],onChange:function(){},onSelect:function(){}},t);return this.each((function(){var t,n,a,r=e(this),o=e("<table>").appendTo(r),s=e("<caption>").appendTo(o),l=e('<a class="'+i.prefix+'-prevYear" href="javascript:;">&lt;&lt;</a>').appendTo(s),d=e('<a class="'+i.prefix+'-prevMonth" href="javascript:;">&lt;</a>').appendTo(s),c=e("<span>").appendTo(s),u=e('<a class="'+i.prefix+'-nextMonth" href="javascript:;">&gt;</a>').appendTo(s),h=e('<a class="'+i.prefix+'-nextYear" href="javascript:;">&gt;&gt;</a>').appendTo(s),p=e('<a class="'+i.prefix+'-back" href="javascript:;"></a>').appendTo(s),f=[];o.append("<thead><tr><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead>");var m=e("<tbody>").appendTo(o);if(resourceList.videoIsFlag)var g=function(e,t,n){var i=arguments.length&&nowYear?new Date(nowYear,monthIndex-1,n):new Date,a={year:parseInt(nowYear),month:parseInt(monthIndex),day:i.getDate(),week:i.getDay()};return a.code=""+a.year+(a.month>9?a.month:"0"+a.month)+(a.day>9?a.day:"0"+a.day),a};else g=function(e,t,n){var i=arguments.length&&e?new Date(e,t-1,n):new Date,a={year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate(),week:i.getDay()};return a.code=""+a.year+(a.month>9?a.month:"0"+a.month)+(a.day>9?a.day:"0"+a.day),a};var v=function(e){if(i.limitRange.length){e.status="disabled";for(var n=0;n<i.limitRange.length;n++){var a=i.limitRange[n][0],r=i.limitRange[n][1];if("today"==a&&(a=t.code),"today"==r&&(r=t.code),a>r&&(a=[r,r=a][0]),e.code>=a&&e.code<=r){e.status="";break}}}if(e.sign=[],e.mileage=[],i.highlightRange.length)for(n=0;n<i.highlightRange.length;n++)if(a=i.highlightRange[n][0],r=i.highlightRange[n][1],"today"==a&&(a=t.code),"today"==r&&(r=t.code),a>r&&(a=[r,r=a][0]),e.code>=a&&e.code<=r){e.sign.push("videoHlight");break}return e.code==t.code&&e.sign.push("today"),e},y=function(e){void 0===e&&(e=t);for(var n=function(e){return new Date(e.year,e.month,0).getDate()}(a=g(e.year,e.month,1)),r=[],o=(e={},a.week);o>0;o--){(e=g(a.year,a.month,a.day-o)).month===a.month&&(e.month--,0===e.month&&(e.year--,e.month=12),e.code=e.year+(e.month>9?e.month:"0"+e.month)+(e.day>9?e.day:"0"+e.day));var s=v(e);i.limitRange.length||(s.status="disabled"),r.push(s)}for(o=0;o<n;o++)(e={year:a.year,month:a.month,day:a.day+o,week:(a.week+o)%7}).code=""+e.year+(e.month>9?e.month:"0"+e.month)+(e.day>9?e.day:"0"+e.day),s=v(e),r.push(s);var l=e;for(o=1;l.week+o<7;o++)(e=g(l.year,l.month,l.day+o)).month===a.month&&(e.month++,e.month>12&&(e.year++,e.month=1),e.code=e.year+(e.month>9?e.month:"0"+e.month)+(e.day>9?e.day:"0"+e.day)),s=v(e),i.limitRange.length||(s.status="disabled"),r.push(s);return r},b=function(e){i.onChange(a);for(var t="<tr>",n=0,r=e.length;n<r;n++){for(var o=e[n],s=[],l=0;l<o.sign.length;l++)s.push(i.prefix+"-"+o.sign[l]);o.status&&s.push(i.prefix+"-"+o.status);var d=s.join(" ");t+="<td"+(d?' class="'+d+'"':"")+' data-id="'+n+'">                        '+(o.link?'<a href="'+o.link+'">'+o.day+"</a>":'<span class="dayShow">'+o.day+'<br/><span class="mileageList">'+(""==e[n].mileage[0]||null==e[n].mileage[0]?"-":e[n].mileage[0])+"</span></span>")+"                    </td>",n%7==6&&n<r-1&&(t+="</tr><tr>")}t+="</tr>",c.html(a.year+""+a.month+""),m.html(t)};t=g(),a={year:t.year,month:t.month},d.click((function(){var t=e(this).next("span").text().replace(/[\u4e00-\u9fa5]+/g,"-");afterMonth=t.substring(0,t.length-1)+"-01",parseInt(afterMonth.substring(5,afterMonth.length))-1<=0?(nowMonth=parseInt(afterMonth.substring(0,4))-1+"-12-01",nowYear=parseInt(afterMonth.substring(0,4))-1,monthIndex=12):(nowMonth=afterMonth.substring(0,5)+(parseInt(afterMonth.substring(5,afterMonth.length))-1)+"-01",nowYear=afterMonth.substring(0,4),monthIndex=parseInt(afterMonth.substring(5,afterMonth.length))-1),e("#savePid").attr("value");var i=nowMonth.split("-"),r=afterMonth.split("-");nowMonth=i[0]+"-"+(i[1]<10?"0"+i[1]:i[1])+"-"+i[2],afterMonth=r[0]+"-"+(r[1]<10?"0"+r[1]:r[1])+"-"+r[2],e("#treeDemo").height(),e(".calendar3 tbody tr").length,a.month--,n=y(a),b(n),resourceList&&resourceList.changeYMcallback(),e(".calendar3 tbody td").each((function(){e(this).hasClass("widget-disabled")&&(e(this).removeClass("widget-videoHlight").removeClass("widget-stopHighlight"),e(this).children("span").children("span.mileageList").text(""))}))})),u.click((function(){var t=e(this).siblings("span").text().replace(/[\u4e00-\u9fa5]+/g,"-"),i=t.substring(0,t.length-1);nowMonth=i.substring(0,4)+"-"+(parseInt(i.substring(5,i.length))+1)+"-01",parseInt(i.substring(5,i.length))+1-12==0?(afterMonth=parseInt(i.substring(0,4))+1+"-1-01",nowYear=parseInt(i.substring(0,4)),monthIndex=12):parseInt(i.substring(5,i.length))+1-12>0?(afterMonth=parseInt(i.substring(0,4))+1+"-2-01",nowMonth=parseInt(i.substring(0,4))+1+"-1-01",nowYear=parseInt(i.substring(0,4))+1,monthIndex=1):(afterMonth=i.substring(0,5)+(parseInt(i.substring(5,i.length))+2)+"-01",nowYear=i.substring(0,4),monthIndex=parseInt(i.substring(5,i.length))+1),e("#savePid").attr("value");var r=nowMonth.split("-"),o=afterMonth.split("-");nowMonth=r[0]+"-"+(r[1]<10?"0"+r[1]:r[1])+"-"+r[2],afterMonth=o[0]+"-"+(o[1]<10?"0"+o[1]:o[1])+"-"+o[2],e("#treeDemo").height(),e(".calendar3 tbody tr").length,a.month++,n=y(a),b(n),resourceList&&resourceList.changeYMcallback(),e(".calendar3 tbody td").each((function(){e(this).hasClass("widget-disabled")&&(e(this).removeClass("widget-videoHlight").removeClass("widget-stopHighlight"),e(this).children("span").children("span.mileageList").text(""))}))})),l.click((function(){var t=e(this).siblings("span").text().replace(/[\u4e00-\u9fa5]+/g,"-"),i=t.substring(0,t.length-1);afterMonth=parseInt(i.substring(0,4))-1+"-"+(parseInt(i.substring(5,i.length))+1)+"-01",nowMonth=parseInt(i.substring(0,4))-1+"-"+parseInt(i.substring(5,i.length))+"-01",nowYear=parseInt(i.substring(0,4))-1,monthIndex=i.substring(5,i.length),e("#savePid").attr("value");var r=nowMonth.split("-"),o=afterMonth.split("-");nowMonth=r[0]+"-"+(r[1]<10?"0"+r[1]:r[1])+"-"+r[2],afterMonth=o[0]+"-"+(o[1]<10?"0"+o[1]:o[1])+"-"+o[2],e("#treeDemo").height(),e(".calendar3 tbody tr").length,a.year--,n=y(a),b(n)})),h.click((function(){var t=e(this).siblings("span").text().replace(/[\u4e00-\u9fa5]+/g,"-"),i=t.substring(0,t.length-1);afterMonth=parseInt(i.substring(0,4))+1+"-"+(parseInt(i.substring(5,i.length))+1)+"-01",nowMonth=parseInt(i.substring(0,4))+1+"-"+parseInt(i.substring(5,i.length))+"-01",nowYear=parseInt(i.substring(0,4))+1,monthIndex=i.substring(5,i.length),e("#savePid").attr("value");var r=nowMonth.split("-"),o=afterMonth.split("-");nowMonth=r[0]+"-"+(r[1]<10?"0"+r[1]:r[1])+"-"+r[2],afterMonth=o[0]+"-"+(o[1]<10?"0"+o[1]:o[1])+"-"+o[2],e("#treeDemo").height(),e(".calendar3 tbody tr").length,a.year++,n=y(a),b(n)})),p.click((function(){n=y(),b(n)})),r.unbind("click").on("click","td",(function(t){e("#resourceListActive").hasClass("active")&&(e("#resourceListVideoPlay").hasClass("video-resource-play-check")&&resourceList.resourceVideoStopFn(),e("#resourceListActive,#resourceList").removeClass("active"),e("#playListActive,#playList").addClass("active"),e(".video-back-module,.video-play-module").show(),e(".video-play-select,.video-resource-module").hide());var a=e(this),r=e(this).data("id"),o=n[r];if(a.hasClass("widget-videoHlight")){a.children("span").children("span.mileageList").text();var s=o.year+"-"+(o.month<10?"0"+o.month:o.month)+"-"+(o.day<10?"0"+o.day:o.day)+" 00:00:00",l=o.year+"-"+(o.month<10?"0"+o.month:o.month)+"-"+(o.day<10?"0"+o.day:o.day)+" 23:59:59";resourceList.oneDayData(s,l)}"disabled"!=o.status&&(i.isRange?1!=f.length?(f=[o],b(n)):(f.push(o),f.sort((function(e,t){return e.code>t.code})),b(n),i.onSelect(f)):(f=[o],b(n),i.onSelect(f))),e(".calendar3 tbody td").each((function(){e(this).hasClass("widget-disabled")&&(e(this).removeClass("widget-videoHlight").removeClass("widget-stopHighlight"),e(this).children("span").children("span.mileageList").text("-"))}))})),n=y(),b(n)}))}},jQuery?r(jQuery):(i=[n(13)],void 0===(a=function(){r(jQuery)}.apply(t,i))||(e.exports=a))},function(e,t){var n={unloaded:!1};function i(e,t,i){n.unloaded||"abort"==i||(layer.closeAll("loading"),"timeout"!==t?e.responseText.indexOf('<form id="loginForm')>0?window.location.replace("/clbs/login?type=expired"):layer.msg("~"):layer.msg(""))}function a(e){layer.load(2)}function r(e,t){layer.closeAll("loading")}$(window).bind("beforeunload",(function(){n.unloaded=!0}));var o,s,l=1;function d(e,t,n,i,a,r){var o=e;$.ajax({type:"post",url:"/clbs/v/monitoring/getAddress",dataType:"json",async:!0,data:{lnglatXYs:t[e]},traditional:!0,timeout:3e4,success:function(s){var l=s;if("AddressNull"==l){var u=new AMap.Geocoder({radius:1e3,extensions:"base"});u.getAddress(t[e]),AMap.event.addListener(u,"complete",(function(s){var l;if(o++,"NO_DATA"==s.info)l="";else{l=s.regeocode.formattedAddress;var u=c(s,t[e][0],t[e][1]);$.ajax({type:"POST",url:"/clbs/v/monitoring/setAddress",dataType:"json",async:!0,data:{addressNew:u},traditional:!1,timeout:3e4})}$("#"+a).children("tbody").children("tr:nth-child("+o+")").children("td:nth-child("+r+")").text(l),o<t.length&&d(o,t,n,i,a,r)}))}else{o++;var h=l;if($("#"+a).children("tbody").children("tr:nth-child("+o+")").children("td:nth-child("+r+")").text(h),!(o<t.length))return;d(o,t,n,i,a,r)}}})}function c(e,t,n){var i={longitude:t.substring(0,t.lastIndexOf(".")+4),latitude:n.substring(0,n.lastIndexOf(".")+4),adcode:e.regeocode.addressComponent.adcode,building:e.regeocode.addressComponent.building,buildingType:e.regeocode.addressComponent.buildingType,city:e.regeocode.addressComponent.city,cityCode:e.regeocode.addressComponent.citycode,district:e.regeocode.addressComponent.district,neighborhood:e.regeocode.addressComponent.neighborhood,neighborhoodType:e.regeocode.addressComponent.neighborhoodType,province:e.regeocode.addressComponent.province,street:e.regeocode.addressComponent.street,streetNumber:e.regeocode.addressComponent.streetNumber,township:e.regeocode.addressComponent.township,crosses:"",pois:"",roads:e.regeocode.roads.name,formattedAddress:e.regeocode.formattedAddress};return JSON.stringify(i)}!function(e){var t=e.ajax;e.ajax=function(n){var i={complete:function(e){}};n.complete&&(i.complete=n.complete);var a=e.extend(n,{complete:function(e){e.responseText&&e.responseText.indexOf('<form id="loginForm')>0?window.location.replace("/clbs/login?type=expired"):i.complete(e)},converters:{"text json":function(t){return"string"!=typeof t&&"boolean"!=typeof t||!e.trim(t).length?{}:jQuery.parseJSON(t)}}});return t(a)},e("span.fa-chevron-down").on("click",(function(){e(this).next().is(":hidden")&&(e(this).siblings("input").trigger("focus"),e(this).siblings("input").trigger("click"))})),e(".layer-date").unbind("click").on("click",(function(){e(this).trigger("focus")})),document.onkeydown=function(e){if(8==e.keyCode){var t=document.activeElement.type;return("text"==t||"textarea"==t||"password"==t||"select"==t)&&0==document.activeElement.readOnly||(e.keyCode=0,e.returnValue=!1,!1)}}}(jQuery),window.json_ajax=function(e,t,n,o,s,l,d){return $.ajax({type:e,url:t,dataType:n,async:o,data:s,timeout:d||3e4,beforeSend:a,success:l,error:i,complete:r})},window.ajax_submit=function(e,t,n,o,s,l,d){$.ajax({type:e,url:t,dataType:n,async:o,data:s,traditional:l,timeout:3e4,beforeSend:a,success:d,error:i,complete:r})},window.json_ajax_p=function(e,t,n,a,r,o){$.ajax({type:e,url:t,dataType:n,async:a,data:r,timeout:3e4,success:o,error:i})},window.exportExcelUseForm=function(e,t){var n=$('<form method="POST" action="'+e+'">');$.each(t,(function(e,t){n.append($('<input type="hidden" name="'+e+'" value="'+t+'">'))})),$("body").append(n),n.submit(),n.remove()},window.exportExcelUseFormGet=function(e,t){var n=$('<form method="GET" action="'+e+'">');$.each(t,(function(e,t){n.append($('<input type="hidden" name="'+e+'" value="'+t+'">'))})),$("body").append(n),n.on("submit",(function(e){var t=$(this);!0===t.data("submitted")?e.preventDefault():t.data("submitted",!0)})),n.submit(),n.remove()},window.exportExcelUsePost=function(e,t){$.ajax({type:"POST",url:e,data:t,success:function(n,i,a){var r=a.getResponseHeader("Content-Disposition");if(r&&-1!=r.search("attachment")){var o=$('<form method="POST" action="'+e+'">');$.each(t,(function(e,t){o.append($('<input type="hidden" name="'+e+'" value="'+t+'">'))})),$("body").append(o),o.submit(),o.remove()}},beforeSend:a,error:i,complete:r})},window.backAddressMsg=function e(t,n,i,a){var r=t;$.ajax({type:"POST",url:"/clbs/v/monitoring/getAddress",dataType:"json",async:!0,data:{lnglatXYs:n[t]},traditional:!0,timeout:3e4,success:function(d){var u=d;if("AddressNull"!=u||"0.0"==n[t][0]&&"0.0"==n[t][1]){if("AddressNull"==u&&(u=""),r++,1==l?(o=u,l++):(s=u,a.push([o,s]),o=null,l=1),!(r<n.length))return i(a);e(r,n,i,a)}else{var h=new AMap.Geocoder({radius:1e3,extensions:"base"});h.getAddress(n[t]),AMap.event.addListener(h,"complete",(function(d){if(r++,1==l?(o="NO_DATA"==d.info?"":d.regeocode.formattedAddress,l++):(s="NO_DATA"==d.info?"":d.regeocode.formattedAddress,a.push([o,s]),o=null,l=1),""!=o&&""!=s){var u=c(d,n[t][0],n[t][1]);$.ajax({type:"POST",url:"/clbs/v/monitoring/setAddress",dataType:"json",async:!0,data:{addressNew:u},traditional:!1,timeout:3e4})}if(!(r<n.length))return i(a);e(r,n,i,a)}))}}})},window.backAddressMsg1=d,window.newBackAddressMsg=function e(t,n,i,a,r,o){var s=t;$.ajax({type:"post",url:"/clbs/v/monitoring/getAddress",dataType:"json",async:!0,data:{lnglatXYs:n[t].latMsg},traditional:!0,timeout:3e4,success:function(l){var u=l;if("AddressNull"==u){var h=new AMap.Geocoder({radius:1e3,extensions:"base"});h.getAddress(n[t].latMsg),AMap.event.addListener(h,"complete",(function(l){var d;if(s++,"NO_DATA"==l.info)d="";else{d=l.regeocode.formattedAddress;var u=c(l,n[t].latMsg[0],n[t].latMsg[1]);$.ajax({type:"POST",url:"/clbs/v/monitoring/setAddress",dataType:"json",async:!0,data:{addressNew:u},traditional:!1,timeout:3e4})}$("#"+r).children("tbody").children("tr:nth-child("+n[t].index+")").children("td:nth-child("+o+")").text(d),s<n.length&&e(s,n,i,a,r,o)}))}else{s++;var p=u;if($("#"+r).children("tbody").children("tr:nth-child("+n[t].index+")").children("td:nth-child("+o+")").text(p),!(s<n.length))return;d(s,n,i,a,r,o)}}})},window.getaddressParticulars=c,window.getJsonForCross=function(e,t,n,o,s,l,d,c){$.ajax({type:e,url:t,data:n,dataType:o,async:s,jsonp:l,jsonpCallback:d,timeout:3e4,beforeSend:a,success:c,error:i,complete:r})},window.checkBrands=function(e){var t=$("#"+e).val();return/^[0-9a-zA-Z\u4e00-\u9fa5-]{2,20}$/.test(t)},window.address_submit=function(e,t,n,a,r,o,s){$.ajax({type:e,url:t,dataType:n,async:a,data:r,traditional:o,timeout:3e4,success:s,error:i})}},function(e,t,n){},function(e,t){var n,i=function(){function e(){}return e.prototype.buildDom=function(e){var t=$.parseHTML(e);return $(t)},e.prototype.defaultColumnRender=function(e){return null==e?"":"string"==typeof e?e:e.toString()},e.prototype.defaultGetUniqueId=function(e,t){for(var n="",i=Object.keys(e),a=0;a<i.length;a++){var r=e[i[a]];null!=r?n+=r.toString():n+=""}return n},e.prototype.sequenceColumnRender=function(e,t){return(t+1).toString()},e.prototype.shadowCopyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},e.prototype.defaultSorter=function(e,t){var n=null==e?"":e.toString(),i=null===t||void 0===e?"":t.toString();return n.localeCompare(i)},e.prototype.sortData=function(e,t,i,a){var r=this,o=e;if(void 0!==i){var s=t[i].sorter,l=t[i].name,d=t[i].render;o=o.sort((function(e,t){var n=d(e[l]),i=d(t[l]);return"function"==typeof s?s(n,i):r.defaultSorter(n,i)})),a===n.DESCEND&&(o=o.reverse())}return o},e.prototype.packageColumn=function(e){for(var t,n,i=0;i<e.length;i++){var a=e[i];null!=a.render&&null!==a.render||(a.isSequence?a.render=this.sequenceColumnRender:a.render=this.defaultColumnRender),a.sorter&&a.defaultSortOrder&&void 0===t&&(t=i,n=a.defaultSortOrder)}return[t,n]},e.prototype.parsePercent=function(e){return parseFloat(e)/100},e.prototype.valueToString=function(e){return null==e?"":e.toString()},e.prototype.findRow=function(e,t,n){for(var i=0,a=e.length;i<a;i++){var r=e[i];if(this.getRowId(r,t)===n)return[r,i]}return null},e.prototype.getRowId=function(e,t,n){return e.____id?e.____id:(i="string"==typeof t.getUniqueId?this.valueToString(e[t.getUniqueId]):"function"==typeof t.getUniqueId?this.valueToString(t.getUniqueId(e,n)):this.defaultGetUniqueId(e,n),e.____id=i,i);var i},e.prototype.detectIE=function(){return window.navigator.userAgent.indexOf("MSIE ")>-1},e.prototype.isNumber=function(e){return"0123456789".indexOf(e)>-1},e.prototype.isAlphabet=function(e){return"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e)>-1},e}();!function(e){e.ASCEND="ascend",e.DESCEND="descend"}(n||(n={}));var a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(t,n){var i=e.call(this)||this;return i.setOption(n,t),i}return r(t,e),t.prototype.setOption=function(e,t){var n=void 0===t?this.state.$dom.$origin:t;this.destory();var i=$.extend({name:"table",cancelActiveRow:!1,clickMeansActive:!1,dblClickMeansLock:!1,flashWhenUpdate:!1,scrollWhenAppend:!1,activeScrollDuration:200,activeRowBgColor:"#DCF5FF",virtualRender:!1,visibleRowsCount:20,trHeight:41,scrollThreshold:20,striped:!0},e),a=this.packageColumn(i.columns),r=a[0],o=a[1];this.options=i,this.state={width:null,height:null,isResizing:!1,data:this.options.handleSort?this.buildStateData(i.data):this.buildStateData(i.data,r,o),currentSortColumnIndex:r,currentSortDirection:o,innerScrollTop:0},this.initHtml(n),this.bindEvent()},t.prototype.getOption=function(){return this.options},t.prototype.getState=function(){return this.state},t.prototype.initHtml=function(e){var n=this.options,i=e.width(),a=e.height(),r=this.buildDom(t.rootTmpl),o=this.buildDom(t.containerTmpl),s=this.buildDom(t.outerTmpl),l=this.buildDom(t.innerTmpl),d=this.buildDom(t.tableWraperTmpl),c=this.buildDom(n.striped?t.tableTmpl:t.tableTmpl.replace("table-striped","")),u=this.buildDom(t.colgroupTmpl),h=this.buildDom(t.theadTmpl),p=this.buildDom(t.tbodyTmpl);this.state.height=a,this.state.width=i,this.state.$dom={$origin:e,$root:r,$container:o,$inner:l,$tableWraper:d,$table:c,$colgroup:u,$thead:h,$tbody:p},c.attr("id",n.tableId+n.name),"number"==typeof n.width&&r.css("width",n.width+"px"),e.empty(),e.append(r.get(0)),r.append(o.get(0)),o.append(s.get(0)),s.append(l.get(0)),l.append(d.get(0)),d.append(c.get(0)),c.append(u.get(0)).append(h.get(0)).append(p.get(0));var f=this.buildDom(t.trTmpl);h.append(f.get(0));for(var m=0;m<n.columns.length;m++){var g=n.columns[m],v=this.buildCol(g,m),y=this.buildTh(g,m);u.append(v.get(0)),f.append(y.get(0))}},t.prototype.bindEvent=function(){this.state.$dom.$thead.on("mousedown","."+t.resizeHandleClass,this.handleResizeMousedown.bind(this)),this.state.$dom.$thead.on("dblclick","."+t.resizeHandleClass,this.handleResizeDblClick.bind(this)),this.state.$dom.$thead.on("click","."+t.sortHandleClass,this.handleSortClick.bind(this)),this.state.$dom.$thead.on("click","."+t.thCellDivClass,this.handleThClick.bind(this)),this.state.$dom.$thead.on("mouseenter","th",this.handleThHover.bind(this)),this.state.$dom.$tbody.on("mouseenter","td",this.handleTdHover.bind(this)),this.state.$dom.$tbody.on("mouseleave",this.handleTbodyLeave.bind(this)),this.state.$dom.$tbody.on("click","td",this.handleTdClick.bind(this)),this.state.$dom.$tbody.on("contextmenu","td",this.handleTdRightClick.bind(this)),this.state.$dom.$tbody.on("dblclick","td",this.handleTdDblClick.bind(this)),this.state.$dom.$root.on("mouseenter",this.handleEnter.bind(this)),this.state.$dom.$inner.on("scroll",this.handleScroll.bind(this))},t.prototype.buildCol=function(e,n){var i=this.buildDom(t.colTmpl);if(void 0!==e.width&&null!==e.width&&n<this.options.columns.length-1){var a="number"==typeof e.width?e.width:this.parsePercent(e.width)*this.state.width;a=Math.floor(a),i.css({width:a.toString()+"px",minWidth:a.toString()+"px"})}return i},t.prototype.buildTh=function(e,i){var a=this.buildDom(t.thTmpl),r=this.buildDom(t.thCellDivTmpl);if(r.html(e.title),a.append(r.get(0)),a.attr("data-name",e.name),e.sorter){if(e.sortDirections.indexOf(n.ASCEND)>-1){var o=this.buildDom(t.upTmpl);e.defaultSortOrder===n.ASCEND?o.addClass(t.sortOnClass):o.addClass(t.sortOffClass),a.append(o.get(0))}if(e.sortDirections.indexOf(n.DESCEND)>-1){var s=this.buildDom(t.downTmpl);e.defaultSortOrder===n.DESCEND?s.addClass(t.sortOnClass):s.addClass(t.sortOffClass),a.append(s.get(0))}}return(!0===e.resizable&&i<this.options.columns.length-1||e.sorter)&&a.addClass(t.actionClass),!0===e.resizable&&i<this.options.columns.length-1&&a.addClass(t.resizeClass).append($.parseHTML(t.resizeHandleTmpl)),a},t.prototype.getResizeDom=function(){var e=[this.state.$dom.$resizingDom];if(this.detectIE()){var t=this.state.$dom.$resizingDom.index(),n=this.state.$dom.$thead.find("th:eq("+t.toString()+")");e.push(n)}return e},t.prototype.handleResizeDblClick=function(e){var t=$(e.target).parent(),n=t.index(),i=t.closest("table").find("colgroup>col:eq("+n+")");this.state.$dom.$resizingDom=i;for(var a=this.options.columns[n].name,r=this.options.columns[n].maxWidth,o=this.options.columns[n].minWidth,s=0,l=0;l<this.state.data.length;l++){for(var d=this.state.data[l],c=0,u=this.options.columns[n].render(d[a],l,n,d),h=u.length,p=0;p<h;p++){var f=u[p];this.isAlphabet(f)||this.isNumber(f)?c+=.6:c+=1}(c=Math.ceil(c))>s&&(s=c)}if(s>0){var m=this.state.$dom.$tbody.find("td:eq(0)"),g=parseInt(m.css("font-size"));g=null===g||isNaN(g)?14:g;var v=parseInt(m.css("padding")),y=s*g+2*(v=null===v||isNaN(v)?4:v);null!=r&&(y=Math.min(y,r)),null!=o&&(y=Math.max(y,o));var b=this.state.$dom.$resizingDom.outerWidth(),w=y-b,C=this.state.$dom.$root.outerWidth();C=Math.floor(C+w),this.getResizeDom().forEach((function(e){e.css({width:y.toString()+"px",minWidth:y.toString()+"px"})})),this.state.$dom.$root.css({width:C.toString()+"px"})}},t.prototype.handleSortClick=function(e){this.handleSortClickDomOpe($(e.target))},t.prototype.handleSortClickDomOpe=function(e){var i=e.closest("i");if(0!==i.length){var a,r=e.closest("th"),o=r.index(),s=i.hasClass("up")?n.ASCEND:n.DESCEND,l="function"==typeof this.options.customHandleSort;this.state.currentSortColumnIndex===o&&this.state.currentSortDirection===s?(o=void 0,s=void 0):a=r.closest("tr").find("th:eq("+this.state.currentSortColumnIndex+")").find("i."+(this.state.currentSortDirection===n.ASCEND?"up":"down")),l?this.options.customHandleSort(o,s):(this.state.currentSortColumnIndex=o,this.state.currentSortDirection=s,void 0===o?i.removeClass(t.sortOnClass).addClass(t.sortOffClass):(i.removeClass(t.sortOffClass).addClass(t.sortOnClass),a.removeClass(t.sortOnClass).addClass(t.sortOffClass)),"function"==typeof this.options.handleSort?this.options.handleSort(this.state.currentSortColumnIndex,this.state.currentSortDirection):this.updateStateData(this.buildStateData(this.options.data)))}},t.prototype.handleThClick=function(e){var n=$(e.target).closest("th");if(n.hasClass(t.actionClass)){var i,a=n.find("."+t.sortHandleClass+".up"),r=n.find("."+t.sortHandleClass+".down");i=0===n.find("."+t.sortHandleClass+"."+t.sortOnClass).length?1===a.length?"up":"down":a.hasClass(t.sortOnClass)?1===r.length?"down":"up":"down";var o=n.find("."+t.sortHandleClass+"."+i);this.handleSortClickDomOpe(o)}},t.prototype.handleResizeMousedown=function(e){this.state.isResizing=!0,this.state.resizePrevPageX=e.pageX;var t=$(e.target).parent(),n=t.index(),i=t.closest("table").find("colgroup>col:eq("+n+")");this.state.$dom.$resizingDom=i,this.state.documentMouseMoveHandler=this.handleResizeMousemove.bind(this),this.state.documentMouseUpHandler=this.handleResizeMouseup.bind(this),$(document).on("mousemove",this.state.documentMouseMoveHandler),$(document).on("mouseup",this.state.documentMouseUpHandler)},t.prototype.handleResizeMousemove=function(e){if(!0===this.state.isResizing){var t=this.state.$dom.$resizingDom.index(),n=this.options.columns[t].minWidth,i=this.options.columns[t].maxWidth,a=e.pageX-this.state.resizePrevPageX,r=this.state.$dom.$resizingDom.outerWidth(),o=Math.floor(r+a);null!=n&&(a=(o=Math.max(o,n))-r),null!=i&&(a=(o=Math.min(o,i))-r);var s=this.state.$dom.$root.outerWidth();s=Math.floor(s+a),this.state.resizePrevPageX=e.pageX,this.getResizeDom().forEach((function(e){e.css({width:o.toString()+"px",minWidth:o.toString()+"px"})})),this.state.$dom.$root.css({width:s.toString()+"px"})}},t.prototype.handleResizeMouseup=function(e){this.state.isResizing&&($(document).off("mousemove",this.state.documentMouseMoveHandler),$(document).off("mouseup",this.state.documentMouseUpHandler),this.state.isResizing=!1,this.state.$dom.$resizingDom=void 0)},t.prototype.handleScroll=function(e){var t=this.state.$dom.$inner.scrollTop();this.options.virtualRender&&(Math.floor(Math.abs(t-this.state.innerScrollTop)/this.options.trHeight)>this.options.scrollThreshold&&(this.state.innerScrollTop=t,this.virtualRender()));"function"==typeof this.options.handleScroll&&this.options.handleScroll(t)},t.prototype.handleEnter=function(e){"function"==typeof this.options.handleEnter&&this.options.handleEnter(this.options.name)},t.prototype.handleTbodyLeave=function(e){"function"==typeof this.options.handleTbodyLeave?this.options.handleTbodyLeave(this.options.name):this.handleTdHoverDomOpe(void 0,void 0)},t.prototype.handleThHover=function(e){var t=$(e.target);"TH"!==t[0].tagName&&(t=t.closest("th"));var n=t.index();"function"==typeof this.options.handleThHover&&this.options.handleThHover(n,t)},t.prototype.handleTdHover=function(e){var t=$(e.target);"TD"!==t[0].tagName&&(t=t.closest("td"));var n=t.closest("tr").index(),i=t.index();"function"==typeof this.options.handleTdHover&&this.options.handleTdHover(n,i,t),this.handleTdHoverDomOpe(n,i)},t.prototype.handleTdHoverDomOpe=function(e,t){if(void 0!==this.state.lastHoverRowIndex){if(this.state.lastHoverRowIndex===e)return;this.state.$dom.$tbody.find("tr:eq("+this.state.lastHoverRowIndex+")").removeClass("hover")}void 0!==e&&this.state.$dom.$tbody.find("tr:eq("+e+")").addClass("hover");this.state.lastHoverRowIndex=e,this.state.lastHoverCellIndex=t},t.prototype.handleTdRightClick=function(e){e.preventDefault();var t=$(e.target);"TD"!==t[0].tagName&&(t=t.closest("td"));var n=t.closest("tr").data("id");void 0!==n&&(n=n.toString());var i=t.index();"function"==typeof this.options.handleTdRightClick&&this.options.handleTdRightClick(n,i,t,e)},t.prototype.handleTdClick=function(e){var t=$(e.target);if(!t.hasClass("hasInfo")){"TD"!==t[0].tagName&&(t=t.closest("td"));var n=t.closest("tr").data("id");void 0!==n&&(n=n.toString());var i=t.index();"function"==typeof this.options.handleTdClick&&(this.state.lastClickRowId===n&&this.options.cancelActiveRow?this.options.handleTdClick(void 0,void 0,t):this.options.handleTdClick(n,i,t)),(this.state.lastClickRowId!==n||this.options.cancelActiveRow)&&this.options.clickMeansActive&&this.handleTdClickDomOpe(n,i)}},t.prototype.handleTdClickDomOpe=function(e,t){if(void 0!==this.state.lastClickRowId&&this.state.$dom.$tbody.find('tr[data-id="'+this.state.lastClickRowId+'"]').removeClass("active"),this.state.lastClickRowId===e||void 0===e||this.state.lastLockedRowId===e)this.state.lastClickRowId=void 0,this.state.lastClickCellIndex=void 0;else{this.state.lastClickRowId=e,this.state.lastClickCellIndex=t;var n=this.state.$dom.$tbody.find('tr[data-id="'+e+'"]'),i=this.findRow(this.state.data,this.options,e);if(-1===t&&null!==i){i[0];var a=i[1],r=this.options.trHeight,o=this.state.$dom.$inner.height(),s=this.state.$dom.$inner.scrollTop(),l=r*a;(l<s+r||l>s+o-r)&&this.updateScrollTop(l,this.options.activeScrollDuration)}n.addClass("active")}void 0!==this.state.lastLockedRowId&&(this.handleTdDblClickDomOpe(void 0,void 0),"function"==typeof this.options.handleTdDblClick&&this.options.handleTdDblClick(void 0,void 0))},t.prototype.handleTdDblClick=function(e){var t=$(e.target);"TD"!==t[0].tagName&&(t=t.closest("td"));var n=t.closest("tr").data("id");void 0!==n&&(n=n.toString());var i=t.index();this.state.lastLockedRowId!==n&&"function"==typeof this.options.handleTdDblClick&&this.options.handleTdDblClick(n,i,t),this.options.dblClickMeansLock&&this.handleTdDblClickDomOpe(n,i)},t.prototype.handleTdDblClickDomOpe=function(e,t){if(this.state.lastLockedRowId===e||void 0===e)return this.state.$dom.$tbody.find('tr[data-id="'+this.state.lastLockedRowId+'"]').removeClass("locked"),void(this.state.lastLockedRowId=void 0);this.state.lastLockedRowId=e;var n=this.findRow(this.state.data,this.options,e);if(null!==n){var i=n[0],a=n[1];this.state.data.splice(a,1),this.state.data.splice(0,0,i)}this.options.virtualRender?(this.updateScrollTop(0),this.render()):(this.render(),this.updateScrollTop(0))},t.prototype.updateScrollTop=function(e,t){var n=t||0;n>0?this.state.$dom.$inner.animate({scrollTop:e},n):this.state.$dom.$inner.scrollTop(e)},t.prototype.render=function(){var e=this.options.columns,t=this.state.data,n=this.state.$dom.$table.find("thead").length>0?39:0;if(this.state.$dom.$tableWraper.css("height",t.length*this.options.trHeight+n),this.updateScrollTop(0),this.options.virtualRender)this.virtualRender();else{this.state.$dom.$tbody.empty();for(var i=0;i<t.length;i++){var a=t[i],r=this.buildRow(a,e,i);this.state.$dom.$tbody.append(r.get(0))}0==t.length&&this.state.$dom.$tbody.append('<tr><td colspan="30"><p style="width: 100px;margin: 0;"></p></td></tr>')}},t.prototype.virtualRender=function(){var e=this.options.columns,t=this.state.data,n=this.state.innerScrollTop,i=Math.floor(n/this.options.trHeight),a=i-this.options.scrollThreshold-10,r=i+this.options.visibleRowsCount+this.options.scrollThreshold;a<0?a=0:a>t.length-this.options.visibleRowsCount&&(a=t.length-this.options.visibleRowsCount),r>t.length?r=t.length:r<this.options.visibleRowsCount&&(r=this.options.visibleRowsCount),this.state.visibleStartIndex=a,this.state.visibleEndIndex=r,this.options.virtualRender&&this.options.parentTable&&(this.options.parentTable.getState().visibleStartIndex=a,this.options.parentTable.getState().visibleEndIndex=r);for(var o="",s=a;s<r;s++){var l=t[s];l&&(o+=this.buildRowHTML(l,e,s))}this.state.$dom.$table.css("transform","translateY("+a*this.options.trHeight+"px)"),o=o||'<tr><td colspan="30"><p style="width: 100px;margin: 0;"></p></td></tr>',this.state.$dom.$tbody.html(o)},t.prototype.buildRow=function(e,n,i){var a=this.buildDom(t.trTmpl),r=this.getRowId(e,this.options,i);a.attr("data-id",r),r===this.state.lastClickRowId&&a.addClass("active"),r===this.state.lastLockedRowId&&a.addClass("locked");for(var o=0;o<n.length;o++){var s=e[n[o].name],l=this.buildDom(t.tdTmpl);l.attr("data-field",n[o].name),l.attr("data-id",r),n[o].className&&l.addClass(n[o].className);var d=this.buildDom(t.cellDivTmpl);d.html(n[o].render(s,i,o,e)),l.append(d.get(0)),a.append(l.get(0))}return a},t.prototype.buildRowHTML=function(e,t,n){var i="<tr",a=this.getRowId(e,this.options,n);i+=' data-id="'+a+'"',a===this.state.lastLockedRowId?i+=' class="locked"':a===this.state.lastClickRowId&&(i+=' class="active"'),i+=">";for(var r=0;r<t.length;r++){var o=e[t[r].name],s='<td data-id="'+a+'" data-field="'+t[r].name+'"';t[r].className&&(s+=' class="'+t[r].className+'"'),s+=">",i+=s+='<div class="cell-div">'+t[r].render(o,n,r,e)+"</div>"+"</td>"}return i+="</tr>"},t.prototype.updateStateSort=function(e,i){var a=this.state.$dom.$thead.find("tr").find("th:eq("+this.state.currentSortColumnIndex+")").find("i."+(this.state.currentSortDirection===n.ASCEND?"up":"down"));void 0!==this.state.currentSortColumnIndex&&void 0===e?(a.removeClass(t.sortOnClass).addClass(t.sortOffClass),this.state.currentSortColumnIndex=void 0,this.state.currentSortDirection=void 0):(this.state.$dom.$thead.find("tr").find("th:eq("+e+")").find("i."+(i===n.ASCEND?"up":"down")).removeClass(t.sortOffClass).addClass(t.sortOnClass),this.state.currentSortColumnIndex=e,this.state.currentSortDirection=i)},t.prototype.updateStateData=function(e){this.options.handleSort?this.state.data=this.buildStateData(e):this.state.data=this.buildStateData(e,this.state.currentSortColumnIndex,this.state.currentSortDirection),this.render()},t.prototype.updateOptionData=function(e){var t=this.getRowId(e,this.options),n=this.findRow(this.options.data,this.options,t);if(null!==n)for(var i=n[0],a=this.findRow(this.state.data,this.options,t),r=a[0],o=a[1],s=Object.keys(i),l=function(n){var a=s[n];if(void 0!==e[a]){i[a]=e[a],r[a]=e[a];var l=d.state.$dom.$tbody.find('tr[data-id="'+t+'"]').find('td[data-field="'+a+'"]');if(l.length>0){for(var c=void 0,u=0;u<d.options.columns.length;u++){var h=d.options.columns[u];if(h.name===a){c=h;break}}if(void 0!==c){var p=l.children("div").html(),f=c.render(r[a],o,u,e);p!==f&&(d.options.flashWhenUpdate&&(l.addClass("change"),setTimeout((function(){l.removeClass("change")}),1100)),l.children("div").html(f))}}}},d=this,c=0;c<s.length;c++)l(c);else console.error("update option data not found:",e)},t.prototype.replaceOptionData=function(e){this.options.data=e,this.updateStateData(e)},t.prototype.appendOptionData=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.options.data.push(n),this.state.data.push(n);var i=this.buildRow(n,this.options.columns,this.getDataLength()-1);this.state.$dom.$tbody.append(i.get(0))}if(this.options.scrollWhenAppend){var a=this.state.$dom.$table.outerHeight();this.updateScrollTop(a-40,500)}},t.prototype.prependOptionData=function(e){var t,n;(t=this.options.data).splice.apply(t,[0,0].concat(e)),(n=this.state.data).splice.apply(n,[0,0].concat(e)),this.render(),this.updateScrollTop(0,500)},t.prototype.deleteOptionData=function(e){e.indexOf(this.state.lastClickRowId)>=0&&(this.state.lastClickRowId=void 0),e.indexOf(this.state.lastLockedRowId)>=0&&(this.state.lastLockedRowId=void 0);for(var t=0;t<e.length;t++){var n=e[t],i=this.findRow(this.options.data,this.options,n)[1];this.options.data.splice(i,1);var a=this.findRow(this.state.data,this.options,n)[1];this.state.data.splice(a,1)}this.render()},t.prototype.setActiveRow=function(e){this.handleTdClickDomOpe(e,-1)},t.prototype.setLockedRow=function(e){this.handleTdDblClickDomOpe(e,-1)},t.prototype.buildStateData=function(e,t,n){var i=this.shadowCopyArray(e);return i=this.sortData(i,this.options.columns,t,n)},t.prototype.getDataLength=function(){return this.state&&this.state.data?this.state.data.length:0},t.prototype.destory=function(){this.state&&(this.state.$dom.$origin.empty(),this.state.$dom=void 0,this.state=void 0),this.options&&(this.options=void 0)},t.arrowClass="i-arrow",t.actionClass="i-table-has-actions",t.resizeClass="i-table-resizable",t.sortHandleClass="i-table-sort-handle",t.thCellDivClass="i-th-cell-div",t.sortOnClass="on",t.sortOffClass="off",t.resizeHandleClass="i-table-resizable-handle",t.rootTmpl='<div class="i-root-container"></div>',t.containerTmpl='<div class="i-table-container"></div>',t.outerTmpl='<div class="i-table-outer"></div>',t.innerTmpl='<div class="i-table-inner"></div>',t.tableWraperTmpl='<div class="i-table-wraper"></div>',t.tableTmpl='<table class="table table-striped table-bordered i-table"></table>',t.colgroupTmpl="<colgroup></colgroup>",t.colTmpl="<col></col>",t.theadTmpl="<thead></thead>",t.trTmpl="<tr></tr>",t.thTmpl="<th></th>",t.tbodyTmpl="<tbody></tbody>",t.tdTmpl="<td></td>",t.resizeHandleTmpl='<span class="'+t.resizeHandleClass+'"></span>',t.cellDivTmpl='<div class="cell-div"></div>',t.thCellDivTmpl='<div class="'+t.thCellDivClass+'"></div>',t.upTmpl='<i class="'+t.sortHandleClass+' up">\n  <svg viewBox="0 0 1024 1024"  width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"></path></svg>\n  </i>',t.downTmpl='<i class="'+t.sortHandleClass+' down">\n  <svg viewBox="0 0 1024 1024"  width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"></path></svg>\n  </i>',t}(i),s=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.initHtml=function(e){var n=this.options,i=e.width(),a=e.height(),r=this.buildDom(t.headContainerTmpl),s=this.buildDom(o.tableTmpl),l=this.buildDom(o.colgroupTmpl),d=this.buildDom(o.outerTmpl),c=this.buildDom(o.innerTmpl),u=this.buildDom(o.rootTmpl),h=this.buildDom(t.contentContainerTmpl),p=this.buildDom(o.outerTmpl),f=this.buildDom(o.innerTmpl),m=this.buildDom(o.tableWraperTmpl),g=this.buildDom(n.striped?o.tableTmpl:o.tableTmpl.replace("table-striped","")),v=this.buildDom(o.colgroupTmpl),y=this.buildDom(o.theadTmpl),b=this.buildDom(o.tbodyTmpl);this.state.height=a,this.state.width=i,this.state.$dom={$origin:e,$root:u,$container:h,$inner:f,$tableWraper:m,$table:g,$colgroup:l,$thead:y,$tbody:b},"number"==typeof n.width&&u.css("width",n.width+"px"),e.empty(),e.append(u.get(0)),u.append(r.get(0)).append(h.get(0)),r.append(d.get(0)),d.append(c.get(0)),c.append(s.get(0)),h.append(p.get(0)),p.append(f.get(0)),f.append(m.get(0)),m.append(g.get(0)),s.append(l.get(0)).append(y.get(0)),g.append(v.get(0)).append(b.get(0));var w=this.buildDom(o.trTmpl);y.append(w.get(0));for(var C=0;C<n.columns.length;C++){var _=n.columns[C],x=this.buildCol(_,C),T=this.buildCol(_,C),S=this.buildTh(_,C);l.append(x.get(0)),v.append(T.get(0)),w.append(S.get(0))}},t.prototype.getResizeDom=function(){var e=this.state.$dom.$resizingDom.index(),t=this.state.$dom.$table.find("colgroup>col:eq("+e+")"),n=[this.state.$dom.$resizingDom,t];if(this.detectIE()){var i=this.state.$dom.$resizingDom.index(),a=this.state.$dom.$thead.find("th:eq("+i.toString()+")");n.push(a)}return n},t.headContainerTmpl='<div class="i-table-head-container"></div>',t.contentContainerTmpl='<div class="i-table-content-container"></div>',t}(o),l=function(e){function t(t,n){var i=e.call(this)||this;return i.setOption(n,t),i}return r(t,e),t.prototype.setOption=function(e,t){var n=void 0===t?this.state.$dom.$origin:t;this.destory(!1);var i=$.extend({name:"freezeColumnTable"},e);this.options=i;var a=this.packageColumn(i.columns),r=a[0],o=a[1],s=this.splitColumns(i),l=s[0],d=s[1],c=0,u=0;l.forEach((function(e){c+="number"==typeof e.width?e.width:parseFloat(e.width)})),d.forEach((function(e){u+="number"==typeof e.width?e.width:parseFloat(e.width)}));var h=this.buildStateData(i.data,r,o),p=this.splitData(h,l,d),f=p[0],m=p[1],g=$.extend(!1,{},i),v=$.extend(!1,{},i);g.name="left",g.columns=l,g.data=f,g.width=c,g.parentTable=this,g.handleScroll=this.handleScrollTop.bind(this),g.handleEnter=this.handleActiveTable.bind(this),g.handleTbodyLeave=this.handleTbodyLeave.bind(this),g.handleSort=this.handleSort.bind(this),"function"==typeof this.options.customHandleSort&&(g.customHandleSort=this.customHandleSort.bind(this)),g.handleTdHover=this.handleTdHover.bind(this),g.handleTdClick=this.handleTdClick.bind(this),g.handleTdDblClick=this.handleTdDblClick.bind(this),v.name="right",v.columns=d,v.data=m,v.width=u,v.parentTable=this,v.handleScroll=this.handleScrollTop.bind(this),v.handleEnter=this.handleActiveTable.bind(this),v.handleTbodyLeave=this.handleTbodyLeave.bind(this),v.handleSort=this.handleSort.bind(this),"function"==typeof this.options.customHandleSort&&(v.customHandleSort=this.customHandleSort.bind(this)),v.handleTdHover=this.handleTdHover.bind(this),v.handleTdClick=this.handleTdClick.bind(this),v.handleTdDblClick=this.handleTdDblClick.bind(this),this.leftOptions=g,this.rightOptions=v,this.state={width:null,height:null,isResizing:!1,data:h},this.initHtml(n)},t.prototype.getOption=function(){return this.options},t.prototype.getState=function(){return this.state},t.prototype.initHtml=function(e){var n=e.width(),i=e.height(),a=this.buildDom(t.rowTmpl),r=this.buildDom(t.leftTmpl),l=this.buildDom(t.rightTmpl);this.state.height=i,this.state.width=n,this.state.$dom={$origin:e,$root:a,$container:null,$inner:null,$table:null,$colgroup:null,$thead:null,$tbody:null},this.$left=r,e.empty(),e.append(a.get(0)),a.append(r.get(0)).append(l.get(0)),r.css("width",this.leftOptions.width+"px"),l.css("paddingLeft",this.leftOptions.width+"px"),this.leftTable=this.leftOptions.freezeHead?new s(e.find(".i-left"),this.leftOptions):new o(e.find(".i-left"),this.leftOptions),this.rightTable=this.rightOptions.freezeHead?new s(e.find(".i-right"),this.rightOptions):new o(e.find(".i-right"),this.rightOptions),l.on("scroll",this.handleScrollRight.bind(this))},t.prototype.splitColumns=function(e){for(var t=[],n=[],i=0;i<e.columns.length;i++){var a=e.columns[i];a.isFrozen?t.push(a):n.push(a)}return[t,n]},t.prototype.splitData=function(e,t,n){for(var i=[],a=[],r=0;r<e.length;r++){var o=e[r];i.push(o),a.push(o)}return[i,a]},t.prototype.getRealCellIndex=function(e){return"left"===this.activeTableName?e:this.leftOptions.columns.length+e},t.prototype.updateOptionData=function(e){var t=this.getRowId(e,this.options),n=this.findRow(this.options.data,this.options,t);if(null!==n){for(var i=n[0],a=this.findRow(this.state.data,this.options,t),r=a[0],o=(a[1],Object.keys(i)),s=0;s<o.length;s++){var l=o[s];void 0!==e[l]&&(i[l]=e[l],r[l]=e[l])}this.leftTable.updateOptionData(e),this.rightTable.updateOptionData(e)}else console.log("not find:",e)},t.prototype.replaceOptionData=function(e){this.options.data=e;var t=this.buildStateData(this.options.data,this.state.currentSortColumnIndex,this.state.currentSortDirection);this.state.data=t;var n=this.splitColumns(this.options),i=n[0],a=n[1],r=this.splitData(this.options.data,i,a),o=r[0],s=r[1];this.leftTable.replaceOptionData(o),this.rightTable.replaceOptionData(s)},t.prototype.appendOptionData=function(e){var t,n;(t=this.options.data).push.apply(t,e),(n=this.state.data).push.apply(n,e),this.leftTable.appendOptionData(e),this.rightTable.appendOptionData(e)},t.prototype.prependOptionData=function(e){var t,n;(t=this.options.data).splice.apply(t,[0,0].concat(e)),(n=this.state.data).splice.apply(n,[0,0].concat(e)),this.leftTable.prependOptionData(e),this.rightTable.prependOptionData(e)},t.prototype.deleteOptionData=function(e){e.indexOf(this.state.lastClickRowId)>=0&&(this.state.lastClickRowId=void 0),e.indexOf(this.state.lastLockedRowId)>=0&&(this.state.lastLockedRowId=void 0);for(var t=0;t<e.length;t++){var n=e[t],i=this.findRow(this.options.data,this.options,n)[1];this.options.data.splice(i,1);var a=this.findRow(this.state.data,this.options,n)[1];this.state.data.splice(a,1)}this.leftTable.deleteOptionData(e),this.rightTable.deleteOptionData(e)},t.prototype.setActiveRow=function(e){this.state.lastClickRowId===e?this.state.lastClickRowId=void 0:this.state.lastClickRowId=e,this.leftTable.setActiveRow(e),this.rightTable.setActiveRow(e)},t.prototype.setLockedRow=function(e){this.state.lastLockedRowId===e?this.state.lastLockedRowId=void 0:this.state.lastLockedRowId=e,this.leftTable.setLockedRow(e),this.rightTable.setLockedRow(e)},t.prototype.updateStateData=function(e){this.state.data=this.buildStateData(e,this.state.currentSortColumnIndex,this.state.currentSortDirection);var t=this.splitColumns(this.options),n=t[0],i=t[1],a=this.splitData(this.state.data,n,i),r=a[0],o=a[1];this.leftTable.updateStateData(r),this.rightTable.updateStateData(o)},t.prototype.buildStateData=function(e,t,n){var i=this.shadowCopyArray(e);return i=this.sortData(i,this.options.columns,t,n)},t.prototype.handleSort=function(e,t){var n=this.options.data,i=this.splitColumns(this.options),a=i[0],r=i[1],o=this.shadowCopyArray(n),s=void 0;void 0!==e&&(s="left"===this.activeTableName?e:a.length+e),o=this.sortData(o,this.options.columns,s,t);var l=this.splitData(o,a,r),d=l[0],c=l[1];this.state.currentSortColumnIndex=s,this.state.currentSortDirection=t,"left"===this.activeTableName?this.rightTable.updateStateSort(void 0,void 0):this.leftTable.updateStateSort(void 0,void 0),this.leftTable.updateStateData(d),this.rightTable.updateStateData(c),"function"==typeof this.options.handleSort&&this.options.handleSort(e,t)},t.prototype.customHandleSort=function(e,t){this.options.data;var n=this.splitColumns(this.options),i=n[0];n[1];void 0!==e&&("left"===this.activeTableName||i.length),"function"==typeof this.options.customHandleSort&&this.options.customHandleSort(e,t)},t.prototype.handleTdClick=function(e,t,n){this.options.clickMeansActive&&(this.state.lastClickRowId!==e||this.options.cancelActiveRow)&&("left"===this.activeTableName?this.rightTable.handleTdClickDomOpe(e,t):this.leftTable.handleTdClickDomOpe(e,t)),"function"==typeof this.options.handleTdClick&&this.options.handleTdClick(e,this.getRealCellIndex(t),n),this.state.lastClickRowId=e},t.prototype.handleTdDblClick=function(e,t,n){this.state.lastLockedRowId=e,this.options.dblClickMeansLock&&("left"===this.activeTableName?this.rightTable.handleTdDblClickDomOpe(e,t):this.leftTable.handleTdDblClickDomOpe(e,t)),"function"==typeof this.options.handleTdDblClick&&this.options.handleTdDblClick(e,this.getRealCellIndex(t),n)},t.prototype.handleTdHover=function(e,t,n){this.rightTable.handleTdHoverDomOpe(e,t),this.leftTable.handleTdHoverDomOpe(e,t),"function"==typeof this.options.handleTdHover&&this.options.handleTdHover(e,this.getRealCellIndex(t),n)},t.prototype.handleActiveTable=function(e){this.activeTableName=e},t.prototype.handleScrollTop=function(e){"left"===this.activeTableName?this.rightTable.updateScrollTop(e):this.leftTable.updateScrollTop(e),"function"==typeof this.options.handleScroll&&this.options.handleScroll(e)},t.prototype.handleTbodyLeave=function(e){this.leftTable.handleTdHoverDomOpe(void 0,void 0),this.rightTable.handleTdHoverDomOpe(void 0,void 0)},t.prototype.handleScrollRight=function(e){$(e.target).scrollLeft()>0?this.attachedClass2LeftTable||(this.attachedClass2LeftTable=!0,this.$left.addClass(t.leftShadowClass)):(this.attachedClass2LeftTable=!1,this.$left.removeClass(t.leftShadowClass))},t.prototype.updateScrollTop=function(e,t){this.rightTable.updateScrollTop(e),this.leftTable.updateScrollTop(e)},t.prototype.render=function(){this.leftTable.render(),this.rightTable.render()},t.prototype.getDataLength=function(){return this.state&&this.state.data?this.state.data.length:0},t.prototype.destory=function(e){this.state&&(this.state.$dom.$origin.empty(),this.state.$dom=void 0,this.state=void 0),!0===e&&this.leftTable&&(this.leftTable.destory(),this.rightTable.destory(),this.$left=void 0),this.options&&(this.options=void 0)},t.leftShadowClass="i-table-scroll-middle",t.rowTmpl='<div class="i-row"></div>',t.leftTmpl='<div class="i-left"></div>',t.rightTmpl='<div class="i-right"></div>',t}(i);jQuery.fn.extend({itable:function(e){if(!e.columns||0===e.columns.length)throw new Error("");if(e.freezeColumn||e.freezeHead){for(var t=!1,n=0;n<e.columns.length;n++){if("number"!=typeof(a=e.columns[n]).width)throw new Error("");if(!1===t&&!0===a.isFrozen&&(t=!0),e.freezeColumn&&a.isSequence&&!a.isFrozen)throw new Error("")}if(e.freezeColumn&&!1===t)throw new Error(" isFrozen  true")}var i=!1;for(n=0;n<e.columns.length;n++){var a;if((a=e.columns[n]).defaultSortOrder){if(!1!==i)throw new Error("");i=!0}}return!0===e.freezeColumn?new l(this,e):!0===e.freezeHead?new s(this,e):new o(this,e)}})},function(e,t,n){},function(e,t){!function(e){var t,n,i,a,r,o,s,l,d,c={setNakedBarDelta:function(e,t){if("stickToSides"===e)d={toEndWidth:t,toBeginLeft:0,toBeginWidth:t};else{if("middle"!==e)throw new Error("unknown position of setNakedBarDelta: "+e);d={toEndWidth:t/2,toBeginLeft:t/2,toBeginWidth:t/2}}},getSliderValuesAtPositionPx:function(e,t){var n,i,a=this.data("pixel_to_value_mapping");if(void 0!==a)n=a(e),i=a(t);else{var r=c.getSliderWidthPx.call(this)-this.data("left_grip_width");n=c.inverse_rangemap_0_to_n.call(this,e,r),i=c.inverse_rangemap_0_to_n.call(this,t,r)}return[n,i]},validateAndMoveGripsToPx:function(e,t){var n=c.getSliderWidthPx.call(this)-this.data("left_grip_width");if(t<=n&&e>=0&&e<=n&&(!this.data("has_right_grip")||e<=t)){var i=this.data("cur_min"),a=this.data("cur_max");c.set_position_from_px.call(this,e,t),c.refresh_grips_style.call(this),c.notify_changed_implicit.call(this,"drag_move",i,a)}return this},updateAriaAttributes:function(){var e=this.data("settings"),t=this.find(e.left_grip_selector);if(this.data("has_right_grip")){var n=this.find(e.right_grip_selector);t.attr("aria-valuemin",this.data("range_min")).attr("aria-valuenow",u.get_current_min_value.call(this)).attr("aria-valuemax",u.get_current_max_value.call(this)),n.attr("aria-valuemin",u.get_current_min_value.call(this)).attr("aria-valuenow",u.get_current_max_value.call(this)).attr("aria-valuemax",this.data("range_max"))}else t.attr("aria-valuemin",this.data("range_min")).attr("aria-valuenow",u.get_current_min_value.call(this)).attr("aria-valuemax",this.data("range_max"));return this},getSliderWidthPx:function(){return Math.round(this.width())},getGripPositionPx:function(e){return parseInt(e.css("left").replace("px",""),10)},getLeftGripPositionPx:function(){var e=this.data("settings"),t=this.find(e.left_grip_selector);return c.getGripPositionPx.call(this,t)},getRightGripPositionPx:function(){var e=this.data("settings");if(this.data("has_right_grip"))return c.getGripPositionPx.call(this,this.find(e.right_grip_selector));var t=c.getSliderWidthPx.call(this)-this.data("left_grip_width");return c.rangemap_0_to_n.call(this,this.data("cur_max"),t)},getLeftGripWidth:function(){var e=this.data("settings"),t=this.find(e.left_grip_selector);return Math.round(t.outerWidth())},getRightGripWidth:function(){var e=this.data("settings"),t=this.find(e.right_grip_selector);return Math.round(t.outerWidth())},binarySearchValueToPxCompareFunc:function(t,n,i){return t===n[i]||t<n[i]&&0===i||n[i-1]<=t&&t<n[i]?0:t>n[i]?1:t<=n[i-1]?-1:void e.error("cannot compare s: "+t+" with a["+i+"]. a is: "+n.join(","))},binarySearch:function(e,t,n,i){for(var a,r=0,o=e.length-1;r<=o;){n(e,a=(r+o)/2|0);var s=i(t,e,a);if(s>0)r=a+1;else{if(!(s<0))return a;o=a-1}}return-1},haveLimits:function(){var e=this.data("lower-limit"),t=this.data("upper-limit"),n=!1;return void 0!==e&&void 0!==t&&(n=!0),n},refresh_grips_style:function(){var e=this.data("settings");if(void 0!==e.highlight){var t=this.data("highlightedRangeMin");if(void 0!==t){var n=this.find(e.left_grip_selector),i=this.find(e.right_grip_selector),a=this.data("highlightedRangeMax"),r=this.data("cur_min"),o=this.data("cur_max"),s=e.highlight.grip_class;r<t||r>a?n.removeClass(s):n.addClass(s),o<t||o>a?i.removeClass(s):i.addClass(s)}}},set_position_from_val:function(e,t){var n=this.data("range_min"),i=this.data("range_max");e<n&&(e=n),e>i&&(e=i),this.data("has_right_grip")?(t>i&&(t=i),t<n&&(t=n)):t=this.data("cur_max");var a=u.value_to_px.call(this,e),r=u.value_to_px.call(this,t);return c.set_handles_at_px.call(this,a,r),this.data("cur_min",e),this.data("has_right_grip")&&this.data("cur_max",t),this},set_position_from_px:function(e,t){c.set_handles_at_px.call(this,e,t);var n=c.getSliderValuesAtPositionPx.call(this,e,t),i=n[0],a=n[1];return this.data("cur_min",i),this.data("has_right_grip")&&this.data("cur_max",a),this},set_handles_at_px:function(e,t){var n=this.data("settings"),i=n.left_grip_selector,a=n.right_grip_selector,r=n.value_bar_selector,o=this.data("left_grip_width");return this.find(i).css("left",e+"px"),this.find(a).css("left",t+"px"),this.data("has_right_grip")?this.find(r).css("left",e+"px").css("width",t-e+o+"px"):(d||c.populateNakedBarDeltas.call(this,e,t,o),t>e?this.find(r).css("left",e+"px").css("width",t-e+d.toEndWidth+"px"):this.find(r).css("left",t+d.toBeginLeft+"px").css("width",e-t+d.toBeginWidth+"px")),this},drag_start_func_touch:function(e,t,n,a,r){var o=e.originalEvent,s=o.touches[0],l=s.pageY,d=s.pageX,u=Math.abs(this.offset().top-l),h=this.offset().left,p=h-d,f=d-(h+this.width());u>t.touch_tolerance_value_bar_y||p>t.touch_tolerance_value_bar_x||f>t.touch_tolerance_value_bar_x||(o.preventDefault(),i=s.pageX,c.drag_start_func.call(this,s,t,n,a,r))},drag_start_func:function(i,r,o,s,l){if(this.find(r.left_grip_selector+","+r.value_bar_selector+","+r.right_grip_selector).removeClass(r.animating_css_class),u.is_enabled.call(this)){var d=e(i.target),h=!1;if("object"==typeof r.highlight&&(h=d.is(r.highlight.panel_selector)),!1!==l||d.is(r.left_grip_selector)||d.is(r.right_grip_selector)||d.is(r.value_bar_selector)||h||d.is(this)){t=this;var p,f,m,g,v,y,b=c.getGripPositionPx.call(this,o),w=c.getSliderWidthPx.call(this)-this.data("left_grip_width"),C=o.offset().left,_=c.getRightGripPositionPx.call(this);f=Math.round(i.pageX)-this.data("left_grip_width")/2,m=Math.abs(C-f),v=f-C,this.data("has_right_grip")?(p=s.offset().left,g=Math.abs(p-f),y=f-p):(g=2*m,y=2*v),r.user_drag_start_callback.call(this,i),m===g?f<C?(b+=v,a=!0):(_+=y,a=!1):m<g?(b+=v,a=!0):(_+=y,a=!1),this.data("has_right_grip")?_>w&&(_=w):b>w&&(b=w),b<0&&(b=0),n=!0;var x=this.data("cur_min"),T=this.data("cur_max");c.set_position_from_px.call(this,b,_),c.refresh_grips_style.call(this),c.notify_changed_implicit.call(this,"drag_start",x,T),"[object Touch]"!==Object.prototype.toString.apply(i)&&i.preventDefault()}}},drag_move_func_touch:function(e){if(!0===n){var t=e.originalEvent;t.preventDefault();var i=t.touches[0];c.drag_move_func(i)}},drag_move_func:function(e){if(n){var r=t,o=r.data("settings"),s=c.getSliderWidthPx.call(r)-r.data("left_grip_width"),l=c.getLeftGripPositionPx.call(r),d=c.getRightGripPositionPx.call(r),u=Math.round(e.pageX),h=u-i,p=r.data("left_grip_width")/2,f=r.offset().left+r.data("left_grip_width")-p,m=f+s;!1===o.crossable_handles&&r.data("has_right_grip")&&(a?m=f+d:f+=l);var g=0,v=0;u<f&&(g=1,v=0),u>m&&(v=1,g=0),!0===o.crossable_handles&&r.data("has_right_grip")&&(a?d<=s&&l+h>d&&(a=!1,l=d):l>=0&&d+h<l&&(a=!0,d=l));var y=l,b=d;(h>0&&!g||h<0&&!v)&&(a?y+=h:b+=h),c.validateAndMoveGripsToPx.call(r,y,b),i=u,"[object Touch]"!==Object.prototype.toString.apply(e)&&e.preventDefault()}},drag_end_func_touch:function(e){var t=e.originalEvent;t.preventDefault();var n=t.touches[0];c.drag_end_func(n)},drag_end_func:function(){var e=t;if(void 0!==e){n=!1,i=void 0,c.notify_mouse_up_implicit.call(e,a),t=void 0;var r=e.data("settings");e.find(r.left_grip_selector+","+r.value_bar_selector+","+r.right_grip_selector).addClass(r.animating_css_class)}},get_rounding_for_value:function(e){var t=this.data("rounding"),n=this.data("rounding_ranges");if("object"==typeof n){var i=c.binarySearch.call(this,n,e,(function(e,t){return e[t].range}),(function(e,t,n){return e<t[n].range?n>0?e>=t[n-1].range?0:-1:0:1}));if(t=1,i>-1)t=parseInt(n[i].value,10);else{var a=n.length-1;e>=n[a].range&&(t=n[a].value)}}return t},notify_mouse_up_implicit:function(e){var t=u.get_current_min_value.call(this),n=u.get_current_max_value.call(this),i=!1;return this.data("beforestart_min")===t&&this.data("beforestart_max")===n||(i=!0,this.data("beforestart_min",t),this.data("beforestart_max",n)),this.data("settings").user_mouseup_callback.call(this,u.get_current_min_value.call(this),u.get_current_max_value.call(this),e,i),this},notify_changed_implicit:function(e,t,n){var i=!1;"init"!==e&&"refresh"!==e||(i=!0);var a=u.get_current_min_value.call(this),r=u.get_current_max_value.call(this);return i||(t=u.round_value_according_to_rounding.call(this,t),n=u.round_value_according_to_rounding.call(this,n)),(i||a!==t||r!==n)&&(c.notify_changed_explicit.call(this,e,t,n,a,r),i=1),i},notify_changed_explicit:function(e,t,n,i,a){var r=this.data("settings");return this.data("aria_enabled")&&c.updateAriaAttributes.call(this),r.value_changed_callback.call(this,e,i,a,t,n),this},validate_params:function(t){var n=this.data("range_min"),i=this.data("range_max"),a=this.data("cur_min"),r=this.data("lower-limit"),o=this.data("upper-limit"),s=c.haveLimits.call(this);void 0===n&&e.error("the data-range_min attribute was not defined"),void 0===i&&e.error("the data-range_max attribute was not defined"),void 0===a&&e.error("the data-cur_min attribute must be defined"),n>i&&e.error("Invalid input parameter. must be min < max"),s&&r>o&&e.error("Invalid data-lower-limit or data-upper-limit"),0===this.find(t.left_grip_selector).length&&e.error("Cannot find element pointed by left_grip_selector: "+t.left_grip_selector),void 0!==t.right_grip_selector&&0===this.find(t.right_grip_selector).length&&e.error("Cannot find element pointed by right_grip_selector: "+t.right_grip_selector),void 0!==t.value_bar_selector&&0===this.find(t.value_bar_selector).length&&e.error("Cannot find element pointed by value_bar_selector"+t.value_bar_selector)},rangemap_0_to_n:function(e,t){var n=this.data("range_min"),i=this.data("range_max");return e<=n?0:e>=i?t:Math.floor((t*e-t*n)/(i-n))},inverse_rangemap_0_to_n:function(e,t){var n=this.data("range_min"),i=this.data("range_max");return e<=0?n:e>=t?i:(i-n)*e/t+n}},u={teardown:function(){return this.removeData(),e(document).unbind("mousemove.nstSlider").unbind("mouseup.nstSlider"),this.parent().unbind("mousedown.nstSlider").unbind("touchstart.nstSlider").unbind("touchmove.nstSlider").unbind("touchend.nstSlider"),this.unbind("keydown.nstSlider").unbind("keyup.nstSlider"),this},init:function(t){var n=e.extend({animating_css_class:"nst-animating",touch_tolerance_value_bar_y:30,touch_tolerance_value_bar_x:15,left_grip_selector:".nst-slider-grip-left",right_grip_selector:void 0,highlight:void 0,rounding:void 0,value_bar_selector:void 0,crossable_handles:!0,value_changed_callback:function(){},user_mouseup_callback:function(){},user_drag_start_callback:function(){}},t),i=e(document);return i.unbind("mouseup.nstSlider"),i.unbind("mousemove.nstSlider"),i.bind("mousemove.nstSlider",c.drag_move_func),i.bind("mouseup.nstSlider",c.drag_end_func),this.each((function(){var t=e(this),i=t.parent();t.data("enabled",!0);var d=t.data("range_min"),h=t.data("range_max"),p=t.data("cur_min"),f=t.data("cur_max");void 0===f&&(f=p),""===d&&(d=0),""===h&&(h=0),""===p&&(p=0),""===f&&(f=0),t.data("range_min",d),t.data("range_max",h),t.data("cur_min",p),t.data("cur_max",f),c.validate_params.call(t,n),t.data("settings",n),void 0!==n.rounding?u.set_rounding.call(t,n.rounding):void 0!==t.data("rounding")?u.set_rounding.call(t,t.data("rounding")):u.set_rounding.call(t,1);var m=t.find(n.left_grip_selector)[0],g=e(m),v=e(t.find(n.right_grip_selector)[0]);void 0===g.attr("tabindex")&&g.attr("tabindex",0);var y=!1;t.find(n.right_grip_selector).length>0&&(y=!0,void 0===v.attr("tabindex")&&v.attr("tabindex",0)),t.data("has_right_grip",y),!0===t.data("aria_enabled")&&(g.attr("role","slider").attr("aria-disabled","false"),y&&v.attr("role","slider").attr("aria-disabled","false")),t.bind("keyup.nstSlider",(function(e){if(t.data("enabled")){switch(e.which){case 37:case 38:case 39:case 40:if(r===s){var n,i,d=c.getSliderWidthPx.call(t);if(o-l<0){for(n=l;n<=d;n++)if(u.round_value_according_to_rounding.call(t,c.getSliderValuesAtPositionPx.call(t,n,n)[1])!==s){i=n;break}}else for(n=l;n>=0;n--)if(u.round_value_according_to_rounding.call(t,c.getSliderValuesAtPositionPx.call(t,n,n)[1])!==s){i=n;break}a?c.validateAndMoveGripsToPx.call(t,i,c.getRightGripPositionPx.call(t)):c.validateAndMoveGripsToPx.call(t,c.getLeftGripPositionPx.call(t),i),c.notify_mouse_up_implicit.call(t,a)}}r=void 0,o=void 0,s=void 0,l=void 0}})),t.bind("keydown.nstSlider",(function(e){if(t.data("enabled")){var n=function(e,n){var i=c.getLeftGripPositionPx.call(t),d=c.getRightGripPositionPx.call(t);switch(void 0===r&&(o=a?i:d,r=a?u.get_current_min_value.call(t):u.get_current_max_value.call(t)),n.which){case 37:case 40:a?i--:d--,n.preventDefault();break;case 38:case 39:a?i++:d++,n.preventDefault()}l=a?i:d,c.validateAndMoveGripsToPx.call(t,i,d),s=a?u.get_current_min_value.call(t):u.get_current_max_value.call(t)};y&&t.find(":focus").is(v)?(a=!1,n.call(t,v,e)):(a=!0,n.call(t,g,e))}}));var b=c.getLeftGripWidth.call(t),w=y?c.getRightGripWidth.call(t):b;if(t.data("left_grip_width",b),t.data("right_grip_width",w),t.data("value_bar_selector",n.value_bar_selector),!y){var C=f===h||f===d;c.setNakedBarDelta.call(t,C?"stickToSides":"middle",b)}d===h||p===f?u.set_range.call(t,d,h):c.set_position_from_val.call(t,t.data("cur_min"),t.data("cur_max")),c.notify_changed_implicit.call(t,"init"),t.data("beforestart_min",u.get_current_min_value.call(t)),t.data("beforestart_max",u.get_current_max_value.call(t)),t.bind("mousedown.nstSlider",(function(e){c.drag_start_func.call(t,e,n,g,v,!1)})),i.bind("touchstart.nstSlider",(function(e){c.drag_start_func_touch.call(t,e,n,g,v,!0)})),i.bind("touchend.nstSlider",(function(e){c.drag_end_func_touch.call(t,e)})),i.bind("touchmove.nstSlider",(function(e){c.drag_move_func_touch.call(t,e)}));var _=t.data("histogram");void 0!==_&&u.set_step_histogram.call(t,_)}))},get_range_min:function(){return this.data("range_min")},get_range_max:function(){return this.data("range_max")},get_current_min_value:function(){var t,n=e(this),i=u.get_range_min.call(n),a=u.get_range_max.call(n),r=n.data("cur_min");if(t=i>=r?i:u.round_value_according_to_rounding.call(n,r),c.haveLimits.call(n)){if(t<=i)return n.data("lower-limit");if(t>=a)return n.data("upper-limit")}else{if(t<=i)return i;if(t>=a)return a}return t},get_current_max_value:function(){var t,n=e(this),i=u.get_range_min.call(n),a=u.get_range_max.call(n),r=n.data("cur_max");if(t=a<=r?a:u.round_value_according_to_rounding.call(n,r),c.haveLimits.call(n)){if(t>=a)return n.data("upper-limit");if(t<=i)return n.data("lower-limit")}else{if(t>=a)return a;if(t<=i)return i}return t},is_handle_to_left_extreme:function(){return c.haveLimits.call(this)?this.data("lower-limit")===u.get_current_min_value.call(this):u.get_range_min.call(this)===u.get_current_min_value.call(this)},is_handle_to_right_extreme:function(){return c.haveLimits.call(this)?this.data("upper-limit")===u.get_current_max_value.call(this):u.get_range_max.call(this)===u.get_current_max_value.call(this)},refresh:function(){var e=this.data("last_step_histogram");void 0!==e&&u.set_step_histogram.call(this,e),c.set_position_from_val.call(this,u.get_current_min_value.call(this),u.get_current_max_value.call(this));var t=this.data("highlightedRangeMin");if("number"==typeof t){var n=this.data("highlightedRangeMax");u.highlight_range.call(this,t,n)}return c.notify_changed_implicit.call(this,"refresh"),this},disable:function(){var e=this.data("settings");return this.data("enabled",!1).find(e.left_grip_selector).attr("aria-disabled","true").end().find(e.right_grip_selector).attr("aria-disabled","true"),this},enable:function(){var e=this.data("settings");return this.data("enabled",!0).find(e.left_grip_selector).attr("aria-disabled","false").end().find(e.right_grip_selector).attr("aria-disabled","false"),this},is_enabled:function(){return this.data("enabled")},set_position:function(e,t){var n=this.data("cur_min"),i=this.data("cur_max");e>t?c.set_position_from_val.call(this,t,e):c.set_position_from_val.call(this,e,t),c.refresh_grips_style.call(this),c.notify_changed_implicit.call(this,"set_position",n,i),this.data("beforestart_min",e),this.data("beforestart_max",t)},set_step_histogram:function(t){var n=this;n.data("last_step_histogram",t),void 0===t&&(e.error("got an undefined histogram in set_step_histogram"),c.unset_step_histogram.call(n));var i=c.getSliderWidthPx.call(n)-n.data("left_grip_width"),a=t.length;if(!(i<=0)){var r,o=0;for(r=0;r<a;r++)o+=t[r];if(0===o)return u.unset_step_histogram.call(n),n;var s=parseFloat(o)/i;for(r=0;r<a;r++)t[r]=t[r]/s;var l=[t[0]];for(r=1;r<a;r++){var d=l[r-1]+t[r];l.push(d)}l.push(i);for(var h=[n.data("range_min")],p=0,f=h[0],m=0;p<=i;){var g=parseInt(l.shift(),10),v=c.inverse_rangemap_0_to_n.call(n,m+1,a+1);m++;var y=g-p,b=v-f;for(r=p;r<g;r++){var w=f+b*(r-p+1)/y;h.push(w),p++,f=w}if(p===i)break}h[h.length-1]=n.data("range_max");return n.data("pixel_to_value_mapping",(function(e){return h[parseInt(e,10)]})),n.data("value_to_pixel_mapping",(function(e){var t=c.binarySearch.call(n,h,e,(function(e,t){return e[t]}),c.binarySearchValueToPxCompareFunc);return h[t]===e?t:Math.abs(h[t-1]-e)<Math.abs(h[t]-e)?t-1:t})),n}},unset_step_histogram:function(){return this.removeData("pixel_to_value_mapping"),this.removeData("value_to_pixel_mapping"),this.removeData("last_step_histogram"),this},set_range:function(e,t){var n=u.get_current_min_value.call(this),i=u.get_current_max_value.call(this);return this.data("range_min",e),this.data("range_max",t),c.set_position_from_val.call(this,n,i),c.notify_changed_implicit.call(this,"set_range",n,i),this},highlight_range:function(t,n){var i=this.data("settings");void 0===i.highlight&&e.error('you cannot call highlight_range if you haven\' specified the "highlight" parameter in construction!'),t||(t=0),n||(n=0);var a=u.value_to_px.call(this,t),r=u.value_to_px.call(this,n)-a+this.data("left_grip_width"),o=this.find(i.highlight.panel_selector);return o.css("left",a+"px"),o.css("width",r+"px"),this.data("highlightedRangeMin",t),this.data("highlightedRangeMax",n),c.refresh_grips_style.call(this),this},set_rounding:function(t){"string"==typeof t&&t.indexOf("{")>-1&&(t=e.parseJSON(t)),this.data("rounding",t);var n=[];if("object"==typeof t){var i;for(i in t)if(t.hasOwnProperty(i)){var a=t[i];n.push({range:a,value:i})}n.sort((function(e,t){return e.range-t.range})),this.data("rounding_ranges",n)}else this.removeData("rounding_ranges");return this},get_rounding:function(){return this.data("rounding")},round_value_according_to_rounding:function(t){var n=c.get_rounding_for_value.call(this,t);if(n>0){var i=t/n,a=parseInt(i,10);return i-a>.5&&a++,a*n}return e.error("rounding must be > 0, got "+n+" instead"),t},value_to_px:function(e){var t=this.data("value_to_pixel_mapping");if(void 0!==t)return t(e);var n=c.getSliderWidthPx.call(this)-this.data("left_grip_width");return c.rangemap_0_to_n.call(this,e,n)}};e.fn.nstSlider=function(t){if(u[t]){if(!0===this.data("initialized"))return u[t].apply(this,Array.prototype.slice.call(arguments,1));throw new Error("method "+t+" called on an uninitialized instance of nstSlider")}if("object"==typeof t||!t)return this.data("initialized",!0),u.init.apply(this,arguments);e.error("Cannot call method "+t)}}(jQuery)},function(e,t){var n,i;n=jQuery,(i=function(e,t){var i=n.extend({channelHeight:30,channelTitleWidth:null,hourWidth:null,minuteWidth:null,secondWidth:null,halfHourWidth:null,containerWidth:null,thumbContainerWidth:null,channelNum:0,sectionTmpl:'<div class="section">$index<div class="section-half"></div></div>',channelTitleTmpl:'<div class="channel-title">$name</div>',channelTmpl:'<div class="channel"></div>',greenTmpl:'<div class="green"></div>',defaultDate:null,onScale:null,onDragStart:null,onDrag:null,onDragEnd:null,onClick:null,onStart:null,onStop:null,onPause:null,onContinue:null,onPlaying:null,onStatusClick:null},t);return i.channelTitleWidth=parseInt(e.find(".left").css("width")),i.containerWidth=parseInt(e.css("width")),i.thumbContainerWidth=i.containerWidth-i.channelTitleWidth,i.hourWidth=i.thumbContainerWidth/24,i.secondWidth=i.minuteWidth=i.thumbContainerWidth/60,i.thumbWidth=parseInt(e.find(".thumb").css("width")),i.channelNum=i.channels.length,this.$this=e,this.options=i,this.state={intervalHour:0,intervalMinute:0,currentHour:0,currentMinute:0,currentSecond:0,currentChannels:i.channels,timeLevel:"hour",isThumbMoving:!1,timerId:null,speed:1,direction:"forward"},this.initHtml(),this.renderHour(),this.initBind(),this.render(),this}).prototype.initHtml=function(){var e=this.$this,t=this.options,i=e.find(".channel-title-container"),a=e.find(".channel-container");i.empty();for(var r=0;r<t.channels.length;r++){var o=t.channels[r];i.append(n(t.channelTitleTmpl.replace("$name",""+o)).attr("id","channelTitle_"+o))}for(a.empty(),r=0;r<t.channels.length;r++){var s=t.channels[r];a.append(n(t.channelTmpl).attr("id","channel_"+s))}e.find(".line").css("height",t.channelHeight*(r+1)+"px");var l=null,d=t.channelData;if(d&&0<Object.keys(d).length){var c=d[Object.keys(d)[0]];l=0<c.length?new Date(c[0].StartTime.replace(/-/g,"/")):t.defaultDate?t.defaultDate:new Date}else l=t.defaultDate?t.defaultDate:new Date;var u=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate();e.find(".day").html(u)},i.prototype.initBind=function(){var e=this,t=this.$this,i=this.options,a=this.state;n(t.find(".ruler")).off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",(function(t){t.preventDefault();var n=t.originalEvent.wheelDelta&&(0<t.originalEvent.wheelDelta?1:-1)||t.originalEvent.detail&&(0<t.originalEvent.detail?-1:1);0<n&&"second"===a.timeLevel||n<0&&"hour"===a.timeLevel||(0<n?("hour"===a.timeLevel?(a.timeLevel="minute",e.renderMinuteSecond()):"minute"===a.timeLevel&&(a.timeLevel="second",e.renderMinuteSecond()),e.updateInterval(t.pageX)):"second"===a.timeLevel?(e.renderMinuteSecond(),a.timeLevel="minute"):"minute"===a.timeLevel&&(e.renderHour(),a.timeLevel="hour"),e.updateIntervalText(),e.onScale())})),t.find(".thumb").off("mousedown").on("mousedown",(function(t){var r=parseInt(n(this).css("left")),o=t.pageX,s=n(this),l=-i.thumbWidth/2,d=i.thumbContainerWidth-i.thumbWidth-l;a.isThumbMoving=!0,e.onDragStart(),n(document).on("mousemove",(function(t){if(a.isThumbMoving){t.preventDefault();var n=t.pageX-o,i=r+n;i<l?s.css("left",l+"px"):d<i?s.css("left",d+"px"):s.css("left",i+"px"),e.updateThumbTime(),e.onDrag()}}))})),n(document).off("mouseup").on("mouseup",(function(t){a.isThumbMoving&&(n(document).off("mousemove"),a.isThumbMoving=!1,e.onDragEnd())})),t.find(".channel-container").off("click").on("click",(function(n){var a=t.find(".thumb"),r=t.offset().left,o=n.pageX-(i.channelTitleWidth+r)-i.thumbWidth/2;a.css({left:o+"px",visibility:"visible"}),e.updateThumbTime(),e.onStatusClick()}))},i.prototype.renderHour=function(){var e=this.$this.find(".ruler");e.empty();for(var t=this.options,i=0;i<24;i++){var a=n(t.sectionTmpl.replace("$index",i));a.css("width",t.hourWidth+"px").css("left",t.thumbContainerWidth*i/24+"px"),a.attr("id","hourSection_"+i),e.append(a)}return this},i.prototype.renderMinuteSecond=function(){var e=this.$this.find(".ruler");e.empty();for(var t=this.options,i=0;i<60;i++){var a=n(t.sectionTmpl.replace("$index",i));a.css("width",t.minuteWidth+"px").css("left",t.thumbContainerWidth*i/60+"px"),a.attr("id","hourSection_"+i),e.append(a)}return this},i.prototype.updateThumbText=function(){var e=this.$this,t=this.state,n=e.find(".thumb .h"),i=e.find(".thumb .m"),a=e.find(".thumb .s");n.html(this.util.padZero(t.currentHour)+":"),i.html(this.util.padZero(t.currentMinute)+":"),a.html(this.util.padZero(t.currentSecond))},i.prototype.updateThumbTime=function(){var e=this.$this,t=this.options,n=this.state,i=e.find(".thumb"),a=parseInt(i.css("left"))+t.thumbWidth/2,r=0;"hour"===n.timeLevel?(r=86400*a/t.thumbContainerWidth,n.currentHour=parseInt(r/3600),r-=3600*n.currentHour,n.currentMinute=parseInt(r/60),r-=60*n.currentMinute):"minute"===n.timeLevel?(n.currentHour=n.intervalHour,r=3600*a/t.thumbContainerWidth,n.currentMinute=parseInt(r/60),r-=60*n.currentMinute):(n.currentHour=n.intervalHour,n.currentMinute=n.intervalMinute,r=60*a/t.thumbContainerWidth),n.currentSecond=parseInt(r),24===n.currentHour&&(n.currentHour=23,n.currentMinute=59,n.currentSecond=59),this.updateThumbText()},i.prototype.updateIntervalText=function(){var e=this.$this,t=this.state;"hour"===t.timeLevel?e.find(".title").html(""):"minute"===t.timeLevel?e.find(".title").html("("+t.intervalHour+"-"+(t.intervalHour+1)+")"):e.find(".title").html("("+t.intervalHour+":"+t.intervalMinute+"-"+t.intervalHour+":"+(t.intervalMinute+1)+")")},i.prototype.updateInterval=function(e){var t=this.$this,n=this.options,i=this.state,a=t.offset().left,r=e-(n.channelTitleWidth+a),o=0;"minute"===i.timeLevel?(o=86400*r/n.thumbContainerWidth,i.intervalHour=parseInt(o/3600)):"second"===i.timeLevel&&(o=3600*r/n.thumbContainerWidth,i.intervalMinute=parseInt(o/60)),24===i.intervalHour&&(i.intervalHour=23,i.intervalMinute=59)},i.prototype.setCurrentTime=function(e,t){var n=null;if("object"==typeof e)n=e;else{if("string"!=typeof e)return!1;if(t)n=new Date(e);else{var i=new Date,a=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()+" "+e;n=new Date(a)}}var r=n.getHours(),o=n.getMinutes(),s=n.getSeconds();this.setCurrentTimeByHms(r,o,s)},i.prototype.setCurrentTimeByHms=function(e,t,n){var i=this.state;i.currentHour=e,i.currentMinute=t,i.currentSecond=n,this.renderRed(),this.updateThumbText()},i.prototype.setSpeed=function(e){var t=this.state;t.speed=e;var n=parseInt(1e3/t.speed);t.timerId&&clearInterval(t.timerId),t.timerId=setInterval(this.go.bind(this),n)},i.prototype.setDirection=function(e){var t="forward"===e?"forward":"backward";this.state.direction=t},i.prototype.setChannels=function(e){var t=this.$this,n=this.options,i=this.state,a=null;if("object"==typeof e)a=e;else{if("string"!=typeof e)return!1;a=e.split(",")}i.currentChannels=a;for(var r=0;r<n.channels.length;r++){var o=n.channels[r].toString();a.indexOf(o)<0?(t.find("#channelTitle_"+o).hide(),t.find("#channel_"+o).hide()):(t.find("#channelTitle_"+o).show(),t.find("#channel_"+o).show())}t.find(".line").css("height",n.channelHeight*(Math.min(a.length,n.channels.length)+1)+"px")},i.prototype.go=function(){var e=this.state,t="forward"===e.direction?1:-1,n=this.util.hms2Second(e.currentHour,e.currentMinute,e.currentSecond);n+=t;var i=this.util.second2Hms(n);this.setCurrentTimeByHms(i.hour,i.minute,i.second),this.onPlaying()},i.prototype.play=function(){var e=this.state,t=this.options,n=parseInt(1e3/e.speed);e.timerId&&clearInterval(e.timerId);var i=null,a=null,r=t.channelData,o=Object.keys(r);o=o.filter((function(t){return 0<e.currentChannels.filter((function(e){return t.toString()===e.toString()})).length}));for(var s=0;s<o.length;s++)for(var l=r[o[s]],d=0;d<l.length;d++){var c=l[d];i?i>(a=new Date(c.StartTime.replace(/-/g,"/")))&&(i=a):i=new Date(c.StartTime.replace(/-/g,"/"))}i&&(e.timerId=setInterval(this.go.bind(this),n),this.setCurrentTime(i),this.onStart())},i.prototype.stop=function(){var e=this.state;e.timerId&&clearInterval(e.timerId),this.setCurrentTimeByHms(0,0,0),this.onStop()},i.prototype.pause=function(){var e=this.state;e.timerId&&clearInterval(e.timerId),this.onPause()},i.prototype.continue=function(){var e=this.state,t=parseInt(1e3/e.speed);e.timerId&&clearInterval(e.timerId),e.timerId=setInterval(this.go.bind(this),t),this.onContinue()},i.prototype.destory=function(){var e=this.$this,t=this.state,n=this.options;t.timerId&&clearInterval(t.timerId);var i=e.find(".channel-title-container"),a=e.find(".channel-container");i.empty(),a.empty(),e.find(".line").css("height",n.channelHeight+"px"),e.find(".title").html("")},i.prototype.render=function(){this.renderGreen(),this.renderRed()},i.prototype.renderRed=function(){var e=this.$this,t=this.options,n=this.state,i=this.util.hms2Second(n.currentHour,n.currentMinute,n.currentSecond),a=0;a="hour"===n.timeLevel?t.thumbContainerWidth*i/86400:"minute"===n.timeLevel?t.thumbContainerWidth*(i-3600*n.intervalHour)/3600:t.thumbContainerWidth*(i-(3600*n.intervalHour+60*n.intervalMinute))/60,a-=t.thumbWidth/2,e.find(".thumb").css("left",a+"px"),a<-t.thumbWidth/2||a>t.thumbContainerWidth+t.thumbWidth/2?e.find(".thumb").css("visibility","hidden"):e.find(".thumb").css("visibility","visible")},i.prototype.renderGreen=function(){for(var e=this.$this,t=this.options,i=this.state,a=t.channelData,r=Object.keys(a),o=0;o<r.length;o++){var s=r[o],l=a[s],d=e.find("#channel_"+s);d.empty();for(var c=0;c<l.length;c++){var u=l[c],h=n(t.greenTmpl),p=this.util.parseDate2HMS(u.StartTime.replace(/-/g,"/")),f=this.util.parseDate2HMS(u.EndTime.replace(/-/g,"/")).totalSecond-p.totalSecond,m=0,g=0;"hour"===i.timeLevel?(m=t.thumbContainerWidth*f/86400,g=t.thumbContainerWidth*p.totalSecond/86400):"minute"===i.timeLevel?(m=t.thumbContainerWidth*f/3600,g=t.thumbContainerWidth*(p.totalSecond-3600*i.intervalHour)/3600):(m=t.thumbContainerWidth*f/60,g=t.thumbContainerWidth*(p.totalSecond-(3600*i.intervalHour+60*i.intervalMinute))/60),h.css({width:m+"px",left:g+"px"}),d.append(h)}}},i.prototype.util={padZero:function(e){return e<10?"0"+e.toString():e.toString()},parseDate2HMS:function(e){e=e.replace(/-/g,"/");var t=new Date(e),n=t.getHours(),i=t.getMinutes(),a=t.getSeconds();return{hour:n,minute:i,second:a,totalSecond:3600*n+60*i+a}},hms2Second:function(e,t,n){return 3600*e+60*t+n},hmsStr2Second:function(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])},second2Hms:function(e){var t,n,i=e;return i-=3600*(t=parseInt(i/3600)),{hour:t,minute:n=parseInt(i/60),second:i-=60*n}}},i.prototype.onScale=function(){var e=this.$this,t=this.options,n=this.state;this.render(),t.onScale&&"function"==typeof t.onScale&&t.onScale.call(this,e,n)},i.prototype.onDrag=function(){var e=this.$this,t=this.options,n=this.state;t.onDrag&&"function"==typeof t.onDrag&&t.onDrag.call(this,e,n)},i.prototype.onDragStart=function(){var e=this.$this,t=this.options,n=this.state;t.onDragStart&&"function"==typeof t.onDragStart&&t.onDragStart.call(this,e,n)},i.prototype.onDragEnd=function(){var e=this.$this,t=this.options,n=this.state;t.onDragEnd&&"function"==typeof t.onDragEnd&&t.onDragEnd.call(this,e,n)},i.prototype.onStatusClick=function(){var e=this.$this,t=this.options,n=this.state;t.onStatusClick&&"function"==typeof t.onStatusClick&&t.onStatusClick.call(this,e,n)},i.prototype.onPlaying=function(){var e=this.$this,t=this.options,n=this.state;t.onPlaying&&"function"==typeof t.onPlaying&&t.onPlaying.call(this,e,n)},i.prototype.onStart=function(){var e=this.$this,t=this.options,n=this.state;t.onStart&&"function"==typeof t.onStart&&t.onStart.call(this,e,n)},i.prototype.onStop=function(){var e=this.$this,t=this.options,n=this.state;t.onStop&&"function"==typeof t.onStop&&t.onStop.call(this,e,n)},i.prototype.onPause=function(){var e=this.$this,t=this.options,n=this.state;t.onPause&&"function"==typeof t.onPause&&t.onPause.call(this,e,n)},i.prototype.onContinue=function(){var e=this.$this,t=this.options,n=this.state;t.onContinue&&"function"==typeof t.onContinue&&t.onContinue.call(this,e,n)},i.prototype.test=function(){},n.fn.videoStatus=function(e){return new i(this,e)}},function(e,t){var n,i,a,r,o;"undefined"==typeof jwplayer&&(jwplayer=function(e){if(jwplayer.api)return jwplayer.api.selectPlayer(e)},jwplayer.version="6.10.4906",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(e){function t(e){return function(){return l(e)}}function n(e,t,n,i,a){return function(){var r,s;if(a)n(e);else{try{if((r=e.responseXML)&&(s=r.firstChild,r.lastChild&&"parsererror"===r.lastChild.nodeName))return void(i&&i("Invalid XML",t,e))}catch(e){}if(r&&s)return n(e);(r=o.parseXML(e.responseText))&&r.firstChild?(e=o.extend({},e,{responseXML:r}),n(e)):i&&i(e.responseText?"Invalid XML":t,t,e)}}}var i=document,a=window,r=navigator,o=e.utils={};o.exists=function(e){switch(typeof e){case"string":return 0<e.length;case"object":return null!==e;case"undefined":return!1}return!0},o.styleDimension=function(e){return e+(0<e.toString().indexOf("%")?"":"px")},o.getAbsolutePath=function(e,t){if(o.exists(t)||(t=i.location.href),o.exists(e)){var n;if(o.exists(e)){n=e.indexOf("://");var a=e.indexOf("?");n=0<n&&(0>a||a>n)}else n=void 0;if(n)return e;n=t.substring(0,t.indexOf("://")+3);var r;a=t.substring(n.length,t.indexOf("/",n.length+1));0===e.indexOf("/")?r=e.split("/"):r=(r=(r=t.split("?")[0]).substring(n.length+a.length+1,r.lastIndexOf("/"))).split("/").concat(e.split("/"));for(var s=[],l=0;l<r.length;l++)r[l]&&o.exists(r[l])&&"."!=r[l]&&(".."==r[l]?s.pop():s.push(r[l]));return n+a+"/"+s.join("/")}},o.extend=function(){var e=Array.prototype.slice.call(arguments,0);if(1<e.length){for(var t=e[0],n=function(e,n){null!=n&&(t[e]=n)},i=1;i<e.length;i++)o.foreach(e[i],n);return t}return null};var s=window.console=window.console||{log:function(){}};o.log=function(){var e=Array.prototype.slice.call(arguments,0);"object"==typeof s.log?s.log(e):s.log.apply(s,e)};var l=o.userAgentMatch=function(e){return null!==r.userAgent.toLowerCase().match(e)};o.isFF=t(/firefox/i),o.isChrome=t(/chrome/i),o.isIPod=t(/iP(hone|od)/i),o.isIPad=t(/iPad/i),o.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),o.isIETrident=function(e){return e?(e=parseFloat(e).toFixed(1),l(RegExp("trident/.+rv:\\s*"+e,"i"))):l(/trident/i)},o.isMSIE=function(e){return e?(e=parseFloat(e).toFixed(1),l(RegExp("msie\\s*"+e,"i"))):l(/msie/i)},o.isIE=function(e){return e?11<=(e=parseFloat(e).toFixed(1))?o.isIETrident(e):o.isMSIE(e):o.isMSIE()||o.isIETrident()},o.isSafari=function(){return l(/safari/i)&&!l(/chrome/i)&&!l(/chromium/i)&&!l(/android/i)},o.isIOS=function(e){return l(e?RegExp("iP(hone|ad|od).+\\sOS\\s"+e,"i"):/iP(hone|ad|od)/i)},o.isAndroidNative=function(e){return o.isAndroid(e,!0)},o.isAndroid=function(e,t){return!(t&&l(/chrome\/[123456789]/i)&&!l(/chrome\/18/))&&(e?(o.isInt(e)&&!/\./.test(e)&&(e+="."),l(RegExp("Android\\s*"+e,"i"))):l(/Android/i))},o.isMobile=function(){return o.isIOS()||o.isAndroid()},o.saveCookie=function(e,t){i.cookie="jwplayer."+e+"="+t+"; path=/"},o.getCookies=function(){for(var e={},t=i.cookie.split("; "),n=0;n<t.length;n++){var a=t[n].split("=");0===a[0].indexOf("jwplayer.")&&(e[a[0].substring(9,a[0].length)]=a[1])}return e},o.isInt=function(e){return 0==e%1},o.typeOf=function(e){var t=typeof e;return"object"===t?e?e instanceof Array?"array":t:"null":t},o.translateEventResponse=function(t,n){var i=o.extend({},n);if(t!=e.events.JWPLAYER_FULLSCREEN||i.fullscreen)if("object"==typeof i.data){var a=i.data;delete i.data,i=o.extend(i,a)}else"object"==typeof i.metadata&&o.deepReplaceKeyName(i.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);else i.fullscreen="true"===i.message,delete i.message;return o.foreach(["position","duration","offset"],(function(e,t){i[t]&&(i[t]=Math.round(1e3*i[t])/1e3)})),i},o.flashVersion=function(){if(o.isAndroid())return 0;var e,t=r.plugins;try{if("undefined"!==t&&(e=t["Shockwave Flash"]))return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"),10)}catch(e){}if(void 0!==a.ActiveXObject)try{if(e=new a.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0],10)}catch(e){}return 0},o.getScriptPath=function(e){for(var t=i.getElementsByTagName("script"),n=0;n<t.length;n++){var a=t[n].src;if(a&&0<=a.indexOf(e))return a.substr(0,a.indexOf(e))}return""},o.deepReplaceKeyName=function(t,n,i){switch(e.utils.typeOf(t)){case"array":for(var a=0;a<t.length;a++)t[a]=e.utils.deepReplaceKeyName(t[a],n,i);break;case"object":o.foreach(t,(function(a,r){var o;if(n instanceof Array&&i instanceof Array){if(n.length!=i.length)return;o=n}else o=[n];for(var s=a,l=0;l<o.length;l++)s=s.replace(RegExp(n[l],"g"),i[l]);t[s]=e.utils.deepReplaceKeyName(r,n,i),a!=s&&delete t[a]}))}return t};var d=o.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};o.getPluginPathType=function(e){if("string"==typeof e){var t=(e=e.split("?")[0]).indexOf("://");if(0<t)return d.ABSOLUTE;var n=e.indexOf("/");return e=o.extension(e),!(0>t&&0>n)||e&&isNaN(e)?d.RELATIVE:d.CDN}},o.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},o.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},o.isYouTube=function(e){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},o.youTubeID=function(e){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e).slice(1).join("").replace("?","")}catch(e){return""}},o.isRtmp=function(e,t){return 0===e.indexOf("rtmp")||"rtmp"==t},o.foreach=function(e,t){var n;for(n in e)"function"==o.typeOf(e.hasOwnProperty)?e.hasOwnProperty(n)&&t(n,e[n]):t(n,e[n])},o.isHTTPS=function(){return 0===a.location.href.indexOf("https")},o.repo=function(){var t="http://localhost/"+e.version.split(/\W/).splice(0,2).join("/")+"/";try{o.isHTTPS()&&(t=t.replace("http://","https://ssl."))}catch(e){}return t},o.versionCheck=function(t){t=("0"+t).split(/\W/);var n=e.version.split(/\W/),i=parseFloat(t[0]),a=parseFloat(n[0]);return!(i>a||i===a&&parseFloat("0"+t[1])>parseFloat(n[1]))},o.ajax=function(e,t,i,r){var s,l=!1;if(0<e.indexOf("#")&&(e=e.replace(/#.*$/,"")),e&&0<=e.indexOf("://")&&e.split("/")[2]!=a.location.href.split("/")[2]&&o.exists(a.XDomainRequest))(s=new a.XDomainRequest).onload=n(s,e,t,i,r),s.ontimeout=s.onprogress=function(){},s.timeout=5e3;else{if(!o.exists(a.XMLHttpRequest))return i&&i("",e,s),s;var d=s=new a.XMLHttpRequest,c=e;s.onreadystatechange=function(){if(4===d.readyState)switch(d.status){case 200:n(d,c,t,i,r)();break;case 404:i("File not found",c,d)}}}s.overrideMimeType&&s.overrideMimeType("text/xml");var u=e,h=s;s.onerror=function(){i("Error loading file",u,h)};try{s.open("GET",e,!0)}catch(e){l=!0}return setTimeout((function(){if(l)i&&i(e,e,s);else try{s.send()}catch(t){i&&i(e,e,s)}}),0),s},o.parseXML=function(e){var t;try{if(a.DOMParser){if((t=(new a.DOMParser).parseFromString(e,"text/xml")).childNodes&&t.childNodes.length&&"parsererror"==t.childNodes[0].firstChild.nodeName)return}else(t=new a.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)}catch(e){return}return t},o.filterPlaylist=function(e,t,n){var i,a,r,s,l=[];for(i=0;i<e.length;i++)if((a=o.extend({},e[i])).sources=o.filterSources(a.sources,!1,n),0<a.sources.length){for(r=0;r<a.sources.length;r++)(s=a.sources[r]).label||(s.label=r.toString());l.push(a)}if(t&&0===l.length)for(i=0;i<e.length;i++)if((a=o.extend({},e[i])).sources=o.filterSources(a.sources,!0,n),0<a.sources.length){for(r=0;r<a.sources.length;r++)(s=a.sources[r]).label||(s.label=r.toString());l.push(a)}return l},o.between=function(e,t,n){return Math.max(Math.min(e,n),t)},o.filterSources=function(t,n,i){var a,r;if(t){r=[];for(var s=0;s<t.length;s++){var l=o.extend({},t[s]),d=l.file,c=l.type;d&&(l.file=d=o.trim(""+d),c||(c=o.extension(d),l.type=c=o.extensionmap.extType(c)),n?e.embed.flashCanPlay(d,c)&&(a||(a=c),c==a&&r.push(l)):e.embed.html5CanPlay(d,c,i)&&(a||(a=c),c==a&&r.push(l)))}}return r},o.canPlayHTML5=function(t){return!!(t=o.extensionmap.types[t])&&!!e.vid.canPlayType&&!!e.vid.canPlayType(t)},o.seconds=function(e){var t=(e=e.replace(",",".")).split(":"),n=0;return"s"==e.slice(-1)?n=parseFloat(e):"m"==e.slice(-1)?n=60*parseFloat(e):"h"==e.slice(-1)?n=3600*parseFloat(e):1<t.length?(n=parseFloat(t[t.length-1]),n+=60*parseFloat(t[t.length-2]),3==t.length&&(n+=3600*parseFloat(t[t.length-3]))):n=parseFloat(e),n},o.serialize=function(e){return null===e?null:"true"==e.toString().toLowerCase()||"false"!=e.toString().toLowerCase()&&(isNaN(Number(e))||5<e.length||0===e.length?e:Number(e))},o.addClass=function(e,t){e.className=e.className+" "+t},o.removeClass=function(e,t){e.className=e.className.replace(RegExp(" *"+t,"g")," ")}}(jwplayer),function(e){function t(e){var t=document.createElement("style");return e&&t.appendChild(document.createTextNode(e)),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t}function n(e,t,n){return o.exists(t)?(n=n?" !important":"","string"==typeof t&&isNaN(t)?/png|gif|jpe?g/i.test(t)&&0>t.indexOf("url")?"url("+t+")":t+n:0===t||"z-index"===e||"opacity"===e?""+t+n:/color/i.test(e)?"#"+o.pad(t.toString(16).replace(/^0x/i,""),6)+n:Math.ceil(t)+"px"+n):""}function i(e,t){for(var n=0;n<e.length;n++){var i,a,r=e[n];if(null!=r)for(i in t){a=(a=i).split("-");for(var o=1;o<a.length;o++)a[o]=a[o].charAt(0).toUpperCase()+a[o].slice(1);a=a.join(""),r.style[a]!==t[i]&&(r.style[a]=t[i])}}}function a(e){var t,n,i,a=s[e].sheet;if(a){t=a.cssRules,n=c[e];var r=l[i=e];for(var o in i+=" { ",r)i+=o+": "+r[o]+"; ";if(i+="}",void 0!==n&&n<t.length&&t[n].selectorText===e){if(i===t[n].cssText)return;a.deleteRule(n)}else n=t.length,c[e]=n;try{a.insertRule(i,n)}catch(e){}}}var r,o=jwplayer.utils,s={},l={},d=null,c={};o.cssKeyframes=function(e,n){(i=s.keyframes)||(i=t(),s.keyframes=i);var i=i.sheet,a="@keyframes "+e+" { "+n+" }";try{i.insertRule(a,i.cssRules.length)}catch(e){}a=a.replace(/(keyframes|transform)/g,"-webkit-$1");try{i.insertRule(a,i.cssRules.length)}catch(e){}};var u=o.css=function(e,i,o){l[e]||(l[e]={});var c=l[e];o=o||!1;var u,h,p=!1;for(u in i)""!==(h=n(u,i[u],o))?h!==c[u]&&(c[u]=h,p=!0):void 0!==c[u]&&(delete c[u],p=!0);p&&(s[e]||(i=r&&r.sheet&&r.sheet.cssRules&&r.sheet.cssRules.length||0,(!r||5e4<i)&&(r=t()),s[e]=r),null!==d?d.styleSheets[e]=l[e]:a(e))};u.style=function(e,t,a){if(null!=e){void 0===e.length&&(e=[e]);var r,o={};for(r in t)o[r]=n(r,t[r]);if(null===d||a)i(e,o);else{for(var s in t=(t=e.__cssRules)||{},o)t[s]=o[s];e.__cssRules=t,0>d.elements.indexOf(e)&&d.elements.push(e)}}},u.block=function(e){null===d&&(d={id:e,styleSheets:{},elements:[]})},u.unblock=function(e){if(d&&(!e||d.id===e)){for(var t in d.styleSheets)a(t);for(e=0;e<d.elements.length;e++)i(t=d.elements[e],t.__cssRules);d=null}},o.clearCss=function(e){for(var t in l)0<=t.indexOf(e)&&delete l[t];for(var n in s)0<=n.indexOf(e)&&a(n)},o.transform=function(e,t){var n={};t=t||"",n.transform=t,n["-webkit-transform"]=t,n["-ms-transform"]=t,n["-moz-transform"]=t,n["-o-transform"]=t,"string"==typeof e?u(e,n):u.style(e,n)},o.dragStyle=function(e,t){u(e,{"-webkit-user-select":t,"-moz-user-select":t,"-ms-user-select":t,"-webkit-user-drag":t,"user-select":t,"user-drag":t})},o.transitionStyle=function(e,t){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||u(e,{"-webkit-transition":t,"-moz-transition":t,"-o-transition":t,transition:t})},o.rotate=function(e,t){o.transform(e,"rotate("+t+"deg)")},o.rgbHex=function(e){return 3===(e=String(e).replace("#","")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e.substr(-6)},o.hexToRgba=function(e,t){var n="rgb",i=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)];return void 0!==t&&100!==t&&(n+="a",i.push(t/100)),n+"("+i.join(",")+")"}}(),n=jwplayer.utils,i=n.foreach,r={mp4:(a={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"}).mp4,f4v:a.mp4,m4v:a.mp4,mov:a.mp4,m4a:a.aac,f4a:a.aac,aac:a.aac,mp3:a.mp3,ogv:a.ogg,ogg:a.ogg,oga:a.vorbis,vorbis:a.vorbis,webm:a.webm,m3u8:a.hls,m3u:a.hls,hls:a.hls},o=n.extensionmap={},i(r,(function(e,t){o[e]={html5:t}})),i({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},(function(e,t){o[e]||(o[e]={}),o[e].flash=t})),o.types=a,o.mimeType=function(e){var t;return i(a,(function(n,i){!t&&i==e&&(t=n)})),t},o.extType=function(e){return o.mimeType(r[e])},function(e){var t=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},n=document;e.scriptloader=function(i){function a(e){l=t.ERROR,s.sendEvent(o.ERROR,e)}function r(e){l=t.COMPLETE,s.sendEvent(o.COMPLETE,e)}var o=jwplayer.events,s=e.extend(this,new o.eventdispatcher),l=t.NEW;this.load=function(){if(l==t.NEW){var s=e.scriptloader.loaders[i];if(s&&2>(l=s.getStatus()))return s.addEventListener(o.ERROR,a),void s.addEventListener(o.COMPLETE,r);var d=n.createElement("script");d.addEventListener?(d.onload=r,d.onerror=a):d.readyState&&(d.onreadystatechange=function(e){("loaded"==d.readyState||"complete"==d.readyState)&&r(e)}),n.getElementsByTagName("head")[0].appendChild(d),d.src=i,l=t.LOADING,e.scriptloader.loaders[i]=this}},this.getStatus=function(){return l}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},e.pad=function(e,t,n){for(n||(n="0");e.length<t;)e=n+e;return e},e.xmlAttribute=function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()==t.toLowerCase())return e.attributes[n].value.toString();return""},e.extension=function(e){return e&&"rtmp"!=e.substr(0,4)?(t=!(!(t=e.match(/manifest\(format=(.*),audioTrack/))||!t[1])&&t[1].split("-")[0])?t:-1<(e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0]).lastIndexOf(".")?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0:"";var t},e.stringToColor=function(e){return 3==(e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}}(jwplayer.utils),function(e){var t="touchmove",n="touchstart";e.touch=function(i){function a(e){e.type==n?(l=!0,c=o(h.DRAG_START,e)):e.type==t?l&&(u||(r(h.DRAG_START,e,c),u=!0),r(h.DRAG,e)):(l&&(u?r(h.DRAG_END,e):(e.cancelBubble=!0,r(h.TAP,e))),l=u=!1,c=null)}function r(e,t,n){d[e]&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),t=n||o(e,t))&&d[e](t)}function o(e,t){var n=null;if(t.touches&&t.touches.length?n=t.touches[0]:t.changedTouches&&t.changedTouches.length&&(n=t.changedTouches[0]),!n)return null;var i=s.getBoundingClientRect();n={type:e,target:s,x:n.pageX-window.pageXOffset-i.left,y:n.pageY,deltaX:0,deltaY:0};return e!=h.TAP&&c&&(n.deltaX=n.x-c.x,n.deltaY=n.y-c.y),n}var s=i,l=!1,d={},c=null,u=!1,h=e.touchEvents;return document.addEventListener(t,a),document.addEventListener("touchend",(function(e){l&&u&&r(h.DRAG_END,e),l=u=!1,c=null})),document.addEventListener("touchcancel",a),i.addEventListener(n,a),i.addEventListener("touchend",a),this.addEventListener=function(e,t){d[e]=t},this.removeEventListener=function(e){delete d[e]},this}}(jwplayer.utils),jwplayer.utils.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"},function(e){e.key=function(t){var n,i,a;this.edition=function(){return a&&a.getTime()<(new Date).getTime()?"invalid":n},this.token=function(){return i},e.exists(t)||(t="");try{var r=(t=e.tea.decrypt(t,"36QXq4W@GSBV^teR")).split("/");(n=r[0])?/^(free|pro|premium|enterprise|ads)$/i.test(n)?(i=r[1],r[2]&&0<parseInt(r[2])&&(a=new Date).setTime(String(r[2]))):n="invalid":n="free"}catch(e){n="invalid"}}}(jwplayer.utils),function(e){var t=jwplayer.utils.tea={};t.encrypt=function(e,a){if(0==e.length)return"";var r=t.strToLongs(i.encode(e));1>=r.length&&(r[1]=0);for(var o,s=t.strToLongs(i.encode(a).slice(0,16)),l=r.length,d=r[l-1],c=r[0],u=Math.floor(6+52/l),h=0;0<u--;){o=(h+=2654435769)>>>2&3;for(var p=0;p<l;p++)d=(d>>>5^(c=r[(p+1)%l])<<2)+(c>>>3^d<<4)^(h^c)+(s[3&p^o]^d),d=r[p]+=d}return r=t.longsToStr(r),n.encode(r)},t.decrypt=function(e,a){if(0==e.length)return"";for(var r,o=t.strToLongs(n.decode(e)),s=t.strToLongs(i.encode(a).slice(0,16)),l=o.length,d=o[l-1],c=o[0],u=2654435769*Math.floor(6+52/l);0!=u;){r=u>>>2&3;for(var h=l-1;0<=h;h--)d=((d=o[0<h?h-1:l-1])>>>5^c<<2)+(c>>>3^d<<4)^(u^c)+(s[3&h^r]^d),c=o[h]-=d;u-=2654435769}return o=(o=t.longsToStr(o)).replace(/\0+$/,""),i.decode(o)},t.strToLongs=function(e){for(var t=Array(Math.ceil(e.length/4)),n=0;n<t.length;n++)t[n]=e.charCodeAt(4*n)+(e.charCodeAt(4*n+1)<<8)+(e.charCodeAt(4*n+2)<<16)+(e.charCodeAt(4*n+3)<<24);return t},t.longsToStr=function(e){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(255&e[n],e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")};var n={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){var a,r,o,s,l,d,c=[],u="",h=n.code;if(0<(l=(d=void 0!==t&&t?i.encode(e):e).length%3))for(;3>l++;)u+="=",d+="\0";for(l=0;l<d.length;l+=3)a=(s=(a=d.charCodeAt(l))<<16|(r=d.charCodeAt(l+1))<<8|(o=d.charCodeAt(l+2)))>>18&63,r=s>>12&63,o=s>>6&63,s&=63,c[l/3]=h.charAt(a)+h.charAt(r)+h.charAt(o)+h.charAt(s);return(c=c.join("")).slice(0,c.length-u.length)+u},decode:function(e,t){t=void 0!==t&&t;var a,r,o,s,l,d,c=[],u=n.code;d=t?i.decode(e):e;for(var h=0;h<d.length;h+=4)a=(o=(a=u.indexOf(d.charAt(h)))<<18|(r=u.indexOf(d.charAt(h+1)))<<12|(s=u.indexOf(d.charAt(h+2)))<<6|(l=u.indexOf(d.charAt(h+3))))>>>16&255,r=o>>>8&255,o&=255,c[h/4]=String.fromCharCode(a,r,o),64==l&&(c[h/4]=String.fromCharCode(a,r)),64==s&&(c[h/4]=String.fromCharCode(a));return s=c.join(""),t?i.decode(s):s}},i={encode:function(e){return(e=e.replace(/[\u0080-\u07ff]/g,(function(e){return e=e.charCodeAt(0),String.fromCharCode(192|e>>6,128|63&e)}))).replace(/[\u0800-\uffff]/g,(function(e){return e=e.charCodeAt(0),String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)}))},decode:function(e){return(e=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(e){return e=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2),String.fromCharCode(e)}))).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(e){return e=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1),String.fromCharCode(e)}))}}}(),jwplayer.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"},function(e){var t=e.utils;e.events.eventdispatcher=function(n,i){function a(e,n,i){if(e)for(var a=0;a<e.length;a++){var r=e[a];if(r){null!==r.count&&0==--r.count&&delete e[a];try{r.listener(n)}catch(e){t.log('Error handling "'+i+'" event listener ['+a+"]: "+e.toString(),r.listener,n)}}}}var r,o;this.resetEventListeners=function(){r={},o=[]},this.resetEventListeners(),this.addEventListener=function(e,n,i){try{t.exists(r[e])||(r[e]=[]),"string"==t.typeOf(n)&&(n=new Function("return "+n)()),r[e].push({listener:n,count:i||null})}catch(e){t.log("error",e)}return!1},this.removeEventListener=function(e,n){if(r[e]){try{if(void 0===n)return void(r[e]=[]);for(var i=0;i<r[e].length;i++)if(r[e][i].listener.toString()==n.toString()){r[e].splice(i,1);break}}catch(e){t.log("error",e)}return!1}},this.addGlobalListener=function(e,n){try{"string"==t.typeOf(e)&&(e=new Function("return "+e)()),o.push({listener:e,count:n||null})}catch(e){t.log("error",e)}return!1},this.removeGlobalListener=function(e){if(e){try{for(var n=o.length;n--;)o[n].listener.toString()==e.toString()&&o.splice(n,1)}catch(e){t.log("error",e)}return!1}},this.sendEvent=function(s,l){t.exists(l)||(l={}),t.extend(l,{id:n,version:e.version,type:s}),i&&t.log(s,l),a(r[s],l,s),a(o,l,s)}}}(window.jwplayer),function(e){var t={},n={};e.plugins=function(){},e.plugins.loadPlugins=function(i,a){return n[i]=new e.plugins.pluginloader(new e.plugins.model(t),a),n[i]},e.plugins.registerPlugin=function(n,i,a,r){var o=e.utils.getPluginName(n);t[o]||(t[o]=new e.plugins.plugin(n)),t[o].registerPlugin(n,i,a,r)}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(n){var i=e.utils.getPluginName(n);return t[i]||(t[i]=new e.plugins.plugin(n)),t[i]},this.getPlugins=function(){return t}}}(jwplayer),function(e){var t=jwplayer.utils,n=jwplayer.events;e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(i){function a(){switch(t.getPluginPathType(i)){case t.pluginPathType.ABSOLUTE:return i;case t.pluginPathType.RELATIVE:return t.getAbsolutePath(i,window.location.href)}}function r(){c=setTimeout((function(){u=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE)}),1e3)}function o(){u=t.loaderstatus.ERROR,h.sendEvent(n.ERROR)}var s,l,d,c,u=t.loaderstatus.NEW,h=new n.eventdispatcher;t.extend(this,h),this.load=function(){if(u==t.loaderstatus.NEW)if(0<i.lastIndexOf(".swf"))s=i,u=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE);else if(t.getPluginPathType(i)==t.pluginPathType.CDN)u=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE);else{u=t.loaderstatus.LOADING;var e=new t.scriptloader(a());e.addEventListener(n.COMPLETE,r),e.addEventListener(n.ERROR,o),e.load()}},this.registerPlugin=function(e,i,a,r){c&&(clearTimeout(c),c=void 0),d=i,a&&r?(s=r,l=a):"string"==typeof a?s=a:"function"==typeof a?l=a:!a&&!r&&(s=e),u=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE)},this.getStatus=function(){return u},this.getPluginName=function(){return t.getPluginName(i)},this.getFlashPath=function(){if(s)switch(t.getPluginPathType(s)){case t.pluginPathType.ABSOLUTE:return s;case t.pluginPathType.RELATIVE:return 0<i.lastIndexOf(".swf")?t.getAbsolutePath(s,window.location.href):t.getAbsolutePath(s,a())}return null},this.getJS=function(){return l},this.getTarget=function(){return d},this.getPluginmode=function(){return void 0!==s&&void 0!==l?e.pluginmodes.HYBRID:void 0!==s?e.pluginmodes.FLASH:void 0!==l?e.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,n){return new l(e,t,n)},this.getURL=function(){return i}}}(jwplayer.plugins),function(e){var t=e.utils,n=e.events,i=t.foreach;e.plugins.pluginloader=function(e,a){function r(){c&&h.sendEvent(n.ERROR,{message:s}),d||(d=!0,l=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE))}function o(){if(u||r(),!d&&!c){var n=0,i=e.getPlugins();t.foreach(u,(function(e){e=t.getPluginName(e),e=(a=i[e]).getJS();var a,o=a.getTarget();(a=a.getStatus())==t.loaderstatus.LOADING||a==t.loaderstatus.NEW?n++:e&&!t.versionCheck(o)&&(c=!0,s="Incompatible player version",r())})),0===n&&r()}}var s,l=t.loaderstatus.NEW,d=!1,c=!1,u=a,h=new n.eventdispatcher;t.extend(this,h),this.setupPlugins=function(n,a,r){var o={length:0,plugins:{}},s=0,l={},d=e.getPlugins();return i(a.plugins,(function(e,i){var c=t.getPluginName(e),u=d[c],h=u.getFlashPath(),p=u.getJS(),f=u.getURL();h&&(o.plugins[h]=t.extend({},i),o.plugins[h].pluginmode=u.getPluginmode(),o.length++);try{if(p&&a.plugins&&a.plugins[f]){var m=document.createElement("div");m.id=n.id+"_"+c,m.style.position="absolute",m.style.top=0,m.style.zIndex=s+10,l[c]=u.getNewInstance(n,t.extend({},a.plugins[f]),m),s++,n.onReady(r(l[c],m,!0)),n.onResize(r(l[c],m))}}catch(e){t.log("ERROR: Failed to load "+c+".")}})),n.plugins=l,o},this.load=function(){if(!t.exists(a)||"object"==t.typeOf(a)){l=t.loaderstatus.LOADING,i(a,(function(i){t.exists(i)&&((i=e.addPlugin(i)).addEventListener(n.COMPLETE,o),i.addEventListener(n.ERROR,p))}));var r=e.getPlugins();i(r,(function(e,t){t.load()}))}o()},this.destroy=function(){h&&(h.resetEventListeners(),h=null)};var p=this.pluginFailed=function(){c||(c=!0,s="File not found",r())};this.getStatus=function(){return l}}}(jwplayer),function(e){e.parsers={localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(t){return t?t.textContent?e.utils.trim(t.textContent):t.text?e.utils.trim(t.text):"":""},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}(jwplayer),function(e){var t=e.parsers;(t.jwparser=function(){}).parseEntry=function(n,i){for(var a=[],r=[],o=e.utils.xmlAttribute,s=0;s<n.childNodes.length;s++){var l=n.childNodes[s];if("jwplayer"==l.prefix){var d=t.localName(l);"source"==d?(delete i.sources,a.push({file:o(l,"file"),default:o(l,"default"),label:o(l,"label"),type:o(l,"type")})):"track"==d?(delete i.tracks,r.push({file:o(l,"file"),default:o(l,"default"),kind:o(l,"kind"),label:o(l,"label")})):(i[d]=e.utils.serialize(t.textContent(l)),"file"==d&&i.sources&&delete i.sources)}i.file||(i.file=i.link)}if(a.length)for(i.sources=[],s=0;s<a.length;s++)0<a[s].file.length&&(a[s].default="true"==a[s].default,a[s].label.length||delete a[s].label,i.sources.push(a[s]));if(r.length)for(i.tracks=[],s=0;s<r.length;s++)0<r[s].file.length&&(r[s].default="true"==r[s].default,r[s].kind=r[s].kind.length?r[s].kind:"captions",r[s].label.length||delete r[s].label,i.tracks.push(r[s]));return i}}(jwplayer),function(e){var t=jwplayer.utils,n=t.xmlAttribute,i=e.localName,a=e.textContent,r=e.numChildren,o=e.mediaparser=function(){};o.parseGroup=function(e,s){var l,d,c=[];for(d=0;d<r(e);d++)if("media"==(l=e.childNodes[d]).prefix&&i(l))switch(i(l).toLowerCase()){case"content":n(l,"duration")&&(s.duration=t.seconds(n(l,"duration"))),0<r(l)&&(s=o.parseGroup(l,s)),n(l,"url")&&(s.sources||(s.sources=[]),s.sources.push({file:n(l,"url"),type:n(l,"type"),width:n(l,"width"),label:n(l,"label")}));break;case"title":s.title=a(l);break;case"description":s.description=a(l);break;case"guid":s.mediaid=a(l);break;case"thumbnail":s.image||(s.image=n(l,"url"));break;case"group":o.parseGroup(l,s);break;case"subtitle":var u={};if(u.file=n(l,"url"),u.kind="captions",0<n(l,"lang").length){var h=u,p={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};l=p[l=n(l,"lang")]?p[l]:l,h.label=l}c.push(u)}for(s.hasOwnProperty("tracks")||(s.tracks=[]),d=0;d<c.length;d++)s.tracks.push(c[d]);return s}}(jwplayer.parsers),function(e){function t(t){for(var a={},r=0;r<t.childNodes.length;r++){var s=t.childNodes[r],l=o(s);if(l)switch(l.toLowerCase()){case"enclosure":a.file=n.xmlAttribute(s,"url");break;case"title":a.title=i(s);break;case"guid":a.mediaid=i(s);break;case"pubdate":a.date=i(s);break;case"description":a.description=i(s);break;case"link":a.link=i(s);break;case"category":a.tags=a.tags?a.tags+i(s):i(s)}}return a=e.mediaparser.parseGroup(t,a),a=e.jwparser.parseEntry(t,a),new jwplayer.playlist.item(a)}var n=jwplayer.utils,i=e.textContent,a=e.getChildNode,r=e.numChildren,o=e.localName;e.rssparser={},e.rssparser.parse=function(e){for(var n=[],i=0;i<r(e);i++){var s=a(e,i);if("channel"==o(s).toLowerCase())for(var l=0;l<r(s);l++){var d=a(s,l);"item"==o(d).toLowerCase()&&n.push(t(d))}}return n}}(jwplayer.parsers),function(e){e.playlist=function(t){var n=[];if("array"==e.utils.typeOf(t))for(var i=0;i<t.length;i++)n.push(new e.playlist.item(t[i]));else n.push(new e.playlist.item(t));return n}}(jwplayer),function(e){var t=e.item=function(n){var i,a,r=jwplayer.utils,o=r.extend({},t.defaults,n);for(o.tracks=n&&r.exists(n.tracks)?n.tracks:[],0===o.sources.length&&(o.sources=[new e.source(o)]),i=0;i<o.sources.length;i++)a=o.sources[i].default,o.sources[i].default=!!a&&"true"==a.toString(),o.sources[i]=new e.source(o.sources[i]);if(o.captions&&!r.exists(n.tracks)){for(n=0;n<o.captions.length;n++)o.tracks.push(o.captions[n]);delete o.captions}for(i=0;i<o.tracks.length;i++)o.tracks[i]=new e.track(o.tracks[i]);return o};t.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(e){var t=jwplayer,n=t.utils,i=t.events,a=t.parsers;e.loader=function(){function t(t){try{var n=t.responseXML.childNodes;t="";for(var r=0;r<n.length&&8==(t=n[r]).nodeType;r++);if("xml"==a.localName(t)&&(t=t.nextSibling),"rss"!=a.localName(t))o("Not a valid RSS feed");else{var l=new e(a.rssparser.parse(t));s.sendEvent(i.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(e){o()}}function r(e){o(e.match(/invalid/i)?"Not a valid RSS feed":"")}function o(e){s.sendEvent(i.JWPLAYER_ERROR,{message:e||"Error loading file"})}var s=new i.eventdispatcher;n.extend(this,s),this.load=function(e){n.ajax(e,t,r)}}}(jwplayer.playlist),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,type:void 0,default:void 0};e.source=function(e){var i=t.extend({},n);return t.foreach(n,(function(n){t.exists(e[n])&&(i[n]=e[n],delete e[n])})),i.type&&0<i.type.indexOf("/")&&(i.type=t.extensionmap.mimeType(i.type)),"m3u8"==i.type&&(i.type="hls"),"smil"==i.type&&(i.type="rtmp"),i}}(jwplayer.playlist),function(e){var t=jwplayer.utils,n={file:void 0,label:void 0,kind:"captions",default:!1};e.track=function(e){var i=t.extend({},n);return e||(e={}),t.foreach(n,(function(n){t.exists(e[n])&&(i[n]=e[n],delete e[n])})),i}}(jwplayer.playlist),function(e){var t=e.cast={},n=e.utils;t.adprovider=function(i,a){function r(){l={message:u,position:0,duration:-1}}function o(e,n){var r={command:e};void 0!==n&&(r.args=n),a.sendMessage(i,r,s,(function(e){t.error("message send error",e)}))}function s(){}var l,d=new t.provider(i,a),c=n.extend(this,d),u="Loading ad",h=0;c.init=function(){d.init(),r()},c.destroy=function(){d.destroy()},c.updateModel=function(n,i){(n.tag||n.newstate||n.sequence||n.companions)&&t.log("received ad change:",n),n.tag&&l.tag&&n.tag!==l.tag&&(t.error("ad messages not received in order. new model:",n,"old model:",l),r()),e.utils.extend(l,n),d.updateModel(n,i)},c.getAdModel=function(){var e=n.extend({},l);return e.message=0<l.duration?this.getAdMessage():u,e},c.resetAdModel=function(){r()},c.getAdMessage=function(){var e=l.message.replace(/xx/gi,""+Math.min(0|l.duration,Math.ceil(l.duration-l.position)));return l.podMessage&&1<l.podcount&&(e=l.podMessage.replace(/__AD_POD_CURRENT__/g,""+l.sequence).replace(/__AD_POD_LENGTH__/g,""+l.podcount)+e),e},c.skipAd=function(e){o("skipAd",{tag:e.tag})},c.clickAd=function(e){h=1*new Date,o("clickAd",{tag:e.tag})},c.timeSinceClick=function(){return 1*new Date-h}}}(window.jwplayer),function(e,t){function n(e,t){e[t]&&(e[t]=a.getAbsolutePath(e[t]))}var i=t.cast,a=t.utils,r=t.events,o=r.state,s={};i.NS="urn:x-cast:com.longtailvideo.jwplayer",i.availability=null,i.available=function(t){t=t||i.availability;var n=e.chrome,a="available";return n.cast&&n.cast.ReceiverAvailability&&(a=n.cast.ReceiverAvailability.AVAILABLE),t===a},i.controller=function(l,d){var c,u;function h(e,t){var n={command:e};void 0!==t&&(n.args=t),N.sendMessage(i.NS,n,A,(function(e){i.log("error message",e),"Invalid namespace"===e.description&&v()}))}function p(e,n){var a=JSON.parse(n);if(!a)throw"Message not proper JSON";if(a.reconcile){j.removeMessageListener(i.NS,p);var o=a.diff,s=j;o.id&&a.appid&&a.pageUrl||(o.id=t().id,a.appid=I.appid,a.pageUrl=$,j=N=null),o.id===l.id&&a.appid===I.appid&&a.pageUrl===$&&(N||(l.jwInstreamState()&&l.jwInstreamDestroy(!0),b(s),d.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:o.oldstate,newstate:o.newstate})),T(a)),j=null}}function f(e){var t;P.active=!!e,e=P,t=N&&N.receiver?N.receiver.friendlyName:"",e.deviceName=t,m(r.JWPLAYER_CAST_SESSION)}function m(e){var t=a.extend({},P);d.sendEvent(e,t)}function g(t){var n=e.chrome;t.code!==n.cast.ErrorCode.CANCEL&&(i.log("Cast Session Error:",t,N),t.code===n.cast.ErrorCode.SESSION_ERROR&&v())}function v(){N?(_(),N.stop(C,y)):C()}function y(e){i.error("Cast Session Stop error:",e,N),C()}function b(n){(N=n).addMessageListener(i.NS,x),N.addUpdateListener(w),l.jwPause(!0),l.jwSetFullscreen(!1),O=d.getVideo(),c=d.volume,u=d.mute,(L=new i.provider(h)).init(),d.setVideo(L),l.jwPlay=function(e){!1===e?L.pause():L.play()},l.jwPause=function(e){l.jwPlay(!!e)},l.jwLoad=function(e){"number"===a.typeOf(e)&&d.setItem(e),L.load(e)},l.jwPlaylistItem=function(e){"number"===a.typeOf(e)&&d.setItem(e),L.playlistItem(e)},l.jwPlaylistNext=function(){l.jwPlaylistItem(d.item+1)},l.jwPlaylistPrev=function(){l.jwPlaylistItem(d.item-1)},l.jwSetVolume=function(e){a.exists(e)&&(E(e=0|Math.min(Math.max(0,e),100))&&(e=Math.max(0,Math.min(e/100,1)),N.setReceiverVolumeLevel(e,k,(function(e){i.error("set volume error",e),k()}))))},l.jwSetMute=function(e){a.exists(e)||(e=!R.mute),D(e)&&N.setReceiverMuted(!!e,k,(function(e){i.error("set muted error",e),k()}))},l.jwGetVolume=function(){return 0|R.volume},l.jwGetMute=function(){return!!R.mute},l.jwIsBeforePlay=function(){return!1};var s=l.jwSetCurrentCaptions;l.jwSetCurrentCaptions=function(e){s(e),L.sendCommand("caption",e)},l.jwSkipAd=function(e){M&&(M.skipAd(e),(e=M.getAdModel()).complete=!0,d.sendEvent(r.JWPLAYER_CAST_AD_CHANGED,e))},l.jwClickAd=function(n){if(M&&300<M.timeSinceClick()&&(M.clickAd(n),d.state!==o.PAUSED)){var i={tag:n.tag};n.sequence&&(i.sequence=n.sequence),n.podcount&&(i.podcount=n.podcount),t(l.id).dispatchEvent(r.JWPLAYER_AD_CLICK,i),e.open(n.clickthrough)}},l.jwPlayAd=l.jwPauseAd=l.jwSetControls=l.jwForceState=l.jwReleaseState=l.jwSetFullscreen=l.jwDetachMedia=l.jwAttachMedia=A;var p=t(l.id).plugins;p.vast&&p.vast.jwPauseAd!==A&&(F={jwPlayAd:p.vast.jwPlayAd,jwPauseAd:p.vast.jwPauseAd},p.vast.jwPlayAd=p.vast.jwPauseAd=A),k(),f(!0),n!==j&&L.setup(S(),d)}function w(e){i.log("Cast Session status",e),e?k():(L.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:d.state,newstate:o.BUFFERING}),C())}function C(){if(N&&(_(),N=null),O){delete l.jwSkipAd,delete l.jwClickAd,l.initializeAPI();var e=t(l.id).plugins;e.vast&&a.extend(e.vast,F),d.volume=c,d.mute=u,d.setVideo(O),d.duration=0,L&&(L.destroy(),L=null),M&&(M.destroy(),M=null),d.state!==o.IDLE?a.isIPad()||a.isIPod()?(l.jwStop(!0),O.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:o.BUFFERING,newstate:o.IDLE})):(d.state=o.IDLE,l.jwPlay(!0),l.jwSeek(d.position)):O.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:o.BUFFERING,newstate:o.IDLE}),O=null}f(!1)}function _(){N.removeUpdateListener(w),N.removeMessageListener(i.NS,x)}function x(e,t){var n=JSON.parse(t);if(!n)throw"Message not proper JSON";T(n)}function T(e){if("state"===e.type)M&&(e.diff.newstate||e.diff.position)&&(M.destroy(),M=null,d.setVideo(L),d.sendEvent(r.JWPLAYER_CAST_AD_CHANGED,{done:!0})),L.updateModel(e.diff,e.type),void 0!==(e=e.diff).item&&d.item!==e.item&&(d.item=e.item,d.sendEvent(r.JWPLAYER_PLAYLIST_ITEM,{index:d.item}));else if("ad"===e.type){null===M&&((M=new i.adprovider(i.NS,N)).init(),d.setVideo(M)),M.updateModel(e.diff,e.type);var t=M.getAdModel();e.diff.clickthrough&&(t.onClick=l.jwClickAd),e.diff.skipoffset&&(t.onSkipAd=l.jwSkipAd),d.sendEvent(r.JWPLAYER_CAST_AD_CHANGED,t),e.diff.complete&&M.resetAdModel()}else"connection"===e.type?!0===e.closed&&v():i.error("received unhandled message",e.type,e)}function S(){var e=a.extend({},d.config);e.cast=a.extend({pageUrl:$},I);for(var t="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar".split(" "),i=t.length;i--;)delete e[t[i]];for(var r in t=e.plugins,delete e.plugins,t)if(t.hasOwnProperty(r)){var o=t[r];if(o.client&&(/[\.\/]/.test(o.client)&&n(o,"client"),-1<o.client.indexOf("vast"))){if(i=e,(o=a.extend({},o)).client="vast",delete o.companiondiv,o.schedule){var s=void 0;for(s in o.schedule)o.schedule.hasOwnProperty(s)&&n(o.schedule[s].ad||o.schedule[s],"tag")}n(o,"tag"),i.advertising=o}}return d.position&&(e.position=d.position),0<d.item&&(e.item=d.item),e.captionLabel=a.getCookies().captionLabel,e}function k(){if(N&&N.receiver){var e=N.receiver.volume;if(e){var t=100*e.level|0;D(!!e.muted),E(t)}}}function E(e){var t=R.volume!==e;return t&&(R.volume=e,L.sendEvent(r.JWPLAYER_MEDIA_VOLUME,{volume:e})),t}function D(e){var t=R.mute!==e;return t&&(R.mute=e,L.sendEvent(r.JWPLAYER_MEDIA_MUTE,{mute:e})),t}function A(){}var I,N=null,P={available:!1,active:!1,deviceName:""},R={volume:null,mute:null},$=a.getAbsolutePath(e.location.href),L=null,M=null,O=null;c=d.volume,u=d.mute;var j=null,F=null;n(I=a.extend({},s,d.cast),"loadscreen"),n(I,"endscreen"),n(I,"logo"),!I.appid||e.cast&&e.cast.receiver||(i.loader.addEventListener("availability",(function(e){e=!!i.available(e.availability),P.available!==e&&(P.available=e,m(r.JWPLAYER_CAST_AVAILABLE))})),i.loader.addEventListener("session",(function(e){i.log("existing session",e),N||(j=e.session).addMessageListener(i.NS,p)})),i.loader.initialize(I.appid)),this.startCasting=function(){N||l.jwInstreamState()||e.chrome.cast.requestSession(b,g)},this.stopCasting=v},i.log=function(){if(i.debug){var e=Array.prototype.slice.call(arguments,0);console.log.apply(console,e)}},i.error=function(){var e=Array.prototype.slice.call(arguments,0);console.error.apply(console,e)}}(window,jwplayer),function(e,t){function n(){t&&t.cast&&t.cast.isAvailable&&!d.apiConfig?(d.apiConfig=new t.cast.ApiConfig(new t.cast.SessionRequest(p),o,s,t.cast.AutoJoinPolicy.ORIGIN_SCOPED),t.cast.initialize(d.apiConfig,r,a)):15>h++&&setTimeout(n,1e3)}function i(){l&&(l.resetEventListeners(),l=null)}function a(){d.apiConfig=null}function r(){}function o(e){d.loader.sendEvent("session",{session:e}),e.sendMessage(d.NS,{whoami:1})}function s(e){d.availability=e,d.loader.sendEvent("availability",{availability:e})}window.chrome=t;var l,d=e.cast,c=e.utils,u=e.events,h=0,p=null;d.loader=c.extend({initialize:function(e){p=e,null!==d.availability?d.loader.sendEvent("availability",{availability:d.availability}):t&&t.cast?n():l||((l=new c.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js")).addEventListener(u.ERROR,i),l.addEventListener(u.COMPLETE,n),l.load())}},new u.eventdispatcher("cast.loader"))}(window.jwplayer,window.chrome||{}),function(e){function t(e){return function(){return e}}function n(){}var i=e.cast,a=e.utils,r=e.events,o=r.state;i.provider=function(e){function s(e){u.oldstate=u.newstate,u.newstate=e,d.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:u.oldstate,newstate:u.newstate})}var l,d=a.extend(this,new r.eventdispatcher("cast.provider")),c=-1,u={newstate:o.IDLE,oldstate:o.IDLE,buffer:0,position:0,duration:-1,audioMode:!1};d.isCaster=!0,d.init=function(){},d.destroy=function(){clearTimeout(c),_castSession=null},d.updateModel=function(e,t){e.newstate&&(u.newstate=e.newstate,u.oldstate=e.oldstate||u.oldstate,d.sendEvent(r.JWPLAYER_PLAYER_STATE,{oldstate:u.oldstate,newstate:u.newstate})),"ad"!==t&&(void 0===e.position&&void 0===e.duration||(void 0!==e.position&&(u.position=e.position),void 0!==e.duration&&(u.duration=e.duration),d.sendEvent(r.JWPLAYER_MEDIA_TIME,{position:u.position,duration:u.duration})),void 0!==e.buffer&&(u.buffer=e.buffer,d.sendEvent(r.JWPLAYER_MEDIA_BUFFER,{bufferPercent:u.buffer})))},d.supportsFullscreen=function(){return!1},d.setup=function(t,n){n.state&&(u.newstate=n.state),void 0!==n.buffer&&(u.buffer=n.buffer),void 0!==t.position&&(u.position=t.position),void 0!==t.duration&&(u.duration=t.duration),s(o.BUFFERING),e("setup",t)},d.playlistItem=function(t){s(o.BUFFERING),e("item",t)},d.load=function(t){s(o.BUFFERING),e("load",t)},d.stop=function(){clearTimeout(c),c=setTimeout((function(){s(o.IDLE),e("stop")}),0)},d.play=function(){e("play")},d.pause=function(){s(o.PAUSED),e("pause")},d.seek=function(t){s(o.BUFFERING),d.sendEvent(r.JWPLAYER_MEDIA_SEEK,{position:u.position,offset:t}),e("seek",t)},d.audioMode=function(){return u.audioMode},d.sendCommand=function(t,n){e(t,n)},d.detachMedia=function(){return i.error("detachMedia called while casting"),document.createElement("video")},d.attachMedia=function(){i.error("attachMedia called while casting")},d.setContainer=function(e){l=e},d.getContainer=function(){return l},d.volume=d.mute=d.setControls=d.setCurrentQuality=d.remove=d.resize=d.seekDrag=d.addCaptions=d.resetCaptions=d.setVisibility=d.fsCaptions=n,d.setFullScreen=d.getFullScreen=d.checkComplete=t(!1),d.getWidth=d.getHeight=d.getCurrentQuality=t(0),d.getQualityLevels=t(["Auto"])}}(window.jwplayer),function(e){function t(e,t){i.foreach(t,(function(t,n){var i=e[t];"function"==typeof i&&i.call(e,n)}))}function n(e,t,n){var a=e.style;a.backgroundColor="#000",a.color="#FFF",a.width=i.styleDimension(n.width),a.height=i.styleDimension(n.height),a.display="table",a.opacity=1,(a=(n=document.createElement("p")).style).verticalAlign="middle",a.textAlign="center",a.display="table-cell",a.font="15px/20px Arial, Helvetica, sans-serif",n.innerHTML=t.replace(":",":<br>"),e.innerHTML="",e.appendChild(n)}var i=e.utils,a=e.events,r=!1,o=document,s=e.embed=function(l){function d(){if(!x)if("array"===i.typeOf(g.playlist)&&2>g.playlist.length&&(0===g.playlist.length||!g.playlist[0].sources||0===g.playlist[0].sources.length))h();else if(!_)if("string"===i.typeOf(g.playlist))(m=new e.playlist.loader).addEventListener(a.JWPLAYER_PLAYLIST_LOADED,(function(e){g.playlist=e.playlist,_=r,d()})),m.addEventListener(a.JWPLAYER_ERROR,(function(e){_=r,h(e)})),_=!0,m.load(g.playlist);else if(C.getStatus()==i.loaderstatus.COMPLETE){for(var n=0;n<g.modes.length;n++)if(g.modes[n].type&&s[g.modes[n].type]){var o=i.extend({},g),u=new s[g.modes[n].type](k,g.modes[n],o,C,l);if(u.supportsConfig())return u.addEventListener(a.ERROR,c),u.embed(),i.css("object.jwswf, .jwplayer:focus",{outline:"none"}),i.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),t(l,o.events),l}var f;g.fallback?(f="No suitable players found and fallback enabled",T=setTimeout((function(){p(f,!0)}),10),i.log(f),new s.download(k,g,h)):(p(f="No suitable players found and fallback disabled",r),i.log(f),k.parentNode.replaceChild(S,k))}}function c(e){f(b+e.message)}function u(e){l.dispatchEvent(a.JWPLAYER_ERROR,{message:"Could not load plugin: "+e.message})}function h(e){e&&e.message?f("Error loading playlist: "+e.message):f(b+"No playable sources found")}function p(e,t){T&&(clearTimeout(T),T=null),T=setTimeout((function(){T=null,l.dispatchEvent(a.JWPLAYER_SETUP_ERROR,{message:e,fallback:t})}),0)}function f(e){x||(g.fallback?(x=!0,n(k,e,g),p(e,!0)):p(e,r))}var m,g=new s.config(l.config),v=g.width,y=g.height,b="Error loading player: ",w=o.getElementById(l.id),C=e.plugins.loadPlugins(l.id,g.plugins),_=r,x=r,T=null,S=null;g.fallbackDiv&&(S=g.fallbackDiv,delete g.fallbackDiv),g.id=l.id,g.aspectratio?l.config.aspectratio=g.aspectratio:delete l.config.aspectratio;var k=o.createElement("div");return k.id=w.id,k.style.width=0<v.toString().indexOf("%")?v:v+"px",k.style.height=0<y.toString().indexOf("%")?y:y+"px",w.parentNode.replaceChild(k,w),this.embed=function(){x||(C.addEventListener(a.COMPLETE,d),C.addEventListener(a.ERROR,u),C.load())},this.destroy=function(){C&&(C.destroy(),C=null),m&&(m.resetEventListeners(),m=null)},this.errorScreen=f,this};e.embed.errorScreen=n}(jwplayer),function(e){function t(e){if(e.playlist)for(var t=0;t<e.playlist.length;t++)e.playlist[t]=new a(e.playlist[t]);else{var r={};i.foreach(a.defaults,(function(t){n(e,r,t)})),r.sources||(e.levels?(r.sources=e.levels,delete e.levels):(n(e,t={},"file"),n(e,t,"type"),r.sources=t.file?[t]:[])),e.playlist=[new a(r)]}}function n(e,t,n){i.exists(e[n])&&(t[n]=e[n],delete e[n])}var i=e.utils,a=e.playlist.item;(e.embed.config=function(n){var a={fallback:!0,height:270,primary:"html5",width:480,base:n.base?n.base:i.getScriptPath("jwplayer.js"),aspectratio:""},r=(a={type:"html5",src:(n=i.extend(a,e.defaults,n)).base+"jwplayer.html5.js"},{type:"flash",src:n.base+"jwplayer.flash.swf"});if(n.modes="flash"==n.primary?[r,a]:[a,r],n.listbar&&(n.playlistsize=n.listbar.size,n.playlistposition=n.listbar.position,n.playlistlayout=n.listbar.layout),n.flashplayer&&(r.src=n.flashplayer),n.html5player&&(a.src=n.html5player),t(n),"string"==typeof(r=n.aspectratio)&&i.exists(r)){var o=r.indexOf(":");-1==o?a=0:(a=parseFloat(r.substr(0,o)),r=parseFloat(r.substr(o+1)),a=0>=a||0>=r?0:r/a*100+"%")}else a=0;return-1==n.width.toString().indexOf("%")?delete n.aspectratio:a?n.aspectratio=a:delete n.aspectratio,n}).addConfig=function(e,n){return t(n),i.extend(e,n)}}(jwplayer),function(e){var t=e.utils,n=document;e.embed.download=function(e,i,a){function r(e,i){for(var a=n.querySelectorAll(e),r=0;r<a.length;r++)t.foreach(i,(function(e,t){a[r].style[e]=t}))}function o(e,t,i){return e=n.createElement(e),t&&(e.className="jwdownload"+t),i&&i.appendChild(e),e}var s,l=(f=t.extend({},i)).width?f.width:480,d=f.height?f.height:320;i=i.logo?i.logo:{prefix:t.repo(),file:"logo.png",margin:10};var c,u,h,p,f=f.playlist,m=["mp4","aac","mp3"];if(f&&f.length){for(s=(p=f[0]).sources,f=0;f<s.length;f++){var g=s[f],v=g.type?g.type:t.extensionmap.extType(t.extension(g.file));g.file&&t.foreach(m,(function(e){v==m[e]?(c=g.file,u=p.image):t.isYouTube(g.file)&&(h=g.file)}))}c?(s=c,a=u,e&&(f=o("a","display",e),o("div","icon",f),o("div","logo",f),s&&f.setAttribute("href",t.getAbsolutePath(s))),f="#"+e.id+" .jwdownload",e.style.width="",e.style.height="",r(f+"display",{width:t.styleDimension(Math.max(320,l)),height:t.styleDimension(Math.max(180,d)),background:"black center no-repeat "+(a?"url("+a+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),r(f+"display div",{position:"absolute",width:"100%",height:"100%"}),r(f+"logo",{top:i.margin+"px",right:i.margin+"px",background:"top right no-repeat url("+i.prefix+i.file+")"}),r(f+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):h?(i=h,(e=o("iframe","",e)).src="http://www.youtube.com/embed/"+t.youTubeID(i),e.width=l,e.height=d,e.style.border="none"):a()}}}(jwplayer),function(e){var t=e.utils,n=e.events,i={};(e.embed.flash=function(r,o,s,l,d){function c(e,t,n){var i=document.createElement("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function u(e,t,n){return function(){try{n&&document.getElementById(d.id+"_wrapper").appendChild(t);var i=document.getElementById(d.id).getPluginConfig("display");"function"==typeof e.resize&&e.resize(i.width,i.height),t.style.left=i.x,t.style.top=i.h}catch(e){}}}var h=new e.events.eventdispatcher,p=t.flashVersion();t.extend(this,h),this.embed=function(){if(s.id=d.id,10>p)return h.sendEvent(n.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var e,a,f=d.config.listbar,m=t.extend({},s);if(r.id+"_wrapper"==r.parentNode.id)e=document.getElementById(r.id+"_wrapper");else{if(e=document.createElement("div"),(a=document.createElement("div")).style.display="none",a.id=r.id+"_aspect",e.id=r.id+"_wrapper",e.style.position="relative",e.style.display="block",e.style.width=t.styleDimension(m.width),e.style.height=t.styleDimension(m.height),d.config.aspectratio){var g=parseFloat(d.config.aspectratio);a.style.display="block",a.style.marginTop=d.config.aspectratio,e.style.height="auto",e.style.display="inline-block",f&&("bottom"==f.position?a.style.paddingBottom=f.size+"px":"right"==f.position&&(a.style.marginBottom=-1*f.size*(g/100)+"px"))}r.parentNode.replaceChild(e,r),e.appendChild(r),e.appendChild(a)}for(0<(e=l.setupPlugins(d,m,u)).length?t.extend(m,function(e){if(!e)return{};var n={},i=[];return t.foreach(e,(function(e,a){var r=t.getPluginName(e);i.push(e),t.foreach(a,(function(e,t){n[r+"."+e]=t}))})),n.plugins=i.join(","),n}(e.plugins)):delete m.plugins,void 0!==m["dock.position"]&&"false"==m["dock.position"].toString().toLowerCase()&&(m.dock=m["dock.position"],delete m["dock.position"]),e=m.wmode?m.wmode:m.height&&40>=m.height?"transparent":"opaque",a="height width modes events primary base fallback volume".split(" "),f=0;f<a.length;f++)delete m[a[f]];a=t.getCookies(),t.foreach(a,(function(e,t){void 0===m[e]&&(m[e]=t)})),(a=window.location.href.split("/")).splice(a.length-1,1),a=a.join("/"),m.base=a+"/",i[r.id]=m,t.isMSIE()?(a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+r.id+'" name="'+r.id+'" tabindex=0"">',a+='<param name="movie" value="'+o.src+'">',a+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',a+='<param name="seamlesstabbing" value="true">',a+='<param name="wmode" value="'+e+'">',a+='<param name="bgcolor" value="#000000">',a+="</object>",r.outerHTML=a,e=document.getElementById(r.id)):((a=document.createElement("object")).setAttribute("type","application/x-shockwave-flash"),a.setAttribute("data",o.src),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("bgcolor","#000000"),a.setAttribute("id",r.id),a.setAttribute("name",r.id),a.className="jwswf",c(a,"allowfullscreen","true"),c(a,"allowscriptaccess","always"),c(a,"seamlesstabbing","true"),c(a,"wmode",e),r.parentNode.replaceChild(a,r),e=a),d.config.aspectratio&&(e.style.position="absolute"),d.container=e,d.setPlayer(e,"flash")},this.supportsConfig=function(){if(p){if(!s)return!0;if("string"==t.typeOf(s.playlist))return!0;try{var e=s.playlist[0].sources;if(void 0===e)return!0;for(var n=0;n<e.length;n++)if(e[n].file&&a(e[n].file,e[n].type))return!0}catch(e){}}return!1}}).getVars=function(e){return i[e]};var a=e.embed.flashCanPlay=function(e,n){if(t.isYouTube(e)||t.isRtmp(e,n)||"hls"==n)return!0;var i=t.extensionmap[n||t.extension(e)];return!!i&&!!i.flash}}(jwplayer),function(e){function t(t,a,r){if(null!==navigator.userAgent.match(/BlackBerry/i))return!1;if("youtube"===a||n.isYouTube(t))return!0;var o,s=n.extension(t);if("hls"===(a=a||i.extType(s)))if(r){if((r=n.isAndroidNative)(2)||r(3)||r("4.0"))return!1;if(n.isAndroid())return!0}else if(n.isAndroid())return!1;if(n.isRtmp(t,a))return!1;if(!(t=i[a]||i[s])||t.flash&&!t.html5)return!1;e:if(t=t.html5){try{o=!!e.vid.canPlayType(t);break e}catch(e){}o=!1}else o=!0;return o}var n=e.utils,i=n.extensionmap,a=e.events;e.embed.html5=function(i,r,o,s,l){function d(e,t,n){return function(){try{var a=document.querySelector("#"+i.id+" .jwmain");n&&a.appendChild(t),"function"==typeof e.resize&&(e.resize(a.clientWidth,a.clientHeight),setTimeout((function(){e.resize(a.clientWidth,a.clientHeight)}),400)),t.left=a.style.left,t.top=a.style.top}catch(e){}}}function c(e){u.sendEvent(e.type,{message:"HTML5 player not found"})}var u=this,h=new a.eventdispatcher;n.extend(u,h),u.embed=function(){if(e.html5){s.setupPlugins(l,o,d),i.innerHTML="";var t=e.utils.extend({},o);delete t.volume,t=new e.html5.player(t),l.container=document.getElementById(l.id),l.setPlayer(t,"html5")}else(t=new n.scriptloader(r.src)).addEventListener(a.ERROR,c),t.addEventListener(a.COMPLETE,u.embed),t.load()},u.supportsConfig=function(){if(e.vid.canPlayType)try{if("string"==n.typeOf(o.playlist))return!0;for(var i=o.playlist[0].sources,a=0;a<i.length;a++)if(t(i[a].file,i[a].type,o.androidhls))return!0}catch(e){}return!1}},e.embed.html5CanPlay=t}(jwplayer),function(e){var t=e.embed,n=e.utils,i=/\.(js|swf)$/;e.embed=n.extend((function(a){function r(){o="Adobe SiteCatalyst Error: Could not find Media Module"}var o,s=n.repo(),l=n.extend({},e.defaults),d=n.extend({},l,a.config),c=a.config,u=d.plugins,h=d.analytics,p=s+"jwpsrv.js",f=s+"sharing.js",m=s+"related.js",g=s+"gapro.js",v=(l=e.key?e.key:l.key,new e.utils.key(l).edition());u=u||{};switch("ads"==v&&d.advertising&&(i.test(d.advertising.client)?u[d.advertising.client]=d.advertising:u[s+d.advertising.client+".js"]=d.advertising),delete c.advertising,c.key=l,d.analytics&&i.test(d.analytics.client)&&(p=d.analytics.client),delete c.analytics,h&&"ads"!==v&&"enterprise"!==v&&delete h.enabled,"free"!=v&&h&&!1===h.enabled||(u[p]=h||{}),delete u.sharing,delete u.related,v){case"ads":case"enterprise":if(c.sitecatalyst)try{window.s&&window.s.hasOwnProperty("Media")?new e.embed.sitecatalyst(a):r()}catch(e){r()}case"premium":d.related&&(i.test(d.related.client)&&(m=d.related.client),u[m]=d.related),d.ga&&(i.test(d.ga.client)&&(g=d.ga.client),u[g]=d.ga);case"pro":d.sharing&&(i.test(d.sharing.client)&&(f=d.sharing.client),u[f]=d.sharing),d.skin&&(c.skin=d.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,n.repo()+"skins/$1.xml"))}return c.plugins=u,a.config=c,a=new t(a),o&&a.errorScreen(o),a}),e.embed)}(jwplayer),function(e){var t=jwplayer.utils;e.sitecatalyst=function(e){function n(e){h.debug&&t.log(e)}function i(e){return(e=(e=(e=e.split("/"))[e.length-1]).split("?"))[0]}function a(){if(!f){f=!0;var e=u.getPosition();n("stop: "+o+" : "+e),s.Media.stop(o,e)}}function r(){m||(a(),m=!0,n("close: "+o),s.Media.close(o),c=!0,d=0)}var o,l,d,c,u=e,h=t.extend({},u.config.sitecatalyst),p={onPlay:function(){if(!c){var e=u.getPosition();f=!1,n("play: "+o+" : "+e),s.Media.play(o,e)}},onPause:a,onBuffer:a,onIdle:r,onPlaylistItem:function(e){try{var n;if(c=!0,r(),d=0,h.mediaName)n=h.mediaName;else{var a=u.getPlaylistItem(e.index);n=a.title?a.title:a.file?i(a.file):a.sources&&a.sources.length?i(a.sources[0].file):""}o=n,l=h.playerName?h.playerName:u.id}catch(e){t.log(e)}},onTime:function(){if(c){var e=u.getDuration();if(-1==e)return;m=f=c=!1,n("open: "+o+" : "+e+" : "+l),s.Media.open(o,e,l),n("play: "+o+" : 0"),s.Media.play(o,0)}if(e=u.getPosition(),3<=Math.abs(e-d)){var t=d;n("seek: "+t+" to "+e),n("stop: "+o+" : "+t),s.Media.stop(o,t),n("play: "+o+" : "+e),s.Media.play(o,e)}d=e},onComplete:r},f=!0,m=!0;t.foreach(p,(function(e){u[e](p[e])}))}}(jwplayer.embed),function(e,t){var n=[],i=e.utils,a=e.events,r=a.state,o=document,s="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),l="playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume".split(" "),d={onBufferChange:a.JWPLAYER_MEDIA_BUFFER,onBufferFull:a.JWPLAYER_MEDIA_BUFFER_FULL,onError:a.JWPLAYER_ERROR,onSetupError:a.JWPLAYER_SETUP_ERROR,onFullscreen:a.JWPLAYER_FULLSCREEN,onMeta:a.JWPLAYER_MEDIA_META,onMute:a.JWPLAYER_MEDIA_MUTE,onPlaylist:a.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:a.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:a.JWPLAYER_PLAYLIST_COMPLETE,onReady:a.API_READY,onResize:a.JWPLAYER_RESIZE,onComplete:a.JWPLAYER_MEDIA_COMPLETE,onSeek:a.JWPLAYER_MEDIA_SEEK,onTime:a.JWPLAYER_MEDIA_TIME,onVolume:a.JWPLAYER_MEDIA_VOLUME,onBeforePlay:a.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:a.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:a.JWPLAYER_DISPLAY_CLICK,onControls:a.JWPLAYER_CONTROLS,onQualityLevels:a.JWPLAYER_MEDIA_LEVELS,onQualityChange:a.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:a.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:a.JWPLAYER_CAPTIONS_CHANGED,onAdError:a.JWPLAYER_AD_ERROR,onAdClick:a.JWPLAYER_AD_CLICK,onAdImpression:a.JWPLAYER_AD_IMPRESSION,onAdTime:a.JWPLAYER_AD_TIME,onAdComplete:a.JWPLAYER_AD_COMPLETE,onAdCompanions:a.JWPLAYER_AD_COMPANIONS,onAdSkipped:a.JWPLAYER_AD_SKIPPED,onAdPlay:a.JWPLAYER_AD_PLAY,onAdPause:a.JWPLAYER_AD_PAUSE,onAdMeta:a.JWPLAYER_AD_META,onCast:a.JWPLAYER_CAST_SESSION},c={onBuffer:r.BUFFERING,onPause:r.PAUSED,onPlay:r.PLAYING,onIdle:r.IDLE};e.api=function(n){function u(e,t){i.foreach(e,(function(e,n){w[e]=function(e){return t(n,e)}}))}function h(e,t){var n="jw"+t.charAt(0).toUpperCase()+t.slice(1);w[t]=function(){var t=g.apply(this,[n].concat(Array.prototype.slice.call(arguments,0)));return e?w:t}}function p(t){T=[],b&&b.destroy&&b.destroy(),e.api.destroyPlayer(t.id)}function f(e,t){try{e.jwAddEventListener(t,'function(dat) { jwplayer("'+w.id+'").dispatchEvent("'+t+'", dat); }')}catch(e){i.log("Could not add internal listener")}}function m(e,t){return C[e]||(C[e]=[],v&&x&&f(v,e)),C[e].push(t),w}function g(){if(x){if(v){var e=Array.prototype.slice.call(arguments,0),t=e.shift();if("function"==typeof v[t]){switch(e.length){case 6:return v[t](e[0],e[1],e[2],e[3],e[4],e[5]);case 5:return v[t](e[0],e[1],e[2],e[3],e[4]);case 4:return v[t](e[0],e[1],e[2],e[3]);case 3:return v[t](e[0],e[1],e[2]);case 2:return v[t](e[0],e[1]);case 1:return v[t](e[0])}return v[t]()}}return null}T.push(arguments)}var v,y,b,w=this,C={},_={},x=!1,T=[],S={},k={};return w.container=n,w.id=n.id,w.setup=function(t){if(e.embed){var n=o.getElementById(w.id);return n&&(t.fallbackDiv=n),p(w),(n=e(w.id)).config=t,(b=new e.embed(n)).embed(),n}return w},w.getContainer=function(){return w.container},w.addButton=function(e,t,n,a){try{k[a]=n,g("jwDockAddButton",e,t,"jwplayer('"+w.id+"').callback('"+a+"')",a)}catch(e){i.log("Could not add dock button"+e.message)}},w.removeButton=function(e){g("jwDockRemoveButton",e)},w.callback=function(e){k[e]&&k[e]()},w.getMeta=function(){return w.getItemMeta()},w.getPlaylist=function(){var e=g("jwGetPlaylist");return"flash"==w.renderingMode&&i.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),e},w.getPlaylistItem=function(e){return i.exists(e)||(e=w.getPlaylistIndex()),w.getPlaylist()[e]},w.getRenderingMode=function(){return w.renderingMode},w.setFullscreen=function(e){return i.exists(e)?g("jwSetFullscreen",e):g("jwSetFullscreen",!g("jwGetFullscreen")),w},w.setMute=function(e){return i.exists(e)?g("jwSetMute",e):g("jwSetMute",!g("jwGetMute")),w},w.lock=function(){return w},w.unlock=function(){return w},w.load=function(t){return g("jwInstreamDestroy"),e(w.id).plugins.googima&&g("jwDestroyGoogima"),g("jwLoad",t),w},w.playlistItem=function(e){return g("jwPlaylistItem",parseInt(e,10)),w},w.resize=function(e,t){if("flash"!==w.renderingMode)g("jwResize",e,t);else{var n=o.getElementById(w.id+"_wrapper"),a=o.getElementById(w.id+"_aspect");a&&(a.style.display="none"),n&&(n.style.display="block",n.style.width=i.styleDimension(e),n.style.height=i.styleDimension(t))}return w},w.play=function(e){if(e!==t)return g("jwPlay",e),w;e=w.getState();var n=y&&y.getState();return n?n===r.IDLE||n===r.PLAYING||n===r.BUFFERING?g("jwInstreamPause"):g("jwInstreamPlay"):e==r.PLAYING||e==r.BUFFERING?g("jwPause"):g("jwPlay"),w},w.pause=function(e){return e===t?(e=w.getState())==r.PLAYING||e==r.BUFFERING?g("jwPause"):g("jwPlay"):g("jwPause",e),w},w.createInstream=function(){return new e.api.instream(this,v)},w.setInstream=function(e){return y=e},w.loadInstream=function(e,t){return(y=w.setInstream(w.createInstream()).init(t)).loadItem(e),y},w.destroyPlayer=function(){g("jwPlayerDestroy")},w.playAd=function(t){var n=e(w.id).plugins;n.vast?n.vast.jwPlayAd(t):g("jwPlayAd",t)},w.pauseAd=function(){var t=e(w.id).plugins;t.vast?t.vast.jwPauseAd():g("jwPauseAd")},u(c,(function(e,t){return _[e]||(_[e]=[],m(a.JWPLAYER_PLAYER_STATE,(function(t){var n=t.newstate;if(t=t.oldstate,n==e){var i=_[n];if(i)for(var a=0;a<i.length;a++){var r=i[a];"function"==typeof r&&r.call(this,{oldstate:t,newstate:n})}}}))),_[e].push(t),w})),u(d,m),i.foreach(s,(function(e,t){h(!1,t)})),i.foreach(l,(function(e,t){h(!0,t)})),w.remove=function(){if(!x)throw"Cannot call remove() before player is ready";p(this)},w.registerPlugin=function(t,n,i,a){e.plugins.registerPlugin(t,n,i,a)},w.setPlayer=function(e,t){v=e,w.renderingMode=t},w.detachMedia=function(){if("html5"==w.renderingMode)return g("jwDetachMedia")},w.attachMedia=function(e){if("html5"==w.renderingMode)return g("jwAttachMedia",e)},w.removeEventListener=function(e,t){var n=C[e];if(n)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1)},w.dispatchEvent=function(e,t){if(n=C[e])for(var n=n.slice(0),r=i.translateEventResponse(e,t),o=0;o<n.length;o++){var s=n[o];if("function"==typeof s)try{e===a.JWPLAYER_PLAYLIST_LOADED&&i.deepReplaceKeyName(r.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),s.call(this,r)}catch(e){i.log("There was an error calling back an event handler")}}},w.dispatchInstreamEvent=function(e){y&&y.dispatchEvent(e,arguments)},w.callInternal=g,w.playerReady=function(e){for(x=!0,v||w.setPlayer(o.getElementById(e.id)),w.container=o.getElementById(w.id),i.foreach(C,(function(e){f(v,e)})),m(a.JWPLAYER_PLAYLIST_ITEM,(function(){S={}})),m(a.JWPLAYER_MEDIA_META,(function(e){i.extend(S,e.metadata)})),m(a.JWPLAYER_VIEW_TAB_FOCUS,(function(e){var t=w.getContainer();!0===e.hasFocus?i.addClass(t,"jw-tab-focus"):i.removeClass(t,"jw-tab-focus")})),w.dispatchEvent(a.API_READY);0<T.length;)g.apply(this,T.shift())},w.getItemMeta=function(){return S},w},e.playerReady=function(t){var n=e.api.playerById(t.id);n?n.playerReady(t):e.api.selectPlayer(t.id).playerReady(t)},e.api.selectPlayer=function(t){var a;return i.exists(t)||(t=0),t.nodeType?a=t:"string"==typeof t&&(a=o.getElementById(t)),a?(t=e.api.playerById(a.id))?t:e.api.addPlayer(new e.api(a)):"number"==typeof t?n[t]:null},e.api.playerById=function(e){for(var t=0;t<n.length;t++)if(n[t].id==e)return n[t];return null},e.api.addPlayer=function(e){for(var t=0;t<n.length;t++)if(n[t]==e)return e;return n.push(e),e},e.api.destroyPlayer=function(e){var a,r,s;if(i.foreach(n,(function(t,n){n.id===e&&(a=t,r=n)})),a===t||r===t)return null;if(i.clearCss("#"+r.id),s=o.getElementById(r.id+("flash"==r.renderingMode?"_wrapper":""))){"html5"===r.renderingMode&&r.destroyPlayer();var l=o.createElement("div");l.id=r.id,s.parentNode.replaceChild(l,s)}return n.splice(a,1),null}}(window.jwplayer),function(e){var t=e.events,n=e.utils,i=t.state;e.api.instream=function(e,a){function r(t,n){return d[t]||(d[t]=[],a.jwInstreamAddEventListener(t,'function(dat) { jwplayer("'+e.id+'").dispatchInstreamEvent("'+t+'", dat); }')),d[t].push(n),this}function o(e,n){return c[e]||(c[e]=[],r(t.JWPLAYER_PLAYER_STATE,(function(t){var n=t.newstate,i=t.oldstate;if(n==e){var a=c[n];if(a)for(var r=0;r<a.length;r++){var o=a[r];"function"==typeof o&&o.call(this,{oldstate:i,newstate:n,type:t.type})}}}))),c[e].push(n),this}var s,l,d={},c={},u=this;u.type="instream",u.init=function(){return e.callInternal("jwInitInstream"),u},u.loadItem=function(t,i){s=t,l=i||{},"array"==n.typeOf(t)?e.callInternal("jwLoadArrayInstream",s,l):e.callInternal("jwLoadItemInstream",s,l)},u.removeEvents=function(){d=c={}},u.removeEventListener=function(e,t){var n=d[e];if(n)for(var i=n.length;i--;)n[i]===t&&n.splice(i,1)},u.dispatchEvent=function(e,t){if(i=d[e])for(var i=i.slice(0),a=n.translateEventResponse(e,t[1]),r=0;r<i.length;r++){var o=i[r];"function"==typeof o&&o.call(this,a)}},u.onError=function(e){return r(t.JWPLAYER_ERROR,e)},u.onMediaError=function(e){return r(t.JWPLAYER_MEDIA_ERROR,e)},u.onFullscreen=function(e){return r(t.JWPLAYER_FULLSCREEN,e)},u.onMeta=function(e){return r(t.JWPLAYER_MEDIA_META,e)},u.onMute=function(e){return r(t.JWPLAYER_MEDIA_MUTE,e)},u.onComplete=function(e){return r(t.JWPLAYER_MEDIA_COMPLETE,e)},u.onPlaylistComplete=function(e){return r(t.JWPLAYER_PLAYLIST_COMPLETE,e)},u.onPlaylistItem=function(e){return r(t.JWPLAYER_PLAYLIST_ITEM,e)},u.onTime=function(e){return r(t.JWPLAYER_MEDIA_TIME,e)},u.onBuffer=function(e){return o(i.BUFFERING,e)},u.onPause=function(e){return o(i.PAUSED,e)},u.onPlay=function(e){return o(i.PLAYING,e)},u.onIdle=function(e){return o(i.IDLE,e)},u.onClick=function(e){return r(t.JWPLAYER_INSTREAM_CLICK,e)},u.onInstreamDestroyed=function(e){return r(t.JWPLAYER_INSTREAM_DESTROYED,e)},u.onAdSkipped=function(e){return r(t.JWPLAYER_AD_SKIPPED,e)},u.play=function(e){a.jwInstreamPlay(e)},u.pause=function(e){a.jwInstreamPause(e)},u.hide=function(){e.callInternal("jwInstreamHide")},u.destroy=function(){u.removeEvents(),e.callInternal("jwInstreamDestroy")},u.setText=function(e){a.jwInstreamSetText(e||"")},u.getState=function(){return a.jwInstreamState()},u.setClick=function(e){a.jwInstreamClick&&a.jwInstreamClick(e)}}}(window.jwplayer),function(e){var t=e.api,n=t.selectPlayer;t.selectPlayer=function(t){return(t=n(t))?t:{registerPlugin:function(t,n,i){e.plugins.registerPlugin(t,n,i)}}}}(jwplayer))},function(e,t){window.AACDecoder=class{constructor(){this._audioCtx=new(window.AudioContext||window.webkitAudioContext),this._samplesBuffer=new ArrayBuffer,this._packagesCount=0,this._lastPackage=new ArrayBuffer}close(){this._audioCtx.close()}concat(e,t){let n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}concat2(e,t,n){let i=new Uint8Array(e.byteLength+t.byteLength+n.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.set(new Uint8Array(n),e.byteLength+t.byteLength),i.buffer}decode(e,t){if(!e||e.byteLength<=0)return;if(this._samplesBuffer=this.concat(this._samplesBuffer,e),this._packagesCount++,this._packagesCount<8)return;this._lastPackage&&this._lastPackage.byteLength>0&&(this._samplesBuffer=this.concat(this._lastPackage,this._samplesBuffer));let n=this._samplesBuffer;this._samplesBuffer=new ArrayBuffer,this._packagesCount=0,this._audioCtx.decodeAudioData(n,function(e){if(t){let n=e.getChannelData(0),i=Std.downsampleBuffer(n,16e3,e.sampleRate);t(i,16e3,e.numberOfChannels)}}.bind(this),function(e){console.log("Error with decoding audio data"+e.message)}.bind(this))}}},function(e,t){class n{constructor(e,t){this._wasm=e,this._memory=new Uint8Array(t.buffer),this._indexDe=n._currentIndex,this._indexEn=n._currentIndex+1,n._currentIndex=n._currentIndex+2&63,this._wasm.instance.exports._initAdpcmState(this._indexDe),this._wasm.instance.exports._initAdpcmState(this._indexEn)}resetDecodeState(e){this._wasm.instance.exports._resetAdpcmState(this._indexDe,e.valprev,e.index)}resetEncodeState(e){this._wasm.instance.exports._resetAdpcmState(this._indexEn,e.valprev,e.index)}getDecodeState(){return this._wasm.instance.exports._getAdpcmState(this._indexDe,10236,10238),new n.State(this._memory[10236]+(this._memory[10237]<<8),this._memory[10238])}getEncodeState(){return this._wasm.instance.exports._getAdpcmState(this._indexEn,20476,20478),new n.State(this._memory[20476]+(this._memory[20477]<<8),this._memory[20478])}decode(e){return this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),100),this._wasm.instance.exports._decodeAdpcm(this._indexDe,100,10240,2*e.byteLength),new Int16Array(this._memory.buffer,10240,2*e.byteLength)}encode(e){return this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),20480),this._wasm.instance.exports._encodeAdpcm(this._indexEn,20480,30960,e.byteLength/2),new Uint8Array(this._memory.buffer,30960,e.byteLength/4)}}n._currentIndex=0,n.State=class{constructor(e,t){this.valprev=e,this.index=t}},window.Adpcm=n},function(e,t){window.AudioCollect=class{constructor(e){this.defaults={socketTimeoutFun:null,openAudioSuccess:null,openAudioFail:null,socketCloseFun:null,type:"BOTH_WAY",codingType:null,data:null,onDevicePresent:null},this.addAssign(),this.options=Object.assign({},this.defaults,e),this.CODEC_TYPE={NONE:"none",ADPCMA:"adpcma",G726:"g726",G711a:"g711a",G711u:"g711u",AAC:"aac"},this.pcmPlayer=new PCMPlayer(1,8e3),this.memory=this.getMemory(),this.importObj=this.createWebAssemblyObj(),this.rtp=new Rtp,this.g726TempBuffer=null,this.audioWasm=null,this.audioCoder=null,this.audioEncoder=null,this.coderType=this.CODEC_TYPE.NONE,this.mediaStream=null,this.audioCtx=null,this.audioInput=null,this.recorder=null,this.websocket=null,this.timeoutObj=null,this.recvPackageTimeArr=new Array,this.recvPackageSampleCountArr=new Array,this.heartbeat=null,this.mediaEncapsulation(),this.mediaDevices()}getMemory(){var e=null;if("undefined"!=typeof WebAssembly){var t=window.videoMemoryObject;e=void 0===t?new WebAssembly.Memory({initial:256,maximum:256}):t,window.videoMemoryObject=e}return e}addAssign(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},writable:!0,configurable:!0})}createWebAssemblyObj(){var e=null;if("undefined"!=typeof WebAssembly){var t=window.webAssemblyObject;e=void 0===t?{env:{abortStackOverflow:()=>{throw new Error("overflow")},table:new WebAssembly.Table({initial:0,maximum:0,element:"anyfunc"}),__table_base:0,memory:this.memory,__memory_base:102400,STACKTOP:0,STACK_MAX:this.memory.buffer.byteLength}}:t,window.webAssemblyObject=e}else layer.msg("");return e}mediaEncapsulation(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=e=>{var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,i){t.call(navigator,e,n,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})}mediaDevices(){if("undefined"==typeof WebAssembly)throw layer.msg(""),new Error("WebAssembly");navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{var t=window.audioWasmObject;void 0===t?fetch("/clbs/resources/js/media/codec/audio.wasm").then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,this.importObj)).then(t=>{this.audioWasm=t,this.mediaStream=e,window.audioWasmObject=t,this.websocketInit()}):(this.audioWasm=t,this.mediaStream=e,this.websocketInit())}).catch(e=>{console.error(e.name+": "+e.message),"NotFoundError"===e.name&&layer.msg(""),null!==this.options.onDevicePresent&&"function"==typeof this.options.onDevicePresent&&this.options.onDevicePresent()})}websocketInit(){if(!("WebSocket"in window)||""===this.options.url)throw new Error("websocketurl");this.websocket=new WebSocket(this.options.url),this.websocket.binaryType="arraybuffer",this.websocket.onopen=this.socketOpen.bind(this),this.websocket.onmessage=this.socketMessage.bind(this),this.websocket.onerror=this.socketError.bind(this),this.websocket.onclose=this.socketClose.bind(this)}socketOpen(){this.socketTimeout();var e=this;this.heartbeat=setInterval(()=>{e.websocket.send("0")},5e3)}socketMessage(e){this.audioDataParsing(e.data)}audioDataParsing(e){let t=this.rtp.parse(e);if(t.errorCode===Result.ErrorCode.SUCCESS&&t.type===Result.Type.AUDIO){if(null==this.audioCoder&&null!=this.audioWasm){if(this.audioCoder=this.createAudioCoder(),!this.audioCoder)return void(this.options.openAudioFail&&this.options.openAudioFail("!"));this.options.openAudioSuccess&&this.options.openAudioSuccess(this.options.data),"BOTH_WAY"!==this.options.type&&"DOWN_WAY"!==this.options.type||this.createAudioContext()}null!=this.audioCoder&&this.decode(t.data,function(e,n=8e3,i=1){this.recvPackageTimeArr.push(t.time),this.recvPackageSampleCountArr.push(8e3*e.length/n),"BOTH_WAY"!==this.options.type&&"UP_WAY"!==this.options.type||this.pcmPlayer&&(this.pcmPlayer.setChannels(i),this.pcmPlayer.setSampleRate(n),this.pcmPlayer.feed(e))}.bind(this))}}createAudioCoder(){return 8===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G726,new G726(this.audioWasm,this.memory,4)):26===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.ADPCMA,new Adpcm(this.audioWasm,this.memory)):6===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G711a,new G711(this.audioWasm,this.memory)):7===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G711u,new G711(this.audioWasm,this.memory)):29===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G726,new G726(this.audioWasm,this.memory,2)):30===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G726,new G726(this.audioWasm,this.memory,3)):31===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G726,new G726(this.audioWasm,this.memory,4)):32===this.rtp.getPayloadType()?(this.coderType=this.CODEC_TYPE.G726,new G726(this.audioWasm,this.memory,5)):19===this.rtp.getPayloadType()?(this.audioEncoder=new G711(this.audioWasm,this.memory),this.coderType=this.CODEC_TYPE.AAC,new AACDecoder):(console.error("unknow audio encoder"),null)}decode(e,t){let n;switch(this.coderType){case this.CODEC_TYPE.ADPCMA:let i=e.slice(8,e.byteLength);this.audioCoder.resetDecodeState(new Adpcm.State(e[4]+(e[5]<<8),e[6])),n=this.audioCoder.decode(i),t(Std.shortToFloatData(n));break;case this.CODEC_TYPE.G726:n=this.audioCoder.decode(e,1),t(Std.shortToFloatData(n));break;case this.CODEC_TYPE.G711a:n=this.audioCoder.decodeG711a(e),t(Std.shortToFloatData(n));break;case this.CODEC_TYPE.G711u:n=this.audioCoder.decodeG711u(e),t(Std.shortToFloatData(n));break;case this.CODEC_TYPE.AAC:this.audioCoder.decode(e,function(e,n,i){t(e,n,i)}.bind(this))}}socketError(e){console.log(e)}socketClose(){if(this.destructionAudioContext(),this.options.socketCloseFun&&this.options.socketCloseFun(),this.audioCtx){var e=this;this.audioCtx.close().then((function(){e.destroy()}))}else this.destroy()}createAudioContext(){let e=window.AudioContext||window.webkitAudioContext;this.audioCtx=new e,this.audioInput=this.audioCtx.createMediaStreamSource(this.mediaStream);var t=this.audioCtx.createScriptProcessor||this.audioCtx.createJavaScriptNode;this.recorder=t.apply(this.audioCtx,[4096,1,1]),this.startCollectAudio(),this.recorder.onaudioprocess=this.audioProcessFun.bind(this)}startCollectAudio(){this.audioInput.connect(this.recorder),this.recorder.connect(this.audioCtx.destination)}audioProcessFun(e){if(null!=this.audioCtx){let t=e.inputBuffer.getChannelData(0),n=Std.downsampleBuffer(new Float32Array(t.buffer),8e3,this.audioCtx.sampleRate),i=Std.floatToShortData(n),a=this.g726TempBuffer;this.g726TempBuffer=null==this.g726TempBuffer?new Int16Array(i.length):new Int16Array(i.length+a.length),null!=a?(this.g726TempBuffer.set(a),this.g726TempBuffer.set(i,a.length)):this.g726TempBuffer.set(i);let r=0;for(;r<this.g726TempBuffer.length&&!(this.recvPackageSampleCountArr.length<=0)&&!(this.recvPackageSampleCountArr[0]>this.g726TempBuffer.length-r);){let e=this.recvPackageSampleCountArr.shift(),t=this.g726TempBuffer.slice(r,r+e),n=this.encode(t);n.errorCode===Result.ErrorCode.SUCCESS&&1===this.websocket.readyState&&this.websocket.send(n.data),r+=e}this.g726TempBuffer.length-r>0?r>0&&(a=this.g726TempBuffer,this.g726TempBuffer=new Int16Array(a.length-r),this.g726TempBuffer.set(a.slice(r,a.length))):this.g726TempBuffer=null}}encode(e){let t,n=-1;switch(this.coderType){case this.CODEC_TYPE.ADPCMA:this.audioCoder.resetEncodeState(new Adpcm.State(0,0));let i=this.audioCoder.encode(e);this.audioCoder.getEncodeState();t=new Uint8Array(8+i.byteLength),t[0]=0,t[1]=1,t[2]=82,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t.set(i,8);break;case this.CODEC_TYPE.G726:t=this.audioCoder.encode(e,1);break;case this.CODEC_TYPE.G711a:t=this.audioCoder.encodeG711a(e);break;case this.CODEC_TYPE.G711u:t=this.audioCoder.encodeG711u(e);break;case this.CODEC_TYPE.AAC:t=this.audioEncoder.encodeG711a(e),n=6;break;default:return null}let i=this.recvPackageTimeArr.shift();return this.rtp.makeAudio(t,i,n)}closeWebsocket(){this.websocket&&this.websocket.close()}socketTimeout(){this.timeoutObj=setTimeout(()=>{!this.audioCoder&&this.coderType!==this.CODEC_TYPE.NONE&&this.options.socketTimeoutFun&&(this.audioCtx?this.audioCtx.close().then(()=>{this.destroy()}):this.destroy(),this.options.socketTimeoutFun())},8e3)}destroy(){this.heartbeat&&(clearInterval(this.heartbeat),this.heartbeat=null),this.g726TempBuffer=null,this.audioWasm=null,this.mediaStream=null,this.audioCtx=null,this.audioInput=null,this.recorder=null,this.websocket=null,this.audioCoder=null,clearTimeout(this.timeoutObj),this.timeoutObj=null,this.pcmPlayer=null}setAudioVoice(e){null!==this.pcmPlayer&&this.pcmPlayer.setVolume(e)}destructionAudioContext(){null!==this.pcmPlayer&&this.pcmPlayer.close()}}},function(e,t){window.AudioCodec=class{constructor(e){this.defaults={onDecodeFunc:null,onEncodeFunc:null},this.options=Object.assign({},this.defaults,e),this.aacDecoder=null,this.g726Coder=null,this.adpcmCoder=null,this.g711Coder=null,this.audioFormat="",this.audioWasm=null;try{this.memory=this._getMemory(),this.importObj=this._createWebAssemblyObj(),this._createWasm()}catch(e){console.error(e)}}_createWasm(){let e=null;"undefined"!=typeof WebAssembly&&(e=window.audioWasmObject,void 0===e&&fetch("/clbs/resources/js/media/audio/audio.wasm").then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,this.importObj)).then(e=>{this.audioWasm=e,window.audioWasmObject=e})),this.audioWasm=e}_getMemory(){var e=null;if("undefined"!=typeof WebAssembly){var t=window.audioMemoryObject;e=void 0===t?new WebAssembly.Memory({initial:256,maximum:256}):t,window.audioMemoryObject=e}return e}_createWebAssemblyObj(){var e=null;if("undefined"!=typeof WebAssembly){var t=window.webAssemblyObject;e=void 0===t?{env:{abortStackOverflow:()=>{throw new Error("overflow")},table:new WebAssembly.Table({initial:0,maximum:0,element:"anyfunc"}),__table_base:0,memory:this.memory,__memory_base:102400,STACKTOP:0,STACK_MAX:this.memory.buffer.byteLength}}:t,window.webAssemblyObject=e}else layer.msg("");return e}_aacAudioDecoding(e){this.aacDecoder||(this.aacDecoder=new AACDecoder),this.aacDecoder.decode(e,function(e,t,n){this.options.onDecodeFunc&&this.options.onDecodeFunc(e,t,n)}.bind(this))}_g711uAudioDecoding(e){if(null==this.g711Coder&&null!=this.audioWasm&&(this.g711Coder=new G711(this.audioWasm,this.memory)),null!=this.g711Coder){let t=this.g711Coder.decodeG711u(e),n=Std.shortToFloatData(t);this.options.onDecodeFunc&&this.options.onDecodeFunc(n,8e3,1)}}_g711uAudioEncoding(e){if(null==this.g711Coder&&null!=this.audioWasm&&(this.g711Coder=new G711(this.audioWasm,this.memory)),null!=this.g711Coder){let t=this.g711Coder.encodeG711u(e);this.options.onEncodeFunc&&this.options.onEncodeFunc(t)}}_g711aAudioDecoding(e){if(null==this.g711Coder&&null!=this.audioWasm&&(this.g711Coder=new G711(this.audioWasm,this.memory)),null!=this.g711Coder){let t=this.g711Coder.decodeG711a(e),n=Std.shortToFloatData(t);this.options.onDecodeFunc&&this.options.onDecodeFunc(n,8e3,1)}}_g711aAudioEncoding(e){if(null==this.g711Coder&&null!=this.audioWasm&&(this.g711Coder=new G711(this.audioWasm,this.memory)),null!=this.g711Coder){let t=this.g711Coder.encodeG711a(e);this.options.onEncodeFunc&&this.options.onEncodeFunc(t)}}_g726AudioDecoding(e,t=4){if(null==this.g726Coder&&null!=this.audioWasm&&(this.g726Coder=new G726(this.audioWasm,this.memory,t)),null!=this.g726Coder){let t=this.g726Coder.decode(e,1),n=Std.shortToFloatData(t);this.options.onDecodeFunc&&this.options.onDecodeFunc(n,8e3,1)}}_g726AudioEncoding(e,t=4){if(null==this.g726Coder&&null!=this.audioWasm&&(this.g726Coder=new G726(this.audioWasm,this.memory,t)),null!=this.g726Coder){let t=this.g726Coder.encode(e,1);this.options.onEncodeFunc&&this.options.onEncodeFunc(t)}}_adpcmAudioDecoding(e){if(null==this.adpcmCoder&&null!=this.audioWasm&&(this.adpcmCoder=new Adpcm(this.audioWasm,this.memory)),null!=this.adpcmCoder){let t=e.slice(4,e.byteLength);this.adpcmCoder.resetDecodeState(new Adpcm.State(e[0]+(e[1]<<8),e[2]));let n=this.adpcmCoder.decode(t),i=Std.shortToFloatData(n);this.options.onDecodeFunc&&this.options.onDecodeFunc(i,8e3,1)}}_adpcmAudioEncoding(e){if(null==this.adpcmCoder&&null!=this.audioWasm&&(this.adpcmCoder=new Adpcm(this.audioWasm,this.memory)),null!=this.adpcmCoder){this.adpcmCoder.resetEncodeState(new Adpcm.State(0,0));let t=this.adpcmCoder.encode(e),n=(this.adpcmCoder.getEncodeState(),new Uint8Array(8+t.byteLength));n[0]=0,n[1]=1,n[2]=82,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n.set(t,8),this.options.onEncodeFunc&&this.options.onEncodeFunc(n)}}encode(e,t){switch(t){case 26:this._adpcmAudioEncoding(e);break;case 29:this._g726AudioDecoding(e,2);break;case 30:this._g726AudioDecoding(e,3);break;case 8:case 31:this._g726AudioDecoding(e,4);break;case 32:this._g726AudioDecoding(e,5);break;case 6:this._g711aAudioEncoding(e);break;case 7:this._g711uAudioEncoding(e);break;case 19:this._g711aAudioEncoding(e);break;default:return null}}decode(e,t){if(e&&this.audioWasm&&this.memory){if(0===e[0]&&1===e[1]&&0===e[3]&&(255&e[2])==(e.length-4)/2&&(e=e.slice(4)),8===t)"G726-16K"==this.audioFormat?this._g726AudioDecoding(e,2):"G726-24K"==this.audioFormat?this._g726AudioDecoding(e,3):"G726-32K"==this.audioFormat?this._g726AudioDecoding(e,4):"G726-40K"==this.audioFormat?this._g726AudioDecoding(e,5):this._g726AudioDecoding(e);else if(26===t)this._adpcmAudioDecoding(e);else if(7===t)this._g711uAudioDecoding(e);else if(6===t)this._g711aAudioDecoding(e);else if(29===t)this._g726AudioDecoding(e,2);else if(30===t)this._g726AudioDecoding(e,3);else if(31===t)this._g726AudioDecoding(e,4);else if(32===t)this._g726AudioDecoding(e,5);else{if(19!==t)return console.error("unknow audio encoder"),":"+t;this._aacAudioDecoding(e)}return""}return""}destroy(){this.g726Coder=null,this.audioWasm=null,this.adpcmCoder=null,this.g711Coder=null,null!==this.aacDecoder&&(this.aacDecoder.close(),this.aacDecoder=null)}setAudioFormat(e){this.audioFormat=e}}},function(e,t){window.AudioRecorder=class{constructor(e){this.defaults={onDataFunc:null,onDevicePresentFunc:null,onReadyFunc:null},this.options=Object.assign({},this.defaults,e),this.mediaStream=null,this.audioCtx=null,this.recorder=null,this.timeoutObj=null,this.recvPackageSampleCountArr=new Array,this._mediaEncapsulation(),this._mediaDevices()}_mediaEncapsulation(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=e=>{var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,i){t.call(navigator,e,n,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})}_mediaDevices(){navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{this.mediaStream=e,this.options.onReadyFunc&&this.options.onReadyFunc()}).catch(e=>{console.error(e.name+": "+e.message),"NotFoundError"===e.name&&layer.msg(""),null!==this.options.onDevicePresentFunc&&"function"==typeof this.options.onDevicePresentFunc&&this.options.onDevicePresentFunc()})}_startCollectAudio(){this.audioInput.connect(this.recorder),this.recorder.connect(this.audioCtx.destination)}_audioProcessFun(e){if(!this.audioCtx||!this.options.onDataFunc)return;let t=e.inputBuffer.getChannelData(0),n=Std.downsampleBuffer(new Float32Array(t.buffer),8e3,this.audioCtx.sampleRate),i=Std.floatToShortData(n),a=this.g726TempBuffer;this.g726TempBuffer=null==this.g726TempBuffer?new Int16Array(i.length):new Int16Array(i.length+a.length),null!=a?(this.g726TempBuffer.set(a),this.g726TempBuffer.set(i,a.length)):this.g726TempBuffer.set(i);let r=0;for(;r<this.g726TempBuffer.length&&!(320>this.g726TempBuffer.length-r);){let e=this.g726TempBuffer.slice(r,r+320);this.options.onDataFunc(e),r+=320}this.g726TempBuffer.length-r>0?r>0&&(a=this.g726TempBuffer,this.g726TempBuffer=new Int16Array(a.length-r),this.g726TempBuffer.set(a.slice(r,a.length))):this.g726TempBuffer=null}startRecord(){if(!this.mediaStream)return!1;let e=window.AudioContext||window.webkitAudioContext;if(!e)return!1;this.audioCtx=new e,this.audioInput=this.audioCtx.createMediaStreamSource(this.mediaStream);var t=this.audioCtx.createScriptProcessor||this.audioCtx.createJavaScriptNode;return!!t&&(this.recorder=t.apply(this.audioCtx,[4096,1,1]),!!this.recorder&&(this._startCollectAudio(),this.recorder.onaudioprocess=this._audioProcessFun.bind(this),!0))}hasMediaStream(){return this.mediaStream}pushAudioFrameSampleCount(e){this.recvPackageSampleCountArr.push(e)}stopRecord(){this.mediaStream=null,this.audioCtx=null,this.recorder=null,this.timeoutObj=null}}},function(e,t){window.G711=class{constructor(e,t){this._wasm=e,this._memory=new Uint8Array(t.buffer)}decodeG711a(e){return this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),100),this._wasm.instance.exports._decodeG711a(10240,100,e.byteLength),new Int16Array(this._memory.buffer,10240,e.byteLength)}decodeG711u(e){this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),100);this._wasm.instance.exports._decodeG711u(10240,100,e.byteLength);return new Int16Array(this._memory.buffer,10240,e.byteLength)}encodeG711a(e){return this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),20480),this._wasm.instance.exports._encodeG711a(30960,20480,e.byteLength/2),new Uint8Array(this._memory.buffer,30960,e.byteLength/2)}encodeG711u(e){return this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),20480),this._wasm.instance.exports._encodeG711u(30960,20480,e.byteLength/2),new Uint8Array(this._memory.buffer,30960,e.byteLength/2)}}},function(e,t){class n{constructor(e,t,i){this._wasm=e,this._memory=new Uint8Array(t.buffer),this._bitCount=i,this._indexDe=n._currentIndex,this._indexEn=n._currentIndex+1,n._currentIndex=n._currentIndex+2&63,this.initG726State=this._wasm.instance.exports._initG726State,this.decodeG726=this._wasm.instance.exports._decodeG726,this.encodeG726=this._wasm.instance.exports._encodeG726,this.reset()}reset(){this.initG726State(this._indexDe,this._bitCount),this.initG726State(this._indexEn,this._bitCount)}decode(e,t){this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),100);const n=this.decodeG726(this._indexDe,100,e.byteLength,10240,t);return new Int16Array(this._memory.buffer,10240,n)}encode(e,t){this._memory.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),20480);const n=this.encodeG726(this._indexEn,20480,e.byteLength/2,30960,t);return new Uint8Array(this._memory.buffer,30960,n)}}n._currentIndex=0,window.G726=n},function(e,t){window.PCMPlayer=class{constructor(e,t){this._samples=new Float32Array,this._flushingTime=200,this._channels=e,this._sampleRate=t,this._flush=this._flush.bind(this),this._audioCtx=new(window.AudioContext||window.webkitAudioContext),this._gainNode=this._audioCtx.createGain(),this._gainNode.gain.value=1,this._gainNode.connect(this._audioCtx.destination),this._startTime=this._audioCtx.currentTime,this._interval=setInterval(this._flush,this._flushingTime),this._frameSize=this._sampleRate/10}getChannels(){return this._channels}getSampleRate(){return this._sampleRate}setChannels(e){this._channels!=e&&(this._channels=e)}setSampleRate(e){this._sampleRate!=e&&(this._sampleRate=e,this._frameSize=this._sampleRate/10)}setVolume(e){this._gainNode.gain.value=e}close(){this._interval&&clearInterval(this._interval),this._audioCtx.close()}feed(e){let t=new Float32Array(this._samples.length+e.length);t.set(this._samples,0),t.set(e,this._samples.length),this._samples=t}_flush(){if(!this._channels||!this._sampleRate||this._samples.length<this._frameSize)return;let e=this._samples.length,t=e/this._channels,n=this._audioCtx.createBufferSource(),i=this._audioCtx.createBuffer(this._channels,t,this._sampleRate);for(let e=0;e!=this._channels;++e){let n=i.getChannelData(e),a=e,r=50;for(let e=0;e!=t;++e)n[e]=this._samples[a],e<50&&(n[e]=n[e]*e/50),e>=t-51&&(n[e]=n[e]*r--/50),a+=this._channels}this._startTime<this._audioCtx.currentTime&&(this._startTime=this._audioCtx.currentTime),n.buffer=i,n.connect(this._gainNode),n.start(this._startTime),this._startTime+=i.duration,e<this._samples.length?this._samples=this._samples.slice(e):this._samples=new Float32Array}}},function(e,t){class n{constructor(e=10485760){this._isInit=0,this._spsData=null,this._ppsData=null,this._width=-1,this._height=-1,this._samples=[],this._samplesLen=0,this._sequenceNumber=0,this._currentDts=0,this._lastIFrameTime=0,this._maxCache=e,this._idrBegin=0,this._idrBeginSize=0,this._saveDts=0,this._head=null,this._spsParser=null,this._h264Cache=new Uint8Array(51200),this._h264CacheIndex=0,this._savefile=!1}makeVideoFrame(e,t){if(e.type===Result.Type.H264_I_FRAME||e.type===Result.Type.H264_P_FRAME){++this._sequenceNumber;let n=this.saveVideoFrame(e,t);if(n!==Result.ErrorCode.SUCCESS)return Result.makeErrorResult(n);let i=this._getFmp4Body();return this._currentDts+=this._saveDts,this._saveDts=0,i}return Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR)}saveVideoFrame(e,t){if(this._savefile&&(this._h264CacheIndex+e.data.byteLength<=this._h264Cache.byteLength?(this._h264Cache.set(e.data,this._h264CacheIndex),this._h264CacheIndex+=e.data.byteLength,console.log("save h264 data "+this._h264CacheIndex+"/"+this._h264Cache.byteLength)):(this.doSave(this._h264Cache.slice(0,this._h264CacheIndex),"application/octet-stream","video.h264"),this._savefile=!1)),null==this._head&&e.type!==Result.Type.H264_I_FRAME)return Result.ErrorCode.NO_INIT_ERROR;if(t<0||e.type!==Result.Type.H264_I_FRAME&&e.type!==Result.Type.H264_P_FRAME)return Result.ErrorCode.PARAM_ERROR;if(e.type===Result.Type.H264_I_FRAME){if(null==this._head){let t=this._fmp4Init(e);if(t.errorCode!==Result.ErrorCode.SUCCESS)return t.errorCode;this._head=t.data}else{let t=this._fmp4UpdateInfo(e.data);if(t!==Result.ErrorCode.SUCCESS)return t;this._lastIFrameTime=this._currentDts+this._saveDts}let t=this._idrBegin;if(this._idrBeginSize<4){let n=4-this._idrBeginSize;if(t>0)t-=n;else{let t=new Uint8Array(n+e.data.byteLength);t.set(e.data,1),e.data=t}}e.data=e.data.slice(t,e.data.byteLength)}else{let t=this._parsePFrame(e.data);if(t!==Result.ErrorCode.SUCCESS)return t}if(this._samplesLen+e.data.byteLength>this._maxCache)return this._clearSamples(),Result.ErrorCode.CACHE_MAX_ERROR;e.duration=t;let n=e.data.byteLength-4;return e.data[0]=n>>>24&255,e.data[1]=n>>>16&255,e.data[2]=n>>>8&255,e.data[3]=255&n,this._samples.push(e),this._saveDts+=t,this._samplesLen+=e.data.byteLength,Result.ErrorCode.SUCCESS}getCurrentDts(){return this._currentDts}getLastIFrameTime(){return this._lastIFrameTime}getWidth(){return this._width}getHeight(){return this._height}getIsInit(){return null==this._head?0:1}getMaxcache(){return this._maxCache}setMaxcache(e){this._maxCache=e}_clearSamples(){this._samples=[],this._samplesLen=0}_getErrorResult(e){return new Result(null,-1,-1,e)}_parsePFrame(e){let[t,n,i,a]=this._parseH264Frame(e,!0);return this._spsParser,i<0||a<=0?Result.ErrorCode.FAIL:Result.ErrorCode.SUCCESS}_parseSlice(e,t){let i=new n._ParseH264(e.slice(1,10)),a=i.getUnsignedGolomb(),r=i.getUnsignedGolomb(),o=i.getUnsignedGolomb(),s=0;t.separate_colour_plane_flag&&(s=i.getBits(2));let l=i.getBits(t.log2_max_frame_num);console.log("first_mb_in_slice="+a+",slice_type="+r+",pic_parameter_set_id="+o+",m_colour_plane_id="+s+",frame_num="+l+",log2_max_frame_num="+t.log2_max_frame_num)}_findNextNal(e,t){let n=Std.memmem(e,t,new Uint8Array([0,0,0,1]));return-1===n?(n=Std.memmem(e,t,new Uint8Array([0,0,1])),-1===n?[n,-1]:[n,3]):[n,4]}_parseH264Frame(e,t=!1){let[n,i]=this._findNextNal(e,0);if(-1==n)return[];let a=null,r=null,o=-1,s=-1;for(;;){let[l,d]=this._findNextNal(e,n+i),c=null;c=-1==l?e.slice(n+i):e.slice(n+i,l);let u=e[n+i],h=31&u;if(128&u||t&&n>0){console.warn("AVERROR_INVALIDDATA,data="+u+",nalIndex1="+n+",nalSize1="+i),o=-1,s=-1;break}if(7==h)a=c;else if(8==h)r=c;else if(1==h||2==h||3==h||4==h||5==h)o=n,s=i;else if(6==h);else if(9==h);else if(0!==u){console.warn("other nal type:"+h+",data="+u+",nalIndex1="+n+",nalSize1="+i),o=-1,s=-1;break}if(-1==l)break;n=l,i=d}return[a,r,o,s]}_fmp4UpdateInfo(e){let[t,i,a,r]=this._parseH264Frame(e),o=!1,s=!1;if(t&&0!==Std.memcmp(this._spsData,0,t)){let e=new n._ParseSps(t);if(t.byteLength<4||t.byteLength>100||i.byteLength<4||i.byteLength>100||e.parse()!==Result.ErrorCode.SUCCESS)return Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_SPS_PARSE);if(e.width>1e4||e.width<=16||e.height>1e4||e.height<=16)return Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_SIZE);this._width=e.width,this._height=e.height,this._spsData=t,o=!0,this._spsParser=e}if(i&&0!==Std.memcmp(this._ppsData,0,i)&&(this._ppsData=i,s=!0),o||s){let e=this._getFmp4Head();if(e.errorCode!==Result.ErrorCode.SUCCESS)return console.error("error h264 head."),e.errorCode;this._head=e.data,this._isInit=0}return a<0||r<=0?(console.log("error _fmp4UpdateInfo"),Result.ErrorCode.FAIL):(this._idrBegin=a,this._idrBeginSize=r,this._spsParser||console.log("_spsParser is null"),Result.ErrorCode.SUCCESS)}_fmp4Init(e){let[t,i,a,r]=this._parseH264Frame(e.data);if(!t)return Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_SPS_BEGIN);if(!i)return Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_PPS_BEGIN);let o=new n._ParseSps(t);return t.byteLength<4||t.byteLength>100||i.byteLength<4||i.byteLength>100||o.parse()!==Result.ErrorCode.SUCCESS?Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_SPS_PARSE):o.width>1e4||o.width<=16||o.height>1e4||o.height<=16?Result.makeErrorResult(Result.ErrorCode.PARAM_ERROR_SIZE):(this._spsParser=o,this._width=o.width,this._height=o.height,this._spsData=t,this._ppsData=i,a<0||r<=0?(console.error("error _fmp4Init :"),Result.makeErrorResult(Result.ErrorCode.FAIL)):(this._idrBegin=a,this._idrBeginSize=r,this._spsParser||console.error("_spsParser is null"),this._getFmp4Head()))}_getFmp4Head(){let e=new n._Box("ftyp",new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49])),t=new n._Box("moov"),i=new n._FullBox(0,0,"mvhd",new Uint8Array([0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]));t.addSub(i);let a=new n._Box("trak");t.addSub(a);let r=new n._FullBox(0,7,"tkhd",new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,this._width>>>8&255,255&this._width,0,0,this._height>>>8&255,255&this._height,0,0]));a.addSub(r);let o=new n._Box("mdia");a.addSub(o);let s=new n._FullBox(0,0,"mdhd",new Uint8Array([0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,0,85,196,0,0]));o.addSub(s);let l=new n._FullBox(0,0,"hdlr",new Uint8Array([0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]));o.addSub(l);let d=new n._Box("minf");o.addSub(d);let c=new n._FullBox(0,1,"vmhd",new Uint8Array([0,0,0,0,0,0,0,0]));d.addSub(c);let u=new n._Box("dinf");d.addSub(u);let h=new n._FullBox(0,0,"dref",new Uint8Array([0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]));u.addSub(h);let p=new n._Box("stbl");d.addSub(p);let f=new n._FullBox(0,0,"stsd",new Uint8Array([0,0,0,1]));p.addSub(f);let m=new n._Box("avc1",new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this._width>>>8&255,255&this._width,this._height>>>8&255,255&this._height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,4,103,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]));f.addSub(m);let g=new Uint8Array(11+this._spsData.byteLength+this._ppsData.byteLength);g.set(new Uint8Array([1,this._spsData[1],this._spsData[2],this._spsData[3],255,225,0,this._spsData.length])),g.set(this._spsData,8),g[8+this._spsData.byteLength]=1,g[8+this._spsData.byteLength+1]=0,g[8+this._spsData.byteLength+2]=this._ppsData.length,g.set(this._ppsData,11+this._spsData.byteLength);let v=new n._Box("avcC",g);m.addSub(v);let y=new n._FullBox(0,0,"stts",new Uint8Array([0,0,0,0])),b=new n._FullBox(0,0,"stsc",new Uint8Array([0,0,0,0])),w=new n._FullBox(0,0,"stsz",new Uint8Array([0,0,0,0,0,0,0,0])),C=new n._FullBox(0,0,"stco",new Uint8Array([0,0,0,0]));p.addSub(y),p.addSub(b),p.addSub(w),p.addSub(C);let _=new n._Box("mvex");t.addSub(_);let x=new n._FullBox(0,0,"trex",new Uint8Array([0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]));_.addSub(x);let T=new Uint8Array(e.len+t.len);return e.getData(T),t.getData(T.subarray(e.len,T.byteLength)),new Result(T,Result.Type.FMP4_HEAD,0,Result.ErrorCode.SUCCESS)}_getFmp4Body(){let e=new n._Box("moof"),t=new n._FullBox(0,0,"mfhd",new Uint8Array([this._sequenceNumber>>>24&255,this._sequenceNumber>>>16&255,this._sequenceNumber>>>8&255,255&this._sequenceNumber]));e.addSub(t);let i=new n._Box("traf");e.addSub(i);let a=new n._FullBox(0,0,"tfhd",new Uint8Array([0,0,0,1]));i.addSub(a);let r=new n._FullBox(0,0,"tfdt",new Uint8Array([this._currentDts>>>24&255,this._currentDts>>>16&255,this._currentDts>>>8&255,255&this._currentDts]));i.addSub(r);let o=this._samples.length,s=new Uint8Array(o);for(let e=0;e<o;++e){let t=this._samples[e].type===Result.Type.H264_I_FRAME?2:1,n=this._samples[e].type===Result.Type.H264_I_FRAME?1:0;s[e]=0|t<<4|n<<2|0}let l=new n._FullBox(0,0,"sdtp",s),d=16*this._samples.length+8,c=l.len+16+16+8+16+8+8+12+d,u=new Uint8Array(d);u.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,c>>>24&255,c>>>16&255,c>>>8&255,255&c],0);for(let e=0;e<o;++e){let t=this._samples[e].type===Result.Type.H264_I_FRAME?2:1,n=this._samples[e].type===Result.Type.H264_I_FRAME?1:0,i=this._samples[e].type===Result.Type.H264_I_FRAME?0:1,a=this._samples[e].duration,r=this._samples[e].data.byteLength;u.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0|t,n<<6|0|i,0,0,0,0,0,0],8+16*e)}let h=new n._FullBox(0,3841,"trun",u);i.addSub(h),i.addSub(l);let p=0;0===this._isInit&&(p=this._head.byteLength,this._isInit=1);let f=new Uint8Array(p+e.len+this._samplesLen+8);p>0&&f.set(this._head,0),e.getData(f.subarray(p,f.byteLength));let m=new n._Box("mdat"),g=f.subarray(p+e.len,f.byteLength);m.getData(g),g[0]=g.byteLength>>>24&255,g[1]=g.byteLength>>>16&255,g[2]=g.byteLength>>>8&255,g[3]=255&g.byteLength;let v=0;for(let t=0;t!==this._samples.length;++t)f.set(this._samples[t].data,p+e.len+8+v),v+=this._samples[t].data.byteLength;return this._clearSamples(),new Result(f,p>0?Result.Type.FMP4_HEAD:Result.Type.FMP4_BODY,this._currentDts,Result.ErrorCode.SUCCESS)}doSave(e,t,n){var i;if("function"==typeof window.Blob)i=new Blob([e],{type:t});else{var a=new(window.BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder);a.append(e),i=a.getBlob(t)}var r=(window.URL||window.webkitURL).createObjectURL(i),o=document.createElement("a");if("download"in o){o.style.visibility="hidden",o.href=r,o.download=n,document.body.appendChild(o);var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),o.dispatchEvent(s),document.body.removeChild(o)}else navigator.msSaveBlob?navigator.msSaveBlob(i,n):location.href=r}}n._ParseH264=class{constructor(e){this.data=e.slice(),this.len=e.byteLength,this.maxCurrent=8*this.len,this.resultValue=0,this.zeroCount=0,this.current=0,this.bitPosition=0}Get_bit_at_position(){let e=0,t=0;return e=1<<7-this.bitPosition,t=0!=(this.data[this.current]&e),++this.bitPosition>7&&(this.current++,this.bitPosition=0),t}Get_uev_code_num(){let e=0,t=0,n=0,i=0;for(;e=this.Get_bit_at_position(),0==e;)t++;n=(1<<t)-1;for(let n=0;n<t;n++)e=this.Get_bit_at_position(),i+=e*(1<<t-n-1);return n+=i,n}Get_uint_code_num(e){let t=0;for(let n=0;n<e;n++)t+=this.Get_bit_at_position()<<e-n-1;return t}getBits(e){if(this.current+e>this.maxCurrent)throw"current + bitSize > maxCurrent";this.resultValue=0;for(let t=0;t!==e;++t,++this.current)this.resultValue<<=1,this.data[this.current>>>3]&128>>>(7&this.current)&&++this.resultValue;return this.resultValue}getUnsignedGolomb(){for(this.zeroCount=0,this.getBits(1);0===this.resultValue;)++this.zeroCount,this.getBits(1);return this.getBits(this.zeroCount),this.resultValue=(1<<this.zeroCount)+this.resultValue-1,this.resultValue}getSignedGolomb(){return this.getUnsignedGolomb(),this.resultValue=0==(1&this.resultValue)?this.resultValue+1>>>1:-(this.resultValue+1>>>1),this.resultValue}},n._ParseSps=class{constructor(e){this.data=e.slice(),this.len=e.byteLength,this.maxCurrent=this.len>160?1280:8*this.len,this.resultValue=0,this.zeroCount=0,this.current=0,this.width=-1,this.height=-1,this.log2_max_frame_num=-1,this.separate_colour_plane_flag=!1}getBits(e){if(this.current+e>this.maxCurrent)throw"current + bitSize > maxCurrent";this.resultValue=0;for(let t=0;t!==e;++t,++this.current)this.resultValue<<=1,this.data[this.current>>>3]&128>>>(7&this.current)&&++this.resultValue}getUnsignedGolomb(){for(this.zeroCount=0,this.getBits(1);0===this.resultValue;)++this.zeroCount,this.getBits(1);this.getBits(this.zeroCount),this.resultValue=(1<<this.zeroCount)+this.resultValue-1}getSignedGolomb(){this.getUnsignedGolomb(),this.resultValue=0==(1&this.resultValue)?this.resultValue+1>>>1:-(this.resultValue+1>>>1)}emulationPrevention(){let e=this.len;for(let t=0;t<e-2;++t)if(!((0^this.data[t])+(0^this.data[t+1])+(3^this.data[t+2]))){for(let n=t+2;n<e-1;++n)this.data[n]=this.data[n+1];--this.len}}parse(){try{if(this.emulationPrevention(),this.getBits(3),this.getBits(5),7===this.resultValue){this.getBits(8);let e=this.resultValue;this.getBits(16),this.getUnsignedGolomb(),100!==e&&110!==e&&122!==e&&144!==e||(this.getUnsignedGolomb(),3===this.resultValue&&(this.getBits(1),this.separate_colour_plane_flag=this.resultValue),this.getUnsignedGolomb(),this.getUnsignedGolomb(),this.getBits(1),this.getBits(1),0!==this.resultValue&&this.getBits(8)),this.getUnsignedGolomb(),this.log2_max_frame_num=this.resultValue+4,this.getUnsignedGolomb();let t=this.resultValue;if(0===t)this.getUnsignedGolomb();else if(1===t){this.getBits(1),this.getSignedGolomb(),this.getSignedGolomb(),this.getUnsignedGolomb();for(let e=0;e!==this.resultValue;++e)this.getSignedGolomb()}return this.getUnsignedGolomb(),this.getBits(1),this.getUnsignedGolomb(),this.width=16*(this.resultValue+1),this.getUnsignedGolomb(),this.height=16*(this.resultValue+1),Result.ErrorCode.SUCCESS}}catch(e){console.log("Error: "+e)}return Result.ErrorCode.PARAM_ERROR}},n._Box=class{constructor(e,t=null){this.type=new Uint8Array(4);for(let t=0;4!==t;++t)this.type[t]=e.charCodeAt(t);this.data=t,this.len=(null==t?4:t.byteLength+4)+4,this.sub=[],this.father=null,this.index=-1,this.name=e}addSub(e){e.father=this,this.len+=e.len;let t=this.father;for(;null!=t;)t.len+=e.len,t=t.father;this.sub.push(e),e.index=this.sub.length-1}getData(e){if(e.byteLength<this.len)return Result.ErrorCode.FAIL;let t=0,n=this,i=0;for(;null!=n;)0===i&&(t=n.setData(e,t)),i!==n.sub.length?(n=n.sub[i],i=0):(i=n.index+1,n=n.father);return Result.ErrorCode.SUCCESS}setData(e,t){return e[t]=this.len>>>24&255,e[t+1]=this.len>>>16&255,e[t+2]=this.len>>>8&255,e[t+3]=255&this.len,t+=4,e.set(this.type,t),t+=4,null!=this.data&&(e.set(this.data,t),t+=this.data.byteLength),t}},n._FullBox=class extends n._Box{constructor(e,t,n,i=null){super(n,i),this.len+=4,this.version=e,this.flags=t}setData(e,t){return e[t]=this.len>>>24&255,e[t+1]=this.len>>>16&255,e[t+2]=this.len>>>8&255,e[t+3]=255&this.len,t+=4,e.set(this.type,t),e[t+=4]=255&this.version,e[t+1]=this.flags>>>16&255,e[t+2]=this.flags>>>8&255,e[t+3]=255&this.flags,t+=4,null!=this.data&&(e.set(this.data,t),t+=this.data.byteLength),t}},window.Fmp4=n},function(e,t){window.Rtp=class{constructor(){this._currentType=-1,this._currentPackType=-1,this._currentTime=-1,this._numberRecv=-1,this._duration=-1,this._simNumber=null,this._channel=null,this._number=0,this._t=-1,this.isCompleted=0,this.payloadType=0,this.flow=0,this._buffer=new Uint8Array,this._bufferVideo=new Uint8Array,this._bufferAudio=new Uint8Array}getFlow(){return this.flow}getPayloadType(){return this.payloadType}appendFreeBuffer(e){return this._buffer=this.appendBuffer(this._buffer,e),this._buffer}appendBuffer(e,t){if(e&&e.byteLength>0){let n=new Uint8Array(e.byteLength+t.byteLength);n.set(e,0),n.set(new Uint8Array(t),e.length),e=n}else e=new Uint8Array(t);return e}findrtpHead(e){return Std.memmem(e,0,new Uint8Array([48,49,99,100]))}parse(e){let t=this.appendFreeBuffer(e),n=this.findrtpHead(t);if(0!=n&&(console.warn("error rtp index."),this._buffer=n<0?this._buffer.slice(this._buffer.length-4):this._buffer.slice(n)),this._buffer.length<30)return Result.makeErrorResult(Result.ErrorCode.DATA_DEFICIENT);if(t=this._buffer,this._currentType=(240&t[15])>>>4,this._currentPackType=15&t[15],this._currentType>4||t.byteLength<12||t.byteLength>5e6)return Result.makeErrorResult(Result.ErrorCode.FAIL);null==this._simNumber&&(this._simNumber=new Uint8Array(6),this._simNumber.set(t.slice(8,14)),this._channel=t[14]),this.isCompleted=t[5]>>>7,this.payloadType=127&t[5],this._numberRecv=t[6]<<8|t[7];let i=30-(this._currentType===Result.Type.AUDIO?4:this._currentType===Result.Type.TRANS_DATA?12:0);this._currentTime=(t[21]<<16)+(t[22]<<8)+t[23]+16777216*t[20]+4294967296*t[19]+1099511627776*t[18],this._duration=this._currentType<3?(t[i-4]<<8)+t[i-3]:0;let a=t.byteLength,r=0,o=0,s=0,l=new Uint8Array(t.byteLength),d=!1;for(;;){if(a-r-i<30)return Result.makeErrorResult(Result.ErrorCode.DATA_DEFICIENT);if(s=(t[r+i-2]<<8)+t[r+i-1],a-r-i<s)return Result.makeErrorResult(Result.ErrorCode.DATA_DEFICIENT);l.set(t.subarray(r+i,r+i+s),o),o+=s;let e=15&t[r+15];if(r+=s+i,0==e||2==e){d=!0;break}if((240&t[r+15])>>>4!=this._currentType){console.warn("Different types");break}}this.flow+=e.byteLength,this._buffer=this._buffer.slice(r);let c=null;return this._currentType===Result.Type.H264_I_FRAME||this._currentType===Result.Type.H264_P_FRAME||this._currentType===Result.Type.H264_B_FRAME?(c=this._bufferVideo,this._bufferVideo=new Uint8Array):(c=this._bufferAudio,this._bufferAudio=new Uint8Array),c=this.appendBuffer(c,l.subarray(0,o)),d?new Result(c,this._currentType,this._currentTime,Result.ErrorCode.SUCCESS,this._duration):(this._currentType===Result.Type.H264_I_FRAME||this._currentType===Result.Type.H264_P_FRAME||this._currentType===Result.Type.H264_B_FRAME?this._bufferVideo=c:this._bufferAudio=c,Result.makeErrorResult(Result.ErrorCode.DATA_DEFICIENT))}makeAudio(e,t,n=-1,i=null){if(-1===n&&(n=this.payloadType),null==this._simNumber&&null==i)return Result.makeErrorResult(Result.ErrorCode.NO_INIT_ERROR);let a=this._simNumber;if(null!=i&&12===i.byteLength){a=new Uint8Array(6);for(let e=0;12!==e;++e)a[e/2]=(i[e]<<4&240)+(15&a[e+1])}let r=Math.ceil(e.byteLength/950),o=new Uint8Array(e.byteLength+26*r),s=0;for(let i=0;i!==r;++i){let l=i===r-1?e.byteLength%950:950,d=1===r?0:0===i?1:i===r-1?2:3;o.set(this._makeHead(3,l,d,t,n,a),s),this._number=this._number+1&65535,s+=26,o.set(e.slice(950*i,950*i+l),s),s+=l}return new Result(o,Result.Type.AUDIO,0,Result.ErrorCode.SUCCESS,0)}_makeHead(e,t,n,i,a,r){this._t<=0?this._t=Std.milliSecondTime():this._t+=40;let o=[(i=this._t)>>>8>>>8>>>8>>>8>>>8&255,i>>>8>>>8>>>8>>>8&255,i>>>8>>>8>>>8&255,i>>>8>>>8&255,i>>>8&255,255&i];return new Uint8Array([48,49,99,100,129,this.isCompleted<<7|a,this._number>>>8&255,255&this._number,r[0],r[1],r[2],r[3],r[4],r[5],this._channel,(e<<4)+(15&n),0,0,o[0],o[1],o[2],o[3],o[4],o[5],t>>>8&255,255&t])}}},function(e,t){class n{constructor(e,t,n,i,a=20){this.data=e,this.type=t,this.time=n,this.duration=a,this.errorCode=i}static makeErrorResult(e){return new n(null,-1,-1,e)}}n.ErrorCode=class{constructor(){}},n.ErrorCode.SUCCESS=0,n.ErrorCode.PARAM_ERROR=1e3,n.ErrorCode.PARAM_ERROR_SPS_BEGIN=1001,n.ErrorCode.PARAM_ERROR_SPS_END=1002,n.ErrorCode.PARAM_ERROR_PPS_BEGIN=1003,n.ErrorCode.PARAM_ERROR_PPS_END=1004,n.ErrorCode.PARAM_ERROR_SPS_PARSE=1005,n.ErrorCode.PARAM_ERROR_SIZE=1006,n.ErrorCode.PARAM_ERROR_LENGTH=1007,n.ErrorCode.PARAM_CHANGE=2e3,n.ErrorCode.FAIL=3e3,n.ErrorCode.NO_INIT_ERROR=n.ErrorCode.FAIL+1,n.ErrorCode.CACHE_MAX_ERROR=n.ErrorCode.FAIL+2,n.ErrorCode.DATA_DEFICIENT=4001,n.Type=class{constructor(){}},n.Type.H264_I_FRAME=0,n.Type.H264_P_FRAME=1,n.Type.H264_B_FRAME=2,n.Type.AUDIO=3,n.Type.TRANS_DATA=4,n.Type.FMP4_HEAD=5,n.Type.FMP4_BODY=6,n.Type.RTP_PACKAGE_COMPLETE=0,n.Type.RTP_PACKAGE_HEAD=1,n.Type.RTP_PACKAGE_TAIL=2,n.Type.RTP_PACKAGE_BODY=3,window.Result=n,window.Std=class{constructor(){}static memmem(e,t,n){for(let i=0;i<=e.byteLength-n.byteLength-t;++i){let a=0;for(;a!=n.byteLength&&e[i+a+t]==n[a];++a);if(a>=n.byteLength)return i+t}return-1}static memcmp(e,t,n){for(let i=0;i!=n.byteLength;++i)if(e[i+t]!=n[i])return-1;return 0}static memcpy(e,t,n,i,a){e.set(n.subarray(i,a),t)}static milliSecondTime(){return(new Date).getTime()}static shortToFloatData(e){let t=e.length,n=new Float32Array(t);for(let i=0;i!=t;++i)n[i]=e[i]/32768;return n}static floatToShortData(e){let t=e.length,n=new Int16Array(t);for(let i=0;i!=t;++i)n[i]=32768*e[i];return n}static downsampleBuffer(e,t,n){if(t===n)return e;if(t>n)throw"rate > sampleRate error !!";let i=n/t,a=65532&Math.ceil(e.length/i),r=new Float32Array(a),o=0,s=0;for(;o!==r.length;){let t=s+i,n=0,a=0,l=Math.ceil(s),d=Math.ceil(t);for(let t=l;t!==d&&t!==e.length;++t)n+=e[t],++a;r[o]=n/a,++o,s=t}return r}static changeByteEndian(e){let t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(let e=0;e!==t.byteLength;++e)t[e]=((15&t[e])<<4)+(t[e]>>>4&15)}}},function(e,t){class n{constructor(e){this.defaults={onMessage:null,onPlaying:null,onPause:null,onEnded:null,onError:null,openAudioSuccess:null,openAudioFail:null,onDevicePresentFunc:null,socketCloseFun:null,socketErrorFun:null,socketOpenFun:null,timeoutFun:null,mimeCodec:'video/mp4; codecs="avc1.420028"',url:"",domId:"",data:null,playType:"REAL_TIME",audioEnabled:!1,videoEnabled:!0,recordEnabled:!1,imgBack:"",imgSrc:!0},this.streamInfo={target:1,ip:"",port:0,state:-1,timestampStart:0,timestampEnd:0,message:"",sendBytes:0,recvBytes:0,simNumber:"",channel:0,uuid:""},this._addAssign(),this.options=Object.assign({},this.defaults,e),this._h264Cache=new Uint8Array(51200),this._h264CacheIndex=0,this._savefile=!1,this._rtpCache=new Array,this._rtpCacheMax=100,this._rtpCacheIndex=0,this._rtpCacheEnabled=!1,this._isPlayback="TRACK_BACK"==this.options.playType,this._playbackStartTime=0,this.pendingRemoveRanges=null,this.mediaElement=null,this.mediaSource=null,this.websocket=null,this.sourceBuffer=null,this.fmp4=null,this.messageState=!1,this.timeOutMonitoring=null,this.pageFocus=!0,this.isVideoPlay=!1,this.socketState=!0,this.mediaSourceObjectURL=null,this.heartbeat=null,this.startTime=0,this.audioEnabled=this.options.audioEnabled,this.videoEnabled=this.options.videoEnabled,this.recordEnabled=this.options.recordEnabled,this.paused=!1,this.rtp=new Rtp,this.clearFlag=0,this.clearTime=0,this.freeTimeout=null,this.timeoutNumber=0,this.isPFrame=0,this.videoCurrentTime=0,this.audioCodec=null,this.pcmPlayer=null,this.audioRecorder=null,this.recvPackageTimeArr=new Array,this.payloadTypeAudio=-1,this.firstAudioPlayData=!0,this.firstAudioRecordeData=!0,this.audioPlayerSuccess=!1,this.audioRecordeSuccess=!1,this._initStreamInfo(),this.videoEnabled&&this._createMediaSource(),this.audioOpt={onDecodeFunc:this._onDecodeDataAudio.bind(this),onEncodeFunc:this._onEncodeDataAudio.bind(this)},this.audioEnabled&&(this.pcmPlayer=new PCMPlayer(1,8e3),this.audioCodec=new AudioCodec(this.audioOpt)),this.recordOpt={onDataFunc:this._onRecordDataAudio.bind(this),onDevicePresentFunc:this._onDevicePresent.bind(this),onReadyFunc:this._onRecordReady.bind(this)},this.recordEnabled?this.audioRecorder=new AudioRecorder(this.recordOpt):this._websocketInit()}_initStreamInfo(){try{let e=this.options.url.indexOf("//"),t=this.options.url.indexOf(":",e),n=this.options.url.lastIndexOf("/");this.streamInfo.ip=this.options.url.substr(e+2,t-e-2),this.streamInfo.port=parseInt(this.options.url.substr(t+1,n-t-1)),this.options.data&&(this.streamInfo.simNumber=this.options.data.mobile,this.streamInfo.channel=parseInt(this.options.data.channelNum),this.streamInfo.uuid=this.options.data.vehicleId)}catch(e){console.error(e)}}_addAssign(){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},writable:!0,configurable:!0})}_isMseSupport(){return"MediaSource"in window&&MediaSource.isTypeSupported(this.options.mimeCodec)}_createMediaSource(){if(!this._isMseSupport())throw new Error("MediaSource");if(!this.options.domId)throw new Error("domId");this.mediaSource=new window.MediaSource;let e=document.createElement("video");e.id=this.options.domId,e.style.width="100%",e.style.height="100%",e.autoplay=!0,this.options.imgBack&&(e.poster=this.options.imgBack);var t=document.getElementById(this.options.domId);!0===t.muted&&(e.muted=!0),t.parentNode.replaceChild(e,t),this.mediaElement=document.getElementById(this.options.domId),this.mediaElement.setAttribute("data-channel-up","true"),this.mediaSourceObjectURL=window.URL.createObjectURL(this.mediaSource),this.mediaElement.src=this.mediaSourceObjectURL,this.mediaElement.onplaying=this._onPlaying.bind(this),this.mediaElement.onpause=this._onPause.bind(this),this.mediaElement.onended=this._onEnded.bind(this),this.mediaElement.onerror=this._onError.bind(this),this.mediaSource.onsourceopen=this._onMediaSourceOpen.bind(this),this.mediaSource.onsourceended=this._onMediaSourceEnded.bind(this),this.mediaSource.onerror=this._onUpdateError.bind(this),this._mediaElementPlay()}_mediaElementPlay(){let e=this.mediaElement.play();void 0!==e&&e.then(()=>{this.mediaElement.play()}).catch(()=>{})}_onPlaying(){this.pageFocus?this.options.onPlaying&&!this.isVideoPlay&&(this.isVideoPlay=!0,this.options.onPlaying(this.options.data,this)):this.pageFocus=!0}_onPause(){console.log("_onPause"),this.pageFocus&&this.options.onPause&&this.options.onPause()}_onEnded(){console.log("_onEnded"),this.options.onEnded&&this.options.onEnded(),this._closeSocket("End of play!")}_onError(e){const t=e.target;console.log("_onError code: "+t.error.code,", message: "+t.error.message),this._closeSocket("Codec error code: "+t.error.code,", message: "+t.error.message),this.options.onError&&this.options.onError(this.options)}_onMediaSourceOpen(){console.log("onMediaSourceOpen"),!this.sourceBuffer&&this.mediaSource&&(this.sourceBuffer=this.mediaSource.addSourceBuffer(this.options.mimeCodec),this.sourceBuffer.onerror=this._onSourceBufferError.bind(this),this.sourceBuffer.onabort=this._onSourceBufferAbort.bind(this),this.sourceBuffer.onupdate=this._onSourceBufferUpdate.bind(this),this.sourceBuffer.onupdateend=this._onSourceBufferUpdateend.bind(this),this.sourceBuffer.onupdatestart=this._onSourceBufferUpdatestart.bind(this))}_onMediaSourceEnded(){console.log("MediaSource onSourceEnded")}_onUpdateError(e){console.warn(e)}_doCleanupSourceBuffer(){const e=this;this.pendingRemoveRanges=setInterval((function(){if(e.sourceBuffer&&!this.sourceBuffer.updating){let t=e.sourceBuffer.buffered;if(t.length>0){let n=t.start(0),i=t.end(0);try{e.sourceBuffer.remove(n,i-10)}catch(e){console.warn(e.message)}}}}),4e4)}_onSourceBufferError(e){console.warn(e)}_onSourceBufferAbort(){}_onSourceBufferUpdate(){}_onSourceBufferUpdateend(){}_onSourceBufferUpdatestart(){}_visibilitychangeFun(){document.hidden?this.pageFocus=!1:this._videoUpdateTime()}_doAppendSegments(e){this.sourceBuffer&&!this.sourceBuffer.updating&&this.socketState&&this.messageState&&this.sourceBuffer.appendBuffer(e)}_websocketInit(){if(null==this.websocket||3==this.websocket.readyState){if(console.log("websocketInit"),!("WebSocket"in window)||""===this.options.url)throw new Error("websocketurl");this.websocket=new WebSocket(this.options.url),this.websocket.binaryType="arraybuffer",this.websocket.onopen=this._socketOpen.bind(this),this.websocket.onmessage=this._socketMessage.bind(this),this.websocket.onerror=this._socketError.bind(this),this.websocket.onclose=this._socketClose.bind(this)}}_visibilityEvent(){n.arr.forEach((function(e){e.call()}))}_socketOpen(){console.log("video _socketOpen"),this.streamInfo.timestampStart=(new Date).getTime(),this.streamInfo.state="0",document.onvisibilitychange=this._visibilityEvent,n.arr.push(this._visibilitychangeFun.bind(this)),this.fmp4=new Fmp4(10485760);var e=this;this.heartbeat=setInterval(function(){let t="0";if(this.sourceBuffer&&this.mediaElement&&this.sourceBuffer.buffered.length>0){let e=this.sourceBuffer.buffered.end(0);this.sourceBuffer.buffered.start(0);e-this.mediaElement.currentTime>600&&"TRACK_BACK"==this.options.playType&&(t="1")}1==e.websocket.readyState?(this.streamInfo.sendBytes+=t.length,e.websocket.send(t)):console.error("Heartbeat error!")}.bind(this),5e3),this.options.socketOpenFun&&this.options.socketOpenFun(this.options.data,this)}_socketError(e){console.warn("video _socketError:"+e),this.streamInfo.message="socket error:"+e,this.options.socketErrorFun&&this.options.socketErrorFun(this.options.data)}_socketClose(){console.log("video _socketClose"),this.websocket&&(this.streamInfo.timestampEnd=(new Date).getTime(),this.streamInfo.state="2",this.socketState=!1,clearTimeout(this.timeOutMonitoring),this.options.socketCloseFun&&this.options.socketCloseFun(this.options.data),clearInterval(this.pendingRemoveRanges),this.pendingRemoveRanges=null,this._destroy())}_socketMessage(e){if(this.messageState||(this.messageState=!0),this.paused)return;if("string"==typeof e.data)return void this._onMessage(e.data);this.streamInfo.recvBytes+=e.data.byteLength;let t=this.rtp.parse(e.data),n=this.rtp.getPayloadType();if(t.errorCode===Result.ErrorCode.SUCCESS)if(this.streamInfo.state="1",t.type===Result.Type.H264_I_FRAME||t.type===Result.Type.H264_P_FRAME||t.type===Result.Type.H264_B_FRAME){if(!this.videoEnabled||!this.sourceBuffer)return;if(t.type===Result.Type.H264_I_FRAME&&++this.clearFlag,2===this.options.remoteMode||3===this.options.remoteMode?this.isPFrame=0:this.isPFrame=1,t.duration=0===this.startTime?0:t.duration>0?t.duration:t.time-this.startTime,1===this.isPFrame&&(t.duration=t.duration>0&&t.duration<2e3?t.duration:0===this.startTime&&0===t.duration?0:500),this.sourceBuffer&&!this.sourceBuffer.updating&&("REAL_TIME"===this.options.playType&&this.clearFlag>10&&(0!==this.clearTime&&(this.sourceBuffer.remove(0,this.clearTime),this.mediaElement.currentTime<this.clearTime&&(this.mediaElement.currentTime=this.clearTime)),this.clearTime=this.fmp4.getLastIFrameTime()/1e3,this.clearFlag=0),this.sourceBuffer&&this.mediaElement&&this.sourceBuffer.buffered.length>0)){let e=this.sourceBuffer.buffered.start(0),t=this.mediaElement.currentTime;t-e>60&&this.sourceBuffer.remove(0,t-60)}if(this.sourceBuffer&&!this.sourceBuffer.updating){let e=this.fmp4.makeVideoFrame(t,t.duration);if(e.errorCode===Result.ErrorCode.SUCCESS){if(e.type===Result.Type.FMP4_HEAD){const e=this.fmp4.getWidth(),t=this.fmp4.getHeight();console.log("Update size:"+e+"x"+t)}this._doAppendSegments(e.data)}else console.error("makeVideoFrame:"+e.errorCode)}else{let e=this.fmp4.saveVideoFrame(t,t.duration);e!==Result.ErrorCode.SUCCESS&&(console.error("saveVideoFrame:"+e+"; data:"),console.log(t.data))}this.startTime=t.time}else if(t.type===Result.Type.AUDIO&&"OFF"!==n&&null!==n){let e="";if(this.audioEnabled){this.pcmPlayer||(this.pcmPlayer=new PCMPlayer(1,8e3)),this.audioCodec||(this.audioCodec=new AudioCodec(this.audioOpt)),this.audioRecorder&&this.recvPackageTimeArr.push(t.time),this.payloadTypeAudio=n;let i=this.audioCodec.decode(t.data,n);!(i&&i.length>0)?this.audioPlayerSuccess=!0:e=i}e&&e.length>0?(this.firstAudioPlayData||this.firstAudioRecordeData)&&(this.firstAudioPlayData=!1,this.firstAudioRecordeData=!1,this.options.openAudioFail&&this.options.openAudioFail(e)):this.audioPlayerSuccess&&this.audioRecordeSuccess&&(this.firstAudioPlayData||this.firstAudioRecordeData)&&(this.firstAudioPlayData=!1,this.firstAudioRecordeData=!1,this.options.openAudioSuccess&&this.options.openAudioSuccess(this.options.data))}}_onDecodeDataAudio(e,t,n){this.audioRecorder&&this.audioRecorder.pushAudioFrameSampleCount(8e3*e.length/t),this.pcmPlayer&&(this.pcmPlayer.setChannels(n),this.pcmPlayer.setSampleRate(t),this.pcmPlayer.feed(e))}_onEncodeDataAudio(e){let t=this.recvPackageTimeArr.shift(),n=this.payloadTypeAudio;19==n&&(n=6);let i=this.rtp.makeAudio(e,t,n);i.errorCode===Result.ErrorCode.SUCCESS&&this.websocket&&1===this.websocket.readyState&&this.websocket.send(i.data)}_onRecordDataAudio(e){this.audioCodec||(this.audioCodec=new AudioCodec(this.audioOpt)),this.audioCodec.encode(e,this.payloadTypeAudio)}_onDevicePresent(){this.options.onDevicePresentFunc&&this.options.onDevicePresentFunc()}_onRecordReady(){if(this.audioRecorder&&this.audioRecorder.hasMediaStream()){this.audioRecorder.startRecord()?(this.audioRecordeSuccess=!0,this._websocketInit()):(this.audioRecorder=null,this.options.openAudioFail&&this.options.openAudioFail(""))}}_destroyMSE(){if(console.log("destroyMSE"),this.mediaSource){if("open"===this.mediaSource.readyState)try{this.sourceBuffer.abort()}catch(e){console.log(e.message)}if("closed"!==this.mediaSource.readyState)try{this.mediaSource.removeSourceBuffer(this.sourceBuffer)}catch(e){console.log(e.message)}"open"===this.mediaSource.readyState&&this.mediaSource.endOfStream(),this.sourceBuffer&&(void 0!==this.sourceBuffer.readyState&&this.mediaSource.removeSourceBuffer(this.sourceBuffer),this.sourceBuffer=null),this.mediaSource=null,clearInterval(this.pendingRemoveRanges),this.pendingRemoveRanges=null}this.mediaElement&&(this.videoCurrentTime=this.mediaElement.currentTime,this.mediaElement.setAttribute("data-currenttime",this.videoCurrentTime),this.mediaElement.getAttribute("data-video-stop")||(this.mediaElement.volume=0,this.mediaElement.removeAttribute("src"),this.mediaElement.removeAttribute("data-channel-up")),this.mediaElement=null),this.mediaSourceObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceObjectURL),this.mediaSourceObjectURL=null)}_monitoringMessage(){var e=this;this.timeOutMonitoring=setTimeout((function(){e.messageState||(e.websocket.close(),this.timeoutNumber++,this.timeoutNumber<4?e.options.timeoutFun&&e.options.timeoutFun(e.options.data,this.timeoutNumber):this.timeoutNumber=0)}),8e3)}_videoUpdateTime(){if(this.mediaElement&&this.sourceBuffer&&(this.sourceBuffer.updating||"open"===this.mediaSource.readyState&&this.sourceBuffer.buffered.length>0&&(this.mediaElement.currentTime=this.sourceBuffer.buffered.end(0))),this.sourceBuffer){let e=this.sourceBuffer.buffered;if(e.length>0){let t=e.start(0),n=e.end(0);try{this.sourceBuffer.remove(t,n-10)}catch(e){}}}}_destroy(){this._destroyMSE(),document.removeEventListener("visibilitychange",this._visibilitychangeFun.bind(this)),this.messageState=!1,this.isVideoPlay=!1,this.pageFocus=!0,this.timeOutMonitoring=null,this.rtp=new Rtp,this.heartbeat&&(clearInterval(this.heartbeat),this.heartbeat=null),this.startTime=0,this.freeTimeout&&(clearTimeout(this.freeTimeout),this.freeTimeout=null),this.closeVideoVoice(),this.isPFrame=0,this.videoCurrentTime=0}_closeSocket(e=""){console.log("video socket colose:"+e),this.websocket&&(this.streamInfo.message=e,this.websocket.close(),this.socketState=!1,clearTimeout(this.timeOutMonitoring),clearInterval(this.pendingRemoveRanges),this.pendingRemoveRanges=null,this._destroy())}_onMessage(e){console.log("_onMessage:"+e),this.options.onMessage&&this.options.onMessage(this.options.data,e)}sendMessage(e,t){if(1==this.websocket.readyState){let n={data:{}};return n.data.msgHead={},n.data.msgHead.msgID=e,n.data.msgBody={},n.data.msgBody=t,this.websocket.send(JSON.stringify(n)),!0}return!1}play(e){if(console.log(e),this._isPlayback){let t=parseInt(e.startTime.substr(6,2)),n=parseInt(e.startTime.substr(8,2)),i=parseInt(e.startTime.substr(10,2));this._playbackStartTime=60*t*60+60*n+i,console.log("play-"+this._playbackStartTime+" - "+e.startTime)}e.rawPackage="1",this.audioCodec&&this.audioCodec.setAudioFormat(e.audioFormat),this.sendMessage(50001,e)}pause(){this.paused=!0,this.mediaElement&&this.sourceBuffer&&(this.mediaElement.currentTime=this.sourceBuffer.buffered.end(0)),this.options.commandEnabled}resume(){this.paused=!1}stop(){this._closeSocket("call stop")}closeSocket(e=""){this._closeSocket("call stop "+e)}openVideoVoice(){this.firstAudioPlayData=!0,this.audioEnabled=!0}closeVideoVoice(){null!==this.audioCodec&&(this.audioCodec.destroy(),this.audioCodec=null),null!==this.pcmPlayer&&(this.pcmPlayer.close(),this.pcmPlayer=null),this.audioRecorder&&(this.audioRecorder.stopRecord(),this.audioRecorder=null),this.audioEnabled=!1}setAudioVoice(e){null!==this.pcmPlayer&&this.pcmPlayer.setVolume(e)}freeTimeoutClose(e,t){this.closeFreeTimeout();var n=this;n.websocket&&(n.freeTimeout=setTimeout(()=>{if(t&&"function"==typeof t){var e=n.mediaElement.getAttribute("vehicle-id"),i=n.mediaElement.getAttribute("channel-type"),a=n.mediaElement.getAttribute("channel-num");t(e,a,i)}n._closeSocket("free timeout")},e))}closeFreeTimeout(){this.isOpenFreeTime()&&(clearTimeout(this.freeTimeout),this.freeTimeout=null)}isOpenFreeTime(){return null!==this.freeTimeout}currentTime(){if(this.mediaElement){let e=this._playbackStartTime+this.mediaElement.currentTime,t=Math.floor(e/60/60),n=Math.floor(e/60)-60*t,i=Math.floor(e)-60*t*60-60*n;return console.log(this.options.url+" - "+t+":"+n+":"+i+"  "+this._playbackStartTime+"-"+this.mediaElement.currentTime),this.mediaElement.currentTime}return 0}getVideoTraffic(){return this.rtp.getFlow()}videoScreenshots(e,t,n){if(this.mediaElement){const a=document.getElementById(e);a.getContext("2d").drawImage(this.mediaElement,0,0,t,n);var i=new FormData;return a.toBlob((function(e){i.append("file",e)})),i}}cmdSwitchStream(e){let t={};t.changeStreamType=e,t.closeVideoType="0",t.control="1",this.sendMessage(50002,t)}cmdCloseVideo(){let e={};this._isPlayback?(e.forwardOrRewind="0",e.dragPlaybackTime="000000000000",e.remote="2",this.sendMessage(50002,e)):(e.changeStreamType="0",e.closeVideoType="0",e.control="0","BOTH_WAY"==this.options.playType&&(e.control="4"),this.sendMessage(50002,e))}cmdIFramePlay(){if(this._isPlayback){let e={forwardOrRewind:"0",dragPlaybackTime:"000000000000",remote:"6"};this.sendMessage(50002,e),this._videoUpdateTime()}}cmdRewindPlay(e){if(this._isPlayback){let t={};t.forwardOrRewind=e+"",t.dragPlaybackTime="000000000000",t.remote="4",this.sendMessage(50002,t),this._videoUpdateTime()}}cmdForwardPlay(e){if(this._isPlayback){let t={};t.forwardOrRewind=e+"",t.dragPlaybackTime="000000000000",t.remote="3",this.sendMessage(50002,t),this._videoUpdateTime()}}cmdSeek(e){if(this._isPlayback){let t=parseInt(e.substr(6,2)),n=parseInt(e.substr(8,2)),i=parseInt(e.substr(10,2));this._playbackStartTime=60*t*60+60*n+i,console.log("seek-"+this._playbackStartTime+" - "+e)}if(this._isPlayback){let t={forwardOrRewind:"0"};t.dragPlaybackTime=e,t.remote="5",this.sendMessage(50002,t),this._videoUpdateTime()}}cmdMute(){let e={changeStreamType:"0",closeVideoType:"0",control:"6"};this.sendMessage(50002,e)}cmdPause(){let e={};this._isPlayback?(e.forwardOrRewind="0",e.dragPlaybackTime="000000000000",e.remote="1",this.sendMessage(50002,e)):(e.changeStreamType="0",e.closeVideoType="0",e.control="3",this.sendMessage(50002,e))}cmdResume(){let e={};this._isPlayback?(e.forwardOrRewind="0",e.dragPlaybackTime="000000000000",e.remote="0",this.sendMessage(50002,e)):(e.changeStreamType="0",e.closeVideoType="0",e.control="4",this.sendMessage(50002,e))}doSave(e,t,n){var i;if("function"==typeof window.Blob)i=new Blob([e],{type:t});else{var a=new(window.BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder);a.append(e),i=a.getBlob(t)}var r=(window.URL||window.webkitURL).createObjectURL(i),o=document.createElement("a");if("download"in o){o.style.visibility="hidden",o.href=r,o.download=n,document.body.appendChild(o);var s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),o.dispatchEvent(s),document.body.removeChild(o)}else navigator.msSaveBlob?navigator.msSaveBlob(i,n):location.href=r}}n.arr=[],window.RTPMediaPlayer=n},function(e,t,n){},function(e,t){var n,i=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen"],a=[],r="",o="",s=null;window.ungzip=null;var l,d=null,c={init:function(e,t,n,i,a){window.videoRequestUrl=e,window.videoRequestPort=t,window.audioRequestPort=n,window.ungzip=i,c.websocket=a,$("#videoFour,#videoSix,#videoNine,#videoTen,#videoSixteen").bind("click",c.videoSeparatedFn),$(".videoDrawer-container #videoFullScreen").on("click",c.videoFullScreenFn),$("#toTextInfoSend").on("click",c.textInfoSend),$("#videoSelect").on("click",c.videoBtnClick),$("#callSelect").on("click",c.callSelectFun),$("#goTxtSend").bind("click",c.goTxtSend),$(".panel-heading").bind("click",(function(){var e=$(this).attr("id");$("#"+e+"-body").is(":hidden")?($("#"+e+"-body").slideDown(),setTimeout((function(){$("#"+e+"-body").find(".dataTables_length").show(),$("#"+e+"-body").find(".dataTables_info").show(),$("#"+e+"-body").find(".dataTables_paginate.paging_simple_numbers").show()}),300),$("#"+e+"-chevron").removeClass("chevron-up").addClass("chevron-down")):($("#"+e+"-body").find(".dataTables_length").hide(),$("#"+e+"-body").find(".dataTables_info").hide(),$("#"+e+"-body").find(".dataTables_paginate.paging_simple_numbers").hide(),$("#"+e+"-body").slideUp(),$("#"+e+"-chevron").removeClass("chevron-down").addClass("chevron-up"))}))},startPlayVideo:function(e){d=e,c.closeTerminalVideo(),c.initVideoRealTimeShow(e)},videoSeparatedFn:function(){$("#video-main-content .videoplayer").css("overflow","hidden");var e=$(this).attr("id");"videoFour"===e?c.videoSeparatedFour(e):"videoSix"===e?c.videoSeparatedSix(e):"videoNine"===e?c.videoSeparatedNine(e):"videoTen"===e?c.videoSeparatedTen(e):"videoSixteen"===e&&c.videoSeparatedSixteen(e,s)},videoSeparatedFour:function(e){if($("#videoCont #videoSeparated").find("i").removeClass("video-check"),!$("#"+e).hasClass("video-check")){$("#"+e).addClass("video-check"),$("#videoplayer>div:nth-child(4)").nextAll().hide();var t=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:"50%",height:"calc(100% - (100% - "+t+"px))"})}},videoSeparatedSix:function(e){if($("#"+e).hasClass("video-check")){$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).removeClass("video-check"),$("#videoplayer>div:nth-child(4)").nextAll().hide();var t=50,n=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"}),$("#videoFour").addClass("video-check")}else{$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).addClass("video-check"),$("#videoplayer>div").show(),$("#videoplayer>div:nth-child(6)").nextAll().hide();for(var a="",r=$("#videoplayer>div").length;r<6;r++)a+='<div class="pull-left video-box v-'+i[r]+'"><video autoplay width="100%" height="100%" id="v_'+r+'_Source"><source src="" type="video/mp4"><source src="" type="video/ogg"> video </video></div>';$("#videoplayer").append(a);t=100/3,n=$("#videoplayer").height()/3;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"});var o=2*t,s=2*n;$("#videoplayer div.v-one").css({width:o+"%",height:"calc(100% - (100% - "+(s-.1)+"px))"})}},videoSeparatedNine:function(e){if($("#"+e).hasClass("video-check")){$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).removeClass("video-check"),$("#videoplayer>div:nth-child(4)").nextAll().hide();var t=50,n=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"}),$("#videoFour").addClass("video-check")}else{$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).addClass("video-check"),$("#videoplayer>div").show(),$("#videoplayer>div:nth-child(9)").nextAll().hide();for(var a="",r=$("#videoplayer>div").length;r<9;r++)a+='<div class="pull-left video-box v-'+i[r]+'"><video autoplay width="100%" height="100%" id="v_'+r+'_Source"><source src="" type="video/mp4"><source src="" type="video/ogg"> video </video></div>';$("#videoplayer").append(a);t=100/3,n=$("#videoplayer").height()/3;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"})}},videoSeparatedTen:function(e){if($("#"+e).hasClass("video-check")){$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).removeClass("video-check"),$("#videoplayer>div:nth-child(4)").nextAll().hide();var t=50,n=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"}),$("#videoFour").addClass("video-check")}else{$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).addClass("video-check"),$("#videoplayer>div").show(),$("#videoplayer>div:nth-child(10)").nextAll().hide();for(var a="",r=$("#videoplayer>div").length;r<10;r++)a+='<div class="pull-left video-box v-'+i[r]+'"><video autoplay width="100%" height="100%" id="v_'+r+'_Source"><source src="" type="video/mp4"><source src="" type="video/ogg"> video </video></div>';$("#videoplayer").append(a);t=20,n=$("#videoplayer").height()/5;$("#videoplayer>div").css({width:t+"%",height:"calc(100% - (100% - "+n+"px))"});var o=4*t,s=4*n;$("#videoplayer div.v-one").css({width:o+"%",height:"calc(100% - (100% - "+(s-.1)+"px))"})}},videoSeparatedSixteen:function(e,t){if($("#"+e).hasClass("video-check")){$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).removeClass("video-check"),$("#videoplayer>div:nth-child(4)").nextAll().hide();var n=50,a=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:n+"%",height:"calc(100% - (100% - "+a+"px))"}),$("#videoFour").addClass("video-check")}else{$("#videoCont #videoSeparated").find("i").removeClass("video-check"),$("#"+e).addClass("video-check"),$("#videoplayer>div").show(),$("#videoplayer>div:nth-child(16)").nextAll().hide(),$("#video-main-content .videoplayer").css("overflow","auto");for(var r="",o=t||16,s=$("#videoplayer>div").length;s<o;s++)r+='<div class="pull-left video-box v-'+(i[s]?i[s]:s)+'"><video autoplay width="100%" height="100%" id="v_'+s+'_Source"><source src="" type="video/mp4"><source src="" type="video/ogg"> video </video></div>';$("#videoplayer").append(r);n=25,a=$("#videoplayer").height()/4;$("#videoplayer>div").css({width:n+"%",height:"calc(100% - (100% - "+a+"px))"}),t&&$("#videoplayer").css({"overflow-y":"auto"})}},videoFullScreenFn:function(){if(!(!$("#mapAllShow").children().hasClass("fa fa-chevron-left")&&$("#mapAllShow").length>0)){if($(this).hasClass("video-full-screen")){$(this).removeClass("video-full-screen").addClass("video-full-screen-check"),$(".videoplayer-box").css("height","calc(100% - 50px)"),$("#btn-videoRealTime-show").hide(),$("#videoToolCopy").html($("#videoTool").html()).css("display","inline-block"),$("#videoTool").html("").hide();var e=$("#realTimeVideoReal").width();$(".lkyw-realtime-content").css("position","static"),$("#videoCont").css("width",e+"px"),$(".videoDrawer-container").css({width:"100%",left:0}),$(".videoDrawer").css("left",0);var t=$(window).width();$("#videoCont").addClass("pos-fix").css("width",t+"px"),c.videoSeparatedAdaptShow()}else{$("#btn-videoRealTime-show").show(),$(this).removeClass("video-full-screen-check").addClass("video-full-screen"),$(".videoplayer-box").css("height","500px"),$("#videoCont,.videoplayer-box").removeAttr("style"),$(".lkyw-realtime-content").css("position","relative"),$(".videoDrawer-container").css({width:"670px",left:"auto"}),$(".videoDrawer").css("left","auto");e=$("#realTimeVideoReal").width();$("#videoCont").removeClass("pos-fix").css("width",e+"px"),$("#videoTool").html($("#videoToolCopy").html()).css("display","inline-block"),$("#videoToolCopy").html("").hide(),c.videoSeparatedAdaptShow()}$("#videoSelect").on("click",c.videoBtnClick),$("#callSelect").on("click",c.callSelectFun)}},videoSeparatedAdaptShow:function(){if($("#videoFour").hasClass("video-check")){var e=50,t=$("#videoplayer").height()/2;$("#videoplayer>div").css({width:e+"%",height:"calc(100% - (100% - "+t+"px))"})}else if($("#videoSix").hasClass("video-check")){e=100/3,t=$("#videoplayer").height()/3;$("#videoplayer>div").css({width:e+"%",height:"calc(100% - (100% - "+t+"px))"});var n=2*e,i=2*t;$("#videoplayer div.v-one").css({width:n+"%",height:"calc(100% - (100% - "+(i-.1)+"px))"})}else if($("#videoNine").hasClass("video-check")){e=100/3,t=$("#videoplayer").height()/3;$("#videoplayer>div").css({width:e+"%",height:"calc(100% - (100% - "+t+"px))"})}else if($("#videoTen").hasClass("video-check")){e=20,t=$("#videoplayer").height()/5;$("#videoplayer>div").css({width:e+"%",height:"calc(100% - (100% - "+t+"px))"});n=4*e,i=4*t;$("#videoplayer div.v-one").css({width:n+"%",height:"calc(100% - (100% - "+(i-.1)+"px))"})}else if($("#videoSixteen").hasClass("video-check")){e=25,t=$("#videoplayer").height()/4;$("#videoplayer>div").css({width:e+"%",height:"calc(100% - (100% - "+t+"px))"})}},initVideoRealTimeShow:function(e){d=e,l=e.brand;var t=e.vid,n=e.brand;json_ajax("post","/clbs/realTimeVideo/video/getChannels","json",!0,{vehicleId:t,isChecked:!1},(function(e){if(e.success){var t=JSON.parse(ungzip(e.msg));0==t.length?(layer.msg(n+""),r=[],o=[]):(r=t.filter((function(e){return 1!==e.channelType})),o=t.filter((function(e){return 1===e.channelType})),c.sendParamByBatch())}}))},sendParamByBatch:function(){if(r&&0!==r.length){[];var e=[];r.forEach((function(t){1!==t.channelType&&e.push({number:t.logicChannel,streamType:t.streamType,channelType:t.channelType})})),json_ajax("POST","/clbs/v/monitoring/audioAndVideoParameters/"+d.vid,"json",!0,null,(function(t){t.success&&e.length>0&&($("#videoSelect").removeClass("active").addClass("active"),r,c.openTerminalVideo(r,t.obj))}))}else layer.msg(l+"")},callOrder:function(){var e=$("#callSelect");""!==o||e.hasClass("active")?0!==o.length?e.hasClass("active")?(c.callClose(),e.removeClass("active")):(e.addClass("active"),json_ajax("POST","/clbs/v/monitoring/audioAndVideoParameters/"+o[0].vehicleId,"json",!0,null,(function(e){e.success&&c.callPlay(e.obj)}))):layer.msg(""):layer.msg(",")},callPlay:function(e){if(!(o.length<=0)){var t=o[0].vehicleId,i=o[0].logicChannel,a=o[0].streamType,r=(o[0].channelType,o[0].mobile),s=r.length;if(s<12)for(var l=0;l<12-s;l++)r="0"+r;var d="ws://";"https:"===document.location.protocol&&(d="wss://");var c=d+videoRequestUrl+":"+audioRequestPort+"/"+r+"/"+i+"/2",u={vehicleId:o[0].vehicleId,channelNum:o[0].logicChannel,channelType:o[0].channelType,mobile:o[0].mobile,streamType:o[0].streamType},h={vehicleId:t,simcardNumber:r,channelNumber:JSON.stringify(i),sampleRate:e.samplingRateStr||"8000",channelCount:e.vocalTractStr||"0",audioFormat:e.audioFormatStr,playType:"BOTH_WAY",dataType:"2",userID:e.userUuid,deviceID:e.deviceId,streamType:JSON.stringify(a),deviceType:e.deviceType};u.audioMse=new RTPMediaPlayer({url:c,type:"BOTH_WAY",data:h,audioEnabled:!0,videoEnabled:!1,recordEnabled:!0,onMessage:function(e,t){var n=JSON.parse(t);-1005!=n.data.msgBody.code&&-1008!=n.data.msgBody.code&&-1006!=n.data.msgBody.code&&-1004!=n.data.msgBody.code||layer.msg(n.data.msgBody.msg)},socketOpenFun:function(e,t){var n={vehicleId:e.vehicleId,simcardNumber:e.simcardNumber,channelNumber:e.channelNumber,sampleRate:JSON.stringify(e.sampleRate),channelCount:JSON.stringify(e.channelCount),audioFormat:e.audioFormat,playType:e.playType,dataType:JSON.stringify(e.dataType),userID:e.userID,deviceID:e.deviceID,streamType:e.streamType,deviceType:e.deviceType};t.play(n)},openAudioSuccess:function(){},openAudioFail:function(e){layer.msg(e)},socketCloseFun:function(e){}}),n=u}},callClose:function(e,t){var i=n;i&&i.audioMse&&i.audioMse.closeSocket()},openTerminalVideo:function(e,t){$(".video-box h4").html(""),s=null,e.length<=4&&!$("#videoFour").hasClass("video-check")&&$("#videoFour").trigger("click"),e.length>4&&e.length<=6&&!$("#videoSix").hasClass("video-check")&&$("#videoSix").trigger("click"),e.length>6&&e.length<=9&&!$("#videoNine").hasClass("video-check")&&$("#videoNine").trigger("click"),e.length>9&&e.length<=10&&!$("#videoTen").hasClass("video-check")&&$("#videoTen").trigger("click"),e.length>10&&e.length<=16&&!$("#videoSixteen").hasClass("video-check")&&$("#videoSixteen").trigger("click"),e.length>16&&!$("#videoSixteen").hasClass("video-check")&&(s=e.length,$("#videoSixteen").trigger("click")),a=[];var n="ws://";"https:"===document.location.protocol&&(n="wss://");for(var i=0;i<e.length;i++){var o=e[i],l="v_"+i+"_Source",d=o.mobile,u=o.physicsChannel,h=n+videoRequestUrl+":"+videoRequestPort+"/"+d+"/"+u+"/0";c.videoMessage("...",l);var p={domId:l,vehicleId:r[0].vehicleId,simcardNumber:t.simcardNumber,channelNumber:JSON.stringify(u),sampleRate:t.samplingRateStr||"8000",channelCount:t.vocalTractStr||"0",audioFormat:t.audioFormatStr,playType:"REAL_TIME",dataType:"0",userID:t.userUuid,deviceID:t.deviceId,streamType:JSON.stringify(o.streamType),deviceType:t.deviceType},f=new RTPMediaPlayer({domId:l,url:h,data:p,onMessage:function(e,t){var n=JSON.parse(t).data.msgBody.code,i=e.domId;switch(n){case-1004:layer.msg(",",{time:2e3}),c.videoMessage("",i);break;case-1005:c.videoMessage("",i);break;case-1006:c.videoMessage("",i)}},socketOpenFun:function(e,t){var n={vehicleId:e.vehicleId,simcardNumber:e.simcardNumber,channelNumber:e.channelNumber,sampleRate:e.sampleRate,channelCount:e.channelCount,audioFormat:e.audioFormat,playType:e.playType,dataType:e.dataType,userID:e.userID,deviceID:e.deviceID,streamType:e.streamType,deviceType:e.deviceType};t.play(n)},onPlaying:function(e,t){$("#msg_"+e.domId).html(""),$("#videoSelect").addClass("active"),c.videoPlaySuccess(e,t)}}),m={};m.vehicleId=o.vehicleId,m.channelNumber=o.physicsChannel,m.createMseVideoFun=f,m.domId=l,a.push(m)}},videoMessage:function(e,t){var n="msg_"+t;if(0==$("#"+n).length){var i=$("#"+t).parent(),a=document.createElement("h4");a.id=n,$(a).css({position:"absolute",bottom:10,left:"50%",width:"130px",margin:"0 0 0 -65px","text-align":"center","font-weight":"bold"}),$(a).html(e),i.append(a)}else $("#"+n).html(e)},closeTerminalVideo:function(){a.length>0&&($(".video-box h4").html(""),a.forEach((function(e){$("#"+e.domId).replaceWith('<video id="'+e.domId+'" width="100%" height="100%"></video>'),e.createMseVideoFun.closeSocket(),$("#videoSelect").removeClass("active")})))},videoPlaySuccess:function(e,t){$(".video-box").off("dblclick").on("dblclick",c.videoFullShow)},videoFullShow:function(){var e=$(this);e.hasClass("full-video")?e.removeClass("full-video"):e.addClass("full-video")},checkVehicleOnlineStatus:function(e){var t=!0;return json_ajax("POST","/clbs/v/oilmassmgt/oilcalibration/checkVehicleOnlineStatus","json",!1,{vehicleId:e},(function(e){e.success||(t=!1,layer.msg(""))})),t},textInfoSend:function(){if(d){var e=d.brand,t=d.vid;if(!c.checkVehicleOnlineStatus(t))return;$("#textInfoSendBrand").html(""+e),$("#textInfoSend").modal("show"),$("#vid5").val(t)}else layer.msg("")},videoBtnClick:function(){if(d)if($(this).hasClass("active"))$(this).removeClass("active"),c.closeTerminalVideo();else{var e=d.vid;if(!c.checkVehicleOnlineStatus(e))return;c.closeTerminalVideo(),setTimeout((function(){c.sendParamByBatch()}),500)}else layer.msg("")},callSelectFun:function(){if(d){var e=d.vid;if(!c.checkVehicleOnlineStatus(e))return;c.callOrder()}else layer.msg("")},goTxtSend:function(){c.txtSendValidate()&&$("#txtSend").ajaxSubmit((function(e){var t=JSON.parse(e);$("#textInfoSend").modal("hide"),t.success?layer.msg(""):t.msg&&layer.msg(t.msg)}))},txtSendValidate:function(){return $("#txtSend").validate({rules:{sendTextContent:{required:!0,maxlength:512}},messages:{sendTextContent:{required:"",maxlength:"512"}}}).form()}};window.realtimeMonitoringVideoSeparate=c},function(e,t){var n,i=null,a=3,r=0,o=!1,s={init:function(){"false"===$("#adasSwitch").val()&&($("#activeSafetyTab").hide(),$("#btn-videoRealTime-show").hide()),$(".nextBtnBox").click((function(){o||s.scrollLeftAnimate()})),$(".prevBtnBox").click((function(){o||s.scrollRightAnimate()}))},riskInformationDetails:function(e){n=e,{vid:e},json_ajax("POST","/clbs/adas/v/monitoring/getRiskProfessionalsInfo","json",!1,{vehicleId:e},s.listRiskInformationDetails)},listRiskInformationDetails:function(e){if($("#personCompareBtn").removeClass("btn-primary").attr("disabled","disabled"),$("#personComparePhoto").attr("src",""),$("#compareName").text(""),$("#compareCard").text(""),$("#icDriverInfo").addClass("hide"),o=!1,i=$("#driverInfoDiv").width(),$("#infoScrollCont").css("left","0px"),r=0,e.success&&e.obj.length){e=e.obj;e,$("#infoScrollCont").css("width",i*e.length+"px"),a=e.length;for(var t=(new Date).getTime(),n="",l=0;l<e.length;l++)e[l]?(e[l].icCardEndDateStr&&e[l].icCardEndDateStr,n+='<div class="col-md-12 singleInfoCont" style="width:'+i+'px;"><div class="col-md-2 driverPhoto"><img id="driverPhoto" src='+s.handleImgSrc(e[l].photograph)+"?t="+t+'></div><div class="col-md-10 infoCont"><div class="col-md-5">'+s.handleHtml(e[l].name)+'</div><div class="col-md-7">'+s.handleHtml(e[l].type)+'</div><div class="col-md-5">'+s.handleHtml(e[l].phone)+'</div><div class="col-md-7">'+s.handleHtml(e[l].identity)+'</div><div class="col-md-12">'+s.handleHtml(e[l].groupName)+'</div><div class="col-md-12">'+s.handleHtml(e[l].cardNumber)+'</div><div class="col-md-12">'+s.handleHtml(e[l].qualificationCategory)+'</div><div class="col-md-12">'+s.handleHtml(e[l].icCardAgencies)+'</div><div class="col-md-12">'+s.handleHtml(e[l].icCardEndDateStr)+"</div></div></div>"):n+='<div class="col-md-12 singleInfoCont" style="width:'+i+'px;"><div class="col-md-2 driverPhoto"><img  id="driverPhoto" src="/clbs/resources/img/peoplems.png"/></div><div class="col-md-10 infoCont"><div class="col-md-5"></div><div class="col-md-7"></div><div class="col-md-5"></div><div class="col-md-7"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div></div></div>';if(e.length>0&&e[0]&&1==e[0].lockType){var d=e[0].cardNumber,c=e[0].name,u=e[0].identity;o=!0,s.icCardsProfessionals(u+"_"+c),$("#personCompareBtn").removeAttr("disabled").addClass("btn-primary");var h=$(".driverPhoto img").attr("src");$("#personComparePhoto").attr("src",h),$("#compareName").text(c),$("#compareCard").text(d)}}else{$("#infoScrollCont").css("width",i+"px"),a=0;n='<div class="col-md-12 singleInfoCont" style="width:'+i+'px;"><div class="col-md-2 driverPhoto"><img  id="driverPhoto" src="/clbs/resources/img/peoplems.png"/></div><div class="col-md-10 infoCont"><div class="col-md-5"></div><div class="col-md-7"></div><div class="col-md-5"></div><div class="col-md-7"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div><div class="col-md-12"></div></div></div>'}$("#infoScrollCont").html(n)},icCardsProfessionals:function(e){json_ajax("POST","/clbs/m/reportManagement/driverStatistics/getIcCardDriverInfo","json",!0,{vehicleId:n,cardNumber:e},s.getIcCardDriverInfoCB)},getIcCardDriverInfoCB:function(e){if(e.success&&e.obj){var t=e.obj;for(var n in t){var i=t[n];i=i||"--",$("#"+n).text(i)}$("#icDriverInfo").removeClass("hide")}},handleHtml:function(e){return e||""},handleImgSrc:function(e){return e||"/clbs/resources/img/peoplems.png"},scrollLeftAnimate:function(){r<a-1&&(r++,$("#infoScrollCont").css("left","-"+r*i+"px"))},scrollRightAnimate:function(){r>0&&(r--,$("#infoScrollCont").css("left","-"+r*i+"px"))},inquiryDriverInfo:function(e,t,n,i,a){window.event?window.event.cancelBubble=!0:a.stopPropagation(),tableSecurity.setActiveRow(void 0),s.riskInformationDetails(t),$("#callSelect").hasClass("active")&&realtimeMonitoringVideoSeparate.callOrder();dataTableOperation.closePopover(),$("#search_condition").val(i),treeMonitoring.search_condition(),setTimeout((function(){var e=t;$(".ztree li a").removeClass("curSelectedNode_dbClick"),$(".ztree li a").removeClass("curSelectedNode");for(var n=$.fn.zTree.getZTreeObj("treeDemo").getNodesByParam("id",e,null),i=0;i<n.length;i++){var a=n[i].tId,r=$("#"+a).find("a span:eq(1)");setTimeout((function(){r.dblclick()}),1e3)}realtimeMonitoringVideoSeparate.closeTerminalVideo();json_ajax("POST","/clbs/v/oilmassmgt/oilcalibration/checkVehicleOnlineStatus","json",!1,{vehicleId:t},(function(e){e.success?(n.length>0&&s.openVideo(n[0]),TimeFn=setTimeout((function(){var e=t;treeMonitoring.centerMarker(e,"DBLCLICK")}),300)):layer.msg("")}))}),1e3)},openVideo:function(e){var t=$("#btn-videoRealTime-show").children("i");t.hasClass("active")||(t.addClass("active"),$(this).addClass("map-active"),$realTimeVideoReal.addClass("realTimeVideoMove"),$mapPaddCon.addClass("mapAreaTransform"),m_videoFlag=1);var n=new Object;n.vid=e.id,n.brand=e.name,n.deviceNumber=e.deviceNumber,n.plateColor=e.plateColor,n.isVideo=e.isVideo,n.simcardNumber=e.simcardNumber,n,s.riskInformationDetails(e.id),1==m_videoFlag&&(realtimeMonitoringVideoSeparate.closeTerminalVideo(),realtimeMonitoringVideoSeparate.initVideoRealTimeShow(n))}};window.activeSafety=s},function(e,t){function n(e,t){}function i(e,t){a(e||"",t||"")}function a(e,t,n,i){layer.confirm(t||"",{title:e||"",icon:3,move:!1,btn:["",""]},(function(){n&&n(),layer.closeAll()}),(function(){i&&i()}))}function r(e,t,n,a,r){var o={success:function(e,t){e.success?a&&a():(s.attr("checkSubmitFlag",!1),r?r():i("",e.msg))},dataType:"json",clearForm:!0,resetForm:!0,timeout:5e3},s=$("#"+e);s.validate({rules:t||{},messages:n||{},submitHandler:function(e){s.attr("checkSubmitFlag")||(s.attr("checkSubmitFlag",!0),s.ajaxSubmit(o))}});return!1}function o(e,t,n,i,a,o){var s=$("#"+e),l=$("#"+t);r(t,n,i,(function(){l[0].reset(),s.modal("hide"),s.removeData("bs.modal"),a&&a()}),o)}function s(e,t,n,a,r){$.ajax({url:e,type:r||"POST",data:t,error:function(){i()},success:function(e){var t=$.parseJSON(e);t.success?n&&n(e):a?a(e):i("",t.msg)}})}function l(e,t,n,i){var r=function(){s(e,null,t,n,i)};"/clbs/m/infoconfig/infoinput"==e.substr(0,e.lastIndexOf("/"))||"/clbs/m/functionconfig/fence/bindfence"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/workhourmgt/vbbind"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/oilmgt/fluxsensorbind"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/oilmassmgt/oilvehiclesetting"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/workhourmgt/workhoursetting"==e.substr(0,e.lastIndexOf("/"))?a(null,"",r):-1!=e.indexOf("/clbs/adas/standard/param/delete")||-1!=e.indexOf("/clbs/r/riskManagement/DefineSettings/delete_")?a(null,"",r):a(null,"",r)}function d(e,t,n,i,r){var o=function(){s(e,t,n,i,r)};"/clbs/m/infoconfig/infoinput"==e.substr(0,e.lastIndexOf("/"))||"/clbs/m/functionconfig/fence/bindfence"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/workhourmgt/vbbind"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/oilmgt/fluxsensorbind"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/oilmassmgt/oilvehiclesetting"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/obdManager/obdManagerSetting"==e.substr(0,e.lastIndexOf("/"))||"/clbs/v/workhourmgt/workhoursetting"==e.substr(0,e.lastIndexOf("/"))?a(null,"",o):-1!=e.indexOf("/clbs/realTimeVideo/videoSetting/deletemore")||-1!=e.indexOf("/clbs/adas/standard/param/delete")||-1!=e.indexOf("/clbs/r/riskManagement/DefineSettings/deletemore")||-1!=e.indexOf("/clbs/r/riskManagement/DefineSettings/delete_")?a(null,"",o):a(null,"",o)}function c(e,t,n,i,r,o){if(e.checked){var l=function(){e.checked=!1,$(e).bootstrapToggle("destroy"),$(e).bootstrapToggle()};a(null,"",(function(){s(n,null,r,l,o)}),l)}else{var d=function(){e.checked=!0,$(e).bootstrapToggle("destroy"),$(e).bootstrapToggle()};a(null,"",(function(){s(i,null,r,d,o)}),d)}}var u,h=null,p=null;function f(e){layer.load(2);var t=e.pageable,n=!0,i=!0;t||(n=!1,i=!1),null!=p&&(n=p);if(u=$("#"+e.dataTableDiv).DataTable({language:{search:":",processing:"...",loadingRecords:"...",lengthMenu:" _MENU_ ",info:" _START_  _END_  _TOTAL_ ",infoEmpty:"000",infoFiltered:"( _MAX_ )",emptyTable:"",zeroRecords:"",paginate:{first:"",previous:"",next:"",last:""}},dom:e.pageSetting?e.pageSetting:"t<'row'<'col-md-2 col-sm-12 col-xs-12 noPadding'l><'col-md-4 col-sm-12 col-xs-12 noPadding'i><'col-md-6 col-sm-12 col-xs-12 noPadding'p>>",searching:!1,paging:t,destroy:!0,pagingType:"simple_numbers",lengthChange:n,info:i,pageLength:null==h?10:h,lengthMenu:e.lengthMenu?e.lengthMenu:[5,10,20,50,100,200],ordering:!1,processing:!1,serverSide:!0,drawCallback:function(e){layer.closeAll("loading")},ajax:{url:e.listUrl,type:e.type,data:e.ajaxDataParamFun,beforeSend:function(){layer.load(2)},complete:function(t){var n;if(layer.closeAll("loading"),t.responseText.indexOf('<form id="loginForm')>0)window.location.replace("/clbs/login?type=expired");else if(e.sync_address)for(var i,a=t.responseJSON.records,r=0,o=a.length;r<o;r++)null!=(i=a[r].formattedAddress)&&""!==i||setTimeout((n=r,void w(e.dataTableDiv,a[n],e.address_index,n+1)),30)},dataSrc:function(t){if(!t.success)return layer.msg("~"),[];if(""!=e.ajax_callback&&e.ajax_callback(t),"dataTableBind"==e.dataTableDiv&&$("#TabCarBox").hasClass("active")){var n=t.records.length,i=$(window).height();0==n?($("#MapContainer").animate({height:i-80-44-220+"px"}),$("#bingListClick i").attr("class","fa fa-chevron-down")):($("#MapContainer").animate({height:i-80-46*n-220+"px"}),$("#bingListClick i").attr("class","fa fa-chevron-down"))}return e.getAddress&&t.records&&!e.sync_address&&setTimeout((function(){b(e.dataTableDiv,t.records,e.address_index)}),30),t.records}},columnDefs:e.columnDefs,columns:e.columns}),e.dataTable=u,u.on("draw",(function(t,n,i){if(e.enabledChange&&$(".js-switch").bootstrapToggle(),e.showIndexColumn){var a=u.page.info();u.column(0,{search:"applied",order:"applied"}).nodes().each((function(e,t){e.innerHTML=a.start+t+1}))}e.drawCallbackFun&&e.drawCallbackFun(t,n,i)})),$(".toggle-vis").on("change",(function(e){e.preventDefault();var t=u.column($(this).attr("data-column"));t.visible(!t.visible()),$(this).parent().parent().parent().parent().addClass("open")})),"false"==$("#permission").val()){var a=$("#"+e.dataTableDiv+" thead tr th").eq(1).html();if(""!=a&&-1==a.indexOf("checkbox"))return;if(""==a)return void(o=u.column(1)).visible(!o.visible());for(var r=1;r<3;r++){var o;(o=u.column(r)).visible(!o.visible())}}}var m={createNew:function(e){null!=e.pageNumber&&(h=e.pageNumber),null!=e.setPageNumber&&(p=e.setPageNumber);var t={};t.listUrl=e.listUrl,t.editUrl=e.editUrl,t.detailUrl=e.detailUrl,t.deleteUrl=e.deleteUrl,t.deletemoreUrl=e.deletemoreUrl,t.enableUrl=e.enableUrl,t.disableUrl=e.disableUrl,t.columnDefs=e.columnDefs,t.columns=e.columns,t.lengthMenu=e.lengthMenu,t.ajaxDataParamFun=e.ajaxDataParamFun,t.dataTableDiv=e.dataTableDiv,t.showIndexColumn=e.showIndexColumn,t.pageable=e.pageable,t.enabledChange=e.enabledChange,t.suffix=e.suffix?e.suffix:".gsp",t.getAddress=null!=e.getAddress&&e.getAddress,t.address_index=null==e.address_index?"":e.address_index,t.sync_address=null==e.sync_address?"":e.sync_address,t.type=null==e.type?"POST":e.type,t.drawCallbackFun=null==e.drawCallbackFun?"":e.drawCallbackFun,t.ajax_callback=null==e.ajaxCallBack?"":e.ajaxCallBack,t.pageSetting=e.pageSetting||"";return t.drawCallbackFun=function(){e.drawCallbackFun&&e.drawCallbackFun()},t.init=function(){f(t)},t.checkedCancel=function(){$("#checkAll").prop("checked",!1),$("#tableCheckAll").prop("checked",!1),$("input[name=subChk]").prop("checked",!1)},t.refresh=function(){t.checkedCancel(),t.dataTable.draw(!1)},t.requestData=function(){t.checkedCancel(),t.dataTable.draw(!0)},t.filter=function(){t.refresh()},t.add=function(e,n,i,a){o(e,n,i,a,t.requestData)},t.edit=function(e,n,i,a){o(e,n,i,a,t.filter)},t.deleteItem=function(e){var n=t.deleteUrl+e+t.suffix,a=$("#"+t.dataTableDiv+" tbody").children("tr").length,r=parseInt($("#"+t.dataTableDiv+"_wrapper").find(".paginate_button.active a").text());l(n,(function(e){e.msg&&layer.msg(e.msg),t.refresh(),1==a&&1!=r&&t.dataTable.page(r-2).draw(!1)}),(function(e){(e=JSON.parse(e)).msg&&i("",e.msg)}),t.type)},t.deleteItemTwo=function(e){l(t.deleteUrl+e+t.suffix,(function(){t.refresh()}),(function(e){(e=JSON.parse(e)).msg&&i("",e.msg)}),t.type)},t.deleteItems=function(e){var n;for(key in e)n=e[key];var a=t.deletemoreUrl,r=n.split(",").length,o=parseInt($("#"+t.dataTableDiv+"_wrapper").find(".paginate_button.active a").text()),s=$("#"+t.dataTableDiv+" tbody").children("tr").length;d(a,e,(function(){$("#"+t.dataTableDiv+" thead input:checkbox").prop("checked",!1),t.refresh(),1!=o&&r==s&&t.dataTable.page(o-2).draw(!1)}),(function(e){var n=$.parseJSON(e);t.refresh(),i("",n.msg),$("#"+t.dataTableDiv+" thead input:checkbox").prop("checked",!1)}),t.type)},t.relieveItem=function(e){l(t.deleteUrl+e+t.suffix,(function(){t.refresh()}),(function(e){(e=JSON.parse(e)).msg&&i("",e.msg)}),t.type)},t.relieveItems=function(e){d(t.deletemoreUrl,e,(function(){$("#"+t.dataTableDiv+" input:checkbox").prop("checked",!1),t.refresh()}),(function(e){var n=$.parseJSON(e);n.msg&&layer.msg(n.msg),t.refresh(),i("",n.msg)}),t.type)},t.deleteAlarmSettingsItems=function(e){d(t.deletemoreUrl,e,(function(){var e=new Array,n=settingMoreUrl.replace("{id}.gsp",e.toString()+".gsp?deviceType=0");$("#settingMoreBtn").attr("href",n),t.refresh()}),(function(e){(e=JSON.parse(e)).msg&&i("",e.msg)}),t.type)},t.deleteAlarmSettingsItem=function(e){l(t.deleteUrl+e+t.suffix,(function(){var e=new Array,n=settingMoreUrl.replace("{id}.gsp",e.toString()+".gsp?deviceType=0");$("#settingMoreBtn").attr("href",n),t.refresh()}),(function(e){(e=JSON.parse(e)).msg&&i("",e.msg)}),t.type)},t.changeEnabled=function(e,n){c(e,0,t.enableUrl+n+t.suffix,t.disableUrl+n+t.suffix,t.type)},t}},g=function(e,t){layer.prompt({formType:1,closeBtn:0,btn:["",""],title:"",btn2:function(){return window.location.href=e,!1}},(function(e,n,a){if(e)if(e.length<6)i("","");else if(e.length>25)i("","");else{s(t,{userPass:e},(function(){layer.close(n)}),(function(){return i("",""),!1}),tg_table.type)}}))};var v,y=0;function b(e,t,n){y=0;for(var i=[],a=0,r=t.length;a<r;a++){var o=[],s=t[a].longtitude+","+t[a].latitude;o=null==s||!/^(180\.0{4,7}|(\d{1,2}|1([0-7]\d))\.\d{4,20})(,)(90\.0{4,8}|(\d|[1-8]\d)\.\d{4,20})$/.test(s)&&"0.0,0.0"!==s?["124.411991","29.043817"]:[t[a].longtitude,t[a].latitude],i.push(o)}i.length>0&&C(e,i,n)}function w(e,t,n,i){var a=[],r=t.longtitude+","+t.latitude;a=null==r||!/^(180\.0{4,7}|(\d{1,2}|1([0-7]\d))\.\d{4,20})(,)(90\.0{4,8}|(\d|[1-8]\d)\.\d{4,20})$/.test(r)&&"0.0,0.0"!==r?["124.411991","29.043817"]:[t.longtitude,t.latitude],$.ajax({type:"post",url:"/clbs/v/monitoring/getAddress",dataType:"json",async:!0,data:{lnglatXYs:a},traditional:!0,timeout:3e4,success:function(t){if(null==t.success){var r=t;if("AddressNull"==r){var o=new AMap.Geocoder({radius:1e3,extensions:"base"});o.getAddress(a),AMap.event.addListener(o,"complete",(function(t){var r;if("NO_DATA"==t.info)r="";else{r=t.regeocode.formattedAddress;var o=_(t,a[0],a[1]);$.ajax({type:"POST",url:"/clbs/v/monitoring/setAddress",dataType:"json",async:!0,data:{addressNew:o},traditional:!1,timeout:3e4})}$("#"+e).children("tbody").children("tr:nth-child("+i+")").children("td:nth-child("+n+")").text(r)}))}else{var s=r;$("#"+e).children("tbody").children("tr:nth-child("+i+")").children("td:nth-child("+n+")").text(s)}}else{s="";$("#"+e).children("tbody").children("tr:nth-child("+i+")").children("td:nth-child("+n+")").text(s)}}})}function C(e,t,n){var i=t[y];$.ajax({type:"post",url:"/clbs/v/monitoring/getAddress",dataType:"json",async:!0,data:{lnglatXYs:i},traditional:!0,timeout:3e4,success:function(a){if(null==a.success){var r=a;if("AddressNull"==r){var o=new AMap.Geocoder({radius:1e3,extensions:"base"});o.getAddress(i),AMap.event.addListener(o,"complete",(function(a){var r;if(y++,"NO_DATA"==a.info)r="";else{r=a.regeocode.formattedAddress;var o=_(a,i[0],i[1]);$.ajax({type:"POST",url:"/clbs/v/monitoring/setAddress",dataType:"json",async:!0,data:{addressNew:o},traditional:!1,timeout:3e4})}$("#"+e).children("tbody").children("tr:nth-child("+y+")").children("td:nth-child("+n+")").text(r),y<t.length&&C(e,t,n)}))}else{y++;var s=r;$("#"+e).children("tbody").children("tr:nth-child("+y+")").children("td:nth-child("+n+")").text(s),y<t.length&&C(e,t,n)}}else{y++;s="";$("#"+e).children("tbody").children("tr:nth-child("+y+")").children("td:nth-child("+n+")").text(s),y<t.length&&C(e,t,n)}}})}function _(e,t,n){var i={longitude:t.substring(0,t.lastIndexOf(".")+4),latitude:n.substring(0,n.lastIndexOf(".")+4),adcode:e.regeocode.addressComponent.adcode,building:e.regeocode.addressComponent.building,buildingType:e.regeocode.addressComponent.buildingType,city:e.regeocode.addressComponent.city,cityCode:e.regeocode.addressComponent.citycode,district:e.regeocode.addressComponent.district,neighborhood:e.regeocode.addressComponent.neighborhood,neighborhoodType:e.regeocode.addressComponent.neighborhoodType,province:e.regeocode.addressComponent.province,street:e.regeocode.addressComponent.street,streetNumber:e.regeocode.addressComponent.streetNumber,township:e.regeocode.addressComponent.township,crosses:"",pois:"",roads:e.regeocode.roads.name,formattedAddress:e.regeocode.formattedAddress};return JSON.stringify(i)}function v(e){v=$("#"+e).DataTable({destroy:!0,dom:"tiprl",lengthChange:!0,bPaginate:!0,bFilter:!1,searching:!0,ordering:!1,Info:!0,autoWidth:!0,stripeClasses:[],pageLength:10,lengthMenu:[5,10,20,50,100,200],pagingType:"simple_numbers",dom:"t<'row'<'col-md-2 col-sm-12 col-xs-12 noPadding noPadding'l><'col-md-4 col-sm-12 col-xs-12 noPadding'i><'col-md-6 col-sm-12 col-xs-12 noPadding'p>>",oLanguage:{oAria:{sSortAscending:" - click/return to sort ascending",sSortDescending:" - click/return to sort descending"},sLengthMenu:" _MENU_ ",sInfo:" _START_  _END_  _TOTAL_ ",sZeroRecords:"",sEmptyTable:"",sLoadingRecords:"-...",sInfoEmpty:"000",sInfoFiltered:" _MAX_ ",sProcessing:"<img src='../resources/user_share/row_details/select2-spinner.gif'/> ...",sSearch:"",sUrl:"",oPaginate:{sFirst:"",sPrevious:"  ",sNext:"  ",sLast:"  "}},order:[[0,null]]})}window.tg_alertSuccess=n,window.tg_alertInfo=function(e,t){},window.tg_alertWarning=function(e,t){},window.tg_alertError=i,window.tg_confirmDialog=a,window.tg_baseFormAjaxSubmit=r,window.tg_formWinAjaxSubmit=o,window.tg_simpleAjaxPost=s,window.tg_dleteItem=l,window.tg_dleteItems=d,window.tg_changeEnabled=c,window.tg_createTable=f,window.TG_Tabel=m,window.lockSucPrompt=g,window.tg_lock=function(e,t,n){s(e,null,(function(){g(t,n)}),null,tg_table.type)},window.tg_checkLock=function(e,t,n){s(e,null,(function(){g(t,n)}),(function(){}),tg_table.type)},window.geocoder_CallBack=b,window.formatted_address=w,window.getAddress=C,window.getaddressParticulars=_,window.getTable=v,window.reloadData=function(e){var t=v.page();v.clear(),v.rows.add(e),v.page(t).draw(!1)}},function(e,t,n){},function(e,t,n){"use strict";var i=n(3),a=n(25),r=n(125),o=n(31);function s(e){var t=new r(e),n=a(r.prototype.request,t);return i.extend(n,r.prototype,t),i.extend(n,t),n}var l=s(n(28));l.Axios=r,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=n(32),l.CancelToken=n(139),l.isCancel=n(27),l.all=function(e){return Promise.all(e)},l.spread=n(140),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var i=n(3),a=n(26),r=n(126),o=n(127),s=n(31);function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,a){return this.request(i.merge(a||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var i=n(3);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,n){"use strict";var i=n(3),a=n(128),r=n(27),o=n(28);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t){var n,i,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new f(e,t)),1!==d.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(30);e.exports=function(e,t,n){var a=n.config.validateStatus;!a||a(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,a){return e.config=t,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var i=n(134),a=n(135);e.exports=function(e,t){return e&&!i(t)?a(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(3),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var i=n(3);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=i.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(3);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,a,r,o){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(32);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=[n(142),n(147),n(38),n(39),n(18)(n(39)),n(43),n(18)(n(43)),n(44),n(153),n(18)(n(44)),n(154)]},function(e,t,n){"use strict";var i=n(6),a=n(4),r=n(0),o=n(2).EventEmitter,s=n(146);function l(e,t,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this,d=a.addPath(e,"/websocket");d="https"===d.slice(0,5)?"wss"+d.slice(5):"ws"+d.slice(4),this.url=d,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){e.data,r.emit("message",e.data)},this.unloadRef=i.unloadAdd((function(){r.ws.close()})),this.ws.onclose=function(e){e.code,e.reason,r.emit("close",e.code,e.reason),r._cleanup()},this.ws.onerror=function(e){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}r(l,o),l.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},l.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},l.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return!!s},l.transportName="websocket",l.roundTrips=2,e.exports=l},function(e,t,n){"use strict";(function(t){t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,n(1))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function r(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,a,o=[];for(a in"string"!=typeof t&&(t="?"),e)if(i.call(e,a)){if((n=e[a])||null!=n&&!isNaN(n)||(n=""),a=r(a),n=r(n),null===a||null===n)continue;o.push(a+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var r=a(t[1]),o=a(t[2]);null===r||null===o||r in i||(i[r]=o)}return i}},function(e,t,n){"use strict";(function(t){var n=t.WebSocket||t.MozWebSocket;e.exports=n?function(e){return new n(e)}:void 0}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i=n(0),a=n(9),r=n(15),o=n(16),s=n(10),l=n(11);function d(e){if(!s.enabled&&!o.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/xhr_streaming",r,o)}i(d,a),d.enabled=function(e){return!e.nullOrigin&&(!l.isOpera()&&o.enabled)},d.transportName="xhr-streaming",d.roundTrips=2,d.needBody=!!t.document,e.exports=d}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(2).EventEmitter;function r(e,t){a.call(this),this.sendBuffer=[],this.sender=t,this.url=e}i(r,a),r.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){t.sendStop=null,t.sendSchedule()}),25)},r.prototype.sendSchedule=function(){this.sendBuffer.length;var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=r},function(e,t,n){"use strict";var i=n(0),a=n(2).EventEmitter;function r(e,t,n){a.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}i(r,a),r.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){e.emit("message",t)})),t.once("close",(function(n,i){e.pollIsClosing,e.poll=t=null,e.pollIsClosing||("network"===i?e._scheduleReceiver():(e.emit("close",n||1006,i),e.removeAllListeners()))}))},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=r},function(e,t,n){"use strict";var i=n(0),a=n(2).EventEmitter,r=n(40);function o(e){a.call(this);var t=this,n=this.es=new r(e);n.onmessage=function(e){e.data,t.emit("message",decodeURI(e.data))},n.onerror=function(e){n.readyState;var i=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(i)}}i(o,a),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},o.prototype._close=function(e){var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=o},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(t){var i=n(0),a=n(12),r=n(4),o=n(2).EventEmitter,s=n(8);function l(e){o.call(this);var n=this;a.polluteGlobalNamespace(),this.id="a"+s.string(6),e=r.addQuery(e,"c="+decodeURIComponent(a.WPrefix+"."+this.id)),l.htmlfileEnabled;var i=l.htmlfileEnabled?a.createHtmlfile:a.createIframe;t[a.WPrefix][this.id]={start:function(){n.iframeObj.loaded()},message:function(e){n.emit("message",e)},stop:function(){n._cleanup(),n._close("network")}},this.iframeObj=i(e,(function(){n._cleanup(),n._close("permanent")}))}i(l,o),l.prototype.abort=function(){this._cleanup(),this._close("user")},l.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete t[a.WPrefix][this.id]},l.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},l.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in t)try{l.htmlfileEnabled=!!new t[d]("htmlfile")}catch(e){}l.enabled=l.htmlfileEnabled||a.iframeEnabled,e.exports=l}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(9),r=n(38),o=n(15),s=n(17);function l(e){if(!s.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/xhr",o,s)}i(l,a),l.enabled=r.enabled,l.transportName="xdr-polling",l.roundTrips=2,e.exports=l},function(e,t,n){"use strict";(function(t){var i=n(0),a=n(36),r=n(155),o=n(156);function s(e){if(!s.enabled())throw new Error("Transport created when disabled");a.call(this,e,"/jsonp",o,r)}i(s,a),s.enabled=function(){return!!t.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i=n(12),a=n(8),r=n(11),o=n(4),s=n(0),l=n(2).EventEmitter;function d(e){var n=this;l.call(this),i.polluteGlobalNamespace(),this.id="a"+a.string(6);var r=o.addQuery(e,"c="+encodeURIComponent(i.WPrefix+"."+this.id));t[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(r),this.timeoutId=setTimeout((function(){n._abort(new Error("JSONP script loaded abnormally (timeout)"))}),d.timeout)}s(d,l),d.prototype.abort=function(){if(t[i.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},d.timeout=35e3,d.scriptErrorTimeout=1e3,d.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},d.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},d.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete t[i.WPrefix][this.id]},d.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),d.scriptErrorTimeout))},d.prototype._createScript=function(e){var n,i=this,o=this.script=t.document.createElement("script");if(o.id="a"+a.string(8),o.src=e,o.type="text/javascript",o.charset="UTF-8",o.onerror=this._scriptError.bind(this),o.onload=function(){i._abort(new Error("JSONP script loaded abnormally (onload)"))},o.onreadystatechange=function(){if(o.readyState,/loaded|closed/.test(o.readyState)){if(o&&o.htmlFor&&o.onclick){i.loadedOkay=!0;try{o.onclick()}catch(e){}}o&&i._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===o.async&&t.document.attachEvent)if(r.isOpera())(n=this.script2=t.document.createElement("script")).text="try{var a = document.getElementById('"+o.id+"'); if(a)a.onerror();}catch(x){};",o.async=n.async=!1;else{try{o.htmlFor=o.id,o.event="onclick"}catch(e){}o.async=!0}void 0!==o.async&&(o.async=!0);var s=t.document.getElementsByTagName("head")[0];s.insertBefore(o,s.firstChild),n&&s.insertBefore(n,s.firstChild)},e.exports=d}).call(this,n(1))},function(e,t,n){"use strict";(function(t){var i,a,r=n(8),o=n(4);e.exports=function(e,n,s){i||((i=t.document.createElement("form")).style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",(a=t.document.createElement("textarea")).name="d",i.appendChild(a),t.document.body.appendChild(i));var l="a"+r.string(8);i.target=l,i.action=o.addQuery(o.addPath(e,"/jsonp_send"),"i="+l);var d=function(e){try{return t.document.createElement('<iframe name="'+e+'">')}catch(i){var n=t.document.createElement("iframe");return n.name=e,n}}(l);d.id=l,d.style.display="none",i.appendChild(d);try{a.value=n}catch(e){}i.submit();var c=function(e){d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout((function(){d.parentNode.removeChild(d),d=null}),500),a.value="",s(e))};return d.onerror=function(){c()},d.onload=function(){c()},d.onreadystatechange=function(e){d.readyState,"complete"===d.readyState&&c()},function(){c(new Error("Aborted"))}}}).call(this,n(1))},function(e,t,n){"use strict";(function(t){n(158);var i,a=n(34),r=n(0),o=n(5),s=n(8),l=n(159),d=n(4),c=n(6),u=n(160),h=n(19),p=n(11),f=n(161),m=n(20),g=n(35),v=n(45),y=n(162),b=n(163),w=n(164);function C(e,t,n){if(!(this instanceof C))return new C(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=C.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(i)}}this._server=n.server||s.numberString(1e3);var r=new a(e);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==r.protocol&&"https:"!==r.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var o="https:"===r.protocol;if("https:"===v.protocol&&!o&&!d.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var l=t.sort();l.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<l.length-1&&e===l[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var c=d.getOrigin(v.href);this._origin=c?c.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:d.isOriginEqual(this.url,v.href),sameScheme:d.isSchemeEqual(this.url,v.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function _(e){return 1e3===e||e>=3e3&&e<=4999}r(C,g),C.prototype.close=function(e,t){if(e&&!_(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==C.CLOSING&&this.readyState!==C.CLOSED){this._close(e||1e3,t||"Normal closure",!0)}},C.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===C.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===C.OPEN&&this._transport.send(l.quote(e))},C.version=n(42),C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=h.extend(e,this._urlInfo);var n=i.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},C.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(e.transportName,e.needBody&&(!t.document.body||void 0!==t.document.readyState&&"complete"!==t.document.readyState&&"interactive"!==t.document.readyState))return this._transports.unshift(e),void c.attachEvent("load",this._connect.bind(this));var n=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),n);var i=d.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),a=this._transportOptions[e.transportName],r=new e(i,this._transUrl,a);return r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=e.transportName,void(this._transport=r)}this._close(2e3,"All transports failed",!1)},C.prototype._transportTimeout=function(){this.readyState===C.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},C.prototype._transportMessage=function(e){var t,n=this,i=e.slice(0,1),a=e.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new m("heartbeat")),void this.transport}if(a)try{t=o.parse(a)}catch(e){}if(void 0!==t)switch(i){case"a":Array.isArray(t)&&t.forEach((function(e){n.transport,n.dispatchEvent(new b(e))}));break;case"m":this.transport,this.dispatchEvent(new b(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},C.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),_(e)||2e3===e||this.readyState!==C.CONNECTING?this._close(e,t):this._connect()},C.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===C.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=C.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new m("open")),this.transport):this._close(1006,"Server lost session")},C.prototype._close=function(e,t,n){this.transport,this.readyState;var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===C.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=C.CLOSING,setTimeout(function(){this.readyState=C.CLOSED,i&&this.dispatchEvent(new m("error"));var a=new y("close");a.wasClean=n||!1,a.code=e||1e3,a.reason=t,this.dispatchEvent(a),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},C.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return i=u(e),n(167)(C,e),C}}).call(this,n(1))},function(e,t,n){"use strict";var i,a=Array.prototype,r=Object.prototype,o=Function.prototype,s=String.prototype,l=a.slice,d=r.toString,c=function(e){return"[object Function]"===r.toString.call(e)},u=function(e){return"[object String]"===d.call(e)},h=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();i=h?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)};var p=function(e,t,n){for(var a in t)r.hasOwnProperty.call(t,a)&&i(e,a,t[a],n)},f=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function m(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function g(){}p(o,{bind:function(e){var t=this;if(!c(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=l.call(arguments,1),i=function(){if(this instanceof s){var i=t.apply(this,n.concat(l.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(l.call(arguments)))},a=Math.max(0,t.length-n.length),r=[],o=0;o<a;o++)r.push("$"+o);var s=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this, arguments); }")(i);return t.prototype&&(g.prototype=t.prototype,s.prototype=new g,g.prototype=null),s}}),p(Array,{isArray:function(e){return"[object Array]"===d.call(e)}});var v,y,b,w=Object("a"),C="a"!==w[0]||!(0 in w);p(a,{forEach:function(e){var t=f(this),n=C&&u(this)?this.split(""):t,i=arguments[1],a=-1,r=n.length>>>0;if(!c(e))throw new TypeError;for(;++a<r;)a in n&&e.call(i,n[a],a,t)}},(v=a.forEach,y=!0,b=!0,v&&(v.call("foo",(function(e,t,n){"object"!=typeof n&&(y=!1)})),v.call([1],(function(){b="string"==typeof this}),"x")),!(v&&y&&b)));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(a,{indexOf:function(e){var t=C&&u(this)?this.split(""):f(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=m(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},_);var x,T=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(x=void 0===/()??/.exec("")[1],s.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==d.call(e))return T.call(this,e,t);var i,r,o,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),u=0;for(e=new RegExp(e.source,c+"g"),n+="",x||(i=new RegExp("^"+e.source+"$(?!\\s)",c)),t=void 0===t?-1>>>0:t>>>0;(r=e.exec(n))&&!((o=r.index+r[0].length)>u&&(l.push(n.slice(u,r.index)),!x&&r.length>1&&r[0].replace(i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)})),r.length>1&&r.index<n.length&&a.push.apply(l,r.slice(1)),s=r[0].length,u=o,l.length>=t));)e.lastIndex===r.index&&e.lastIndex++;return u===n.length?!s&&e.test("")||l.push(""):l.push(n.slice(u)),l.length>t?l.slice(0,t):l}):"0".split(void 0,0).length&&(s.split=function(e,t){return void 0===e&&0===t?[]:T.call(this,e,t)});var S=s.substr,k="".substr&&"b"!=="0b".substr(-1);p(s,{substr:function(e,t){return S.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},k)},function(e,t,n){"use strict";var i,a=n(5),r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var t=a.stringify(e);return r.lastIndex=0,r.test(t)?(i||(i=function(e){var t,n={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,(function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,n}(r)),t.replace(r,(function(e){return i[e]}))):t}}},function(e,t,n){"use strict";e.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)):e.transportName))})),i}}}},function(e,t,n){"use strict";(function(t){var n={};["log","debug","warn"].forEach((function(e){var i;try{i=t.console&&t.console[e]&&t.console[e].apply}catch(e){}n[e]=i?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log})),e.exports=n}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),a=n(20);function r(){a.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}i(r,a),e.exports=r},function(e,t,n){"use strict";var i=n(0),a=n(20);function r(e){a.call(this),this.initEvent("message",!1,!1),this.data=e}i(r,a),e.exports=r},function(e,t,n){"use strict";var i=n(2).EventEmitter,a=n(0),r=n(4),o=n(17),s=n(16),l=n(10),d=n(165),c=n(166),u=n(47);function h(e,t){var n=this;i.call(this),setTimeout((function(){n.doXhr(e,t)}),0)}a(h,i),h._getReceiver=function(e,t,n){return n.sameOrigin?new u(t,l):s.enabled?new u(t,s):o.enabled&&n.sameScheme?new u(t,o):c.enabled()?new c(e,t):new u(t,d)},h.prototype.doXhr=function(e,t){var n=this,i=r.addPath(e,"/info");this.xo=h._getReceiver(e,i,t),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),h.timeout),this.xo.once("finish",(function(e,t){n._cleanup(!0),n.emit("finish",e,t)}))},h.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,e.exports=h},function(e,t,n){"use strict";var i=n(2).EventEmitter;function a(){var e=this;i.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),a.timeout)}n(0)(a,i),a.prototype.close=function(){clearTimeout(this.to)},a.timeout=2e3,e.exports=a},function(e,t,n){"use strict";(function(t){var i=n(2).EventEmitter,a=n(0),r=n(5),o=n(6),s=n(41),l=n(46);function d(e,n){var a=this;i.call(this);var d=function(){var t=a.ifr=new s(l.transportName,n,e);t.once("message",(function(e){if(e){var t;try{t=r.parse(e)}catch(e){return a.emit("finish"),void a.close()}var n=t[0],i=t[1];a.emit("finish",n,i)}a.close()})),t.once("close",(function(){a.emit("finish"),a.close()}))};t.document.body?d():o.attachEvent("load",d)}a(d,i),d.enabled=function(){return s.enabled()},d.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=d}).call(this,n(1))},function(e,t,n){"use strict";var i=n(4),a=n(6),r=n(5),o=n(168),s=n(46),l=n(12),d=n(45);e.exports=function(e,t){var n,c={};t.forEach((function(e){e.facadeTransport&&(c[e.facadeTransport.transportName]=e.facadeTransport)})),c[s.transportName]=s,e.bootstrap_iframe=function(){var t;l.currentWindowId=d.hash.slice(1);a.attachEvent("message",(function(a){if(a.source===parent&&(void 0===n&&(n=a.origin),a.origin===n)){var s;try{s=r.parse(a.data)}catch(e){return void a.data}if(s.windowId===l.currentWindowId)switch(s.type){case"s":var u;try{u=r.parse(s.data)}catch(e){s.data;break}var h=u[0],p=u[1],f=u[2],m=u[3];if(h!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+h+'", the iframe: "'+e.version+'".');if(!i.isOriginEqual(f,d.href)||!i.isOriginEqual(m,d.href))throw new Error("Can't connect to different domain from within an iframe. ("+d.href+", "+f+", "+m+")");t=new o(new c[p](f,m));break;case"m":t._send(s.data);break;case"c":t&&t._close(),t=null}}})),l.postMessage("s")}}},function(e,t,n){"use strict";var i=n(5),a=n(12);function r(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}r.prototype._transportClose=function(e,t){a.postMessage("c",i.stringify([e,t]))},r.prototype._transportMessage=function(e){a.postMessage("t",e)},r.prototype._send=function(e){this._transport.send(e)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=r},function(e,t,n){(function(){var e,i,a,r,o,s;e=n(49),i=n(50),e.Stomp.setInterval=function(e,t){return setInterval(t,e)},e.Stomp.clearInterval=function(e){return clearInterval(e)},o=function(e,t){var n,a;return n=null,a={url:"tcp:// "+t+":"+e,send:function(e){return n.write(e)},close:function(){return n.end()}},(n=i.connect(e,t,(function(e){return a.onopen()}))).on("error",(function(e){return"function"==typeof a.onclose?a.onclose(e):void 0})),n.on("close",(function(e){return"function"==typeof a.onclose?a.onclose(e):void 0})),n.on("data",(function(e){var t;return t={data:e.toString()},a.onmessage(t)})),a},s=function(e){var t,i,a,r;return t=n(170).client,i=null,r={url:e,send:function(e){return i.sendUTF(e)},close:function(){return i.close()}},(a=new t).on("connect",(function(e){return i=e,r.onopen(),i.on("error",(function(e){return"function"==typeof r.onclose?r.onclose(e):void 0})),i.on("close",(function(){return"function"==typeof r.onclose?r.onclose():void 0})),i.on("message",(function(e){var t;if("utf8"===e.type)return t={data:e.utf8Data},r.onmessage(t)}))})),a.connect(e),r},a=function(t,n){var i;return i=o(n,t),e.Stomp.over(i)},r=function(t){var n;return n=s(t),e.Stomp.over(n)},t.overTCP=a,t.overWS=r}).call(this)},function(e,t,n){var i;try{i=n(171)}catch(e){}finally{if(i||"undefined"==typeof window||(i=window),!i)throw new Error("Could not determine global this")}var a=i.WebSocket||i.MozWebSocket,r=n(172);function o(e,t){return t?new a(e,t):new a(e)}a&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return a[e]}})})),e.exports={w3cwebsocket:a?o:null,version:r}},function(e,t){var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){e.exports=n(173).version},function(e){e.exports=JSON.parse('{"name":"websocket","description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"author":"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)","contributors":["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],"version":"1.0.32","repository":{"type":"git","url":"https://github.com/theturtle32/WebSocket-Node.git"},"homepage":"https://github.com/theturtle32/WebSocket-Node","engines":{"node":">=4.0.0"},"dependencies":{"bufferutil":"^4.0.1","debug":"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2","yaeti":"^0.0.6"},"devDependencies":{"buffer-equal":"^1.0.0","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1","jshint":"^2.0.0","tape":"^4.9.1"},"config":{"verbose":false},"scripts":{"test":"tape test/unit/*.js","gulp":"gulp"},"main":"index","directories":{"lib":"./lib"},"browser":"lib/browser.js","license":"Apache-2.0"}')},function(e,t,n){}]);